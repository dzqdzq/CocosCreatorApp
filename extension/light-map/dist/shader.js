"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class Shader{constructor(r,t,o){this.vertexSource=t,this.fragmentSource=o,this.program=this.initShaderProgram(r,t,o),this.gl=r}loadShader(r,t,o){const e=r.createShader(t);return r.shaderSource(e,o),r.compileShader(e),r.getShaderParameter(e,r.COMPILE_STATUS)?e:(console.error(o+"An error occurred compiling the shaders: "+r.getShaderInfoLog(e)),r.deleteShader(e),null)}initShaderProgram(r,t,o){const e=this.loadShader(r,r.VERTEX_SHADER,t),i=this.loadShader(r,r.FRAGMENT_SHADER,o),a=r.createProgram();return r.attachShader(a,e),r.attachShader(a,i),r.linkProgram(a),r.getProgramParameter(a,r.LINK_STATUS)?a:(console.error("Unable to initialize the shader program: "+r.getProgramInfoLog(a)),null)}setUniform(r,t){this.program&&this.gl.uniform1i(this.gl.getUniformLocation(this.program,r),t)}setVec2(r,t,o){this.program&&("number"==typeof o&&"number"==typeof t?this.gl.uniform2f(this.gl.getUniformLocation(this.program,r),t,o):"number"!=typeof t&&this.gl.uniform2fv(this.gl.getUniformLocation(this.program,r),t))}setVec3(r,t,o,e){this.program&&("number"==typeof o&&"number"==typeof t&&"number"==typeof e?this.gl.uniform3f(this.gl.getUniformLocation(this.program,r),t,o,e):"number"!=typeof t&&this.gl.uniform3fv(this.gl.getUniformLocation(this.program,r),t))}setVec4(r,t,o,e,i){this.program&&("number"==typeof o&&"number"==typeof t&&"number"==typeof e&&"number"==typeof i?this.gl.uniform4f(this.gl.getUniformLocation(this.program,r),t,o,e,i):"number"!=typeof t&&this.gl.uniform4fv(this.gl.getUniformLocation(this.program,r),t))}setMat2(r,t){this.program&&this.gl.uniformMatrix2fv(this.gl.getUniformLocation(this.program,r),!1,t)}setMat3(r,t){this.program&&this.gl.uniformMatrix3fv(this.gl.getUniformLocation(this.program,r),!1,t)}setMat4(r,t){this.program&&this.gl.uniformMatrix4fv(this.gl.getUniformLocation(this.program,r),!1,t)}use(){this.gl.useProgram(this.program)}}exports.default=Shader;