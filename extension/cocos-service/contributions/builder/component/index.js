const _0x4380=["csLogger","stringify","__importStar","service_component_name","removeBroadcastListener","160675","changeSDKHubStatus","find","sdkHubConfig","readServiceList","160564","readBindGame","update","Message","success","huawei-agc","validateString","readEnableServices","getConfig","csBuilder","showSDKHub","packages.cocos-service.","config","template","setConfig","sdkhub_config_id","https://download.cocos.com/CocosUdc/agreement/Cocos_Privacy_Policy_cn_20200904.html","addBroadcastListener","configs","showAnalytics","writeServiceParam","parse","dispatch","service-sdkhub","161221","readFile","161248","161249","csEditor","pkgOptions","ready","length","161251","service:refresh-panel","sdkHubConfigID","#cocos-service-builder","readConfigSet","160697","sendMsg","platform","serviceTips","showSDKHubPlugins","warn","shift","requestMsg","prototype","0px","3.1.0","services","generateServiceConfigInfo","style","showAnalyticsProtocol","builder.config_set.used_service","iOS","config_id","enable-service","readConfigSets","removeAllListeners","csUtil","debug","packages","includes","cocos-service","target","productionTip","enableServices","sdkHubConfigs","__createBinding","readSDKHubConfigSet","readServiceParam","changeEnableServiceTips","getLang","csConfig","service-data-change","enableAnalytics","$refs","supportSDKHub","__setModuleDefault","configID","../../../vue","../../../utils","__esModule","service-analytics","getComplexType","open-service-panel","csFile","android","fetchData","160690","openCocosUrl","devtools","plugin","default","has","emit","Profile","refresh","Android","emitChange","create","refreshPanel","findIndex","-3px","call","changeAnalyticsStatus","csEvent"];!function(e,i){!function(i){for(;--i;)e.push(e.shift())}(++i)}(_0x4380,329);const _0x483a=function(e,i){return _0x4380[e-=334]},_0x1b958a=_0x483a,_0x1627=["plugin-msg",_0x1b958a(370),_0x1b958a(363),_0x1b958a(373),_0x1b958a(420),_0x1b958a(408),"csEvent",_0x1b958a(438),"https://download.cocos.com/CocosUdc/agreement/Cocos_User_Service_Agreement_cn_20200904.html","store_id",_0x1b958a(349),_0x1b958a(388),"ready",_0x1b958a(340),_0x1b958a(387),_0x1b958a(369),_0x1b958a(355),"builder-options",_0x1b958a(354),_0x1b958a(347),_0x1b958a(439),_0x1b958a(343),"160691","plugin",_0x1b958a(378),_0x1b958a(405),"close",_0x1b958a(366),_0x1b958a(395),"pkgOptions",_0x1b958a(417),_0x1b958a(346),_0x1b958a(385),_0x1b958a(425),_0x1b958a(445),"161252",_0x1b958a(431),_0x1b958a(390),_0x1b958a(368),_0x1b958a(402),_0x1b958a(448),"configs",_0x1b958a(428),_0x1b958a(401),_0x1b958a(427),_0x1b958a(351),_0x1b958a(345),_0x1b958a(415),_0x1b958a(357),_0x1b958a(376),"builder.config_set.want_edit",_0x1b958a(403),_0x1b958a(384),_0x1b958a(416),_0x1b958a(413),"filter","sdkHubConfig",_0x1b958a(358),_0x1b958a(412),_0x1b958a(337),_0x1b958a(426),_0x1b958a(362),_0x1b958a(396),_0x1b958a(433),_0x1b958a(394),_0x1b958a(359),"../common",_0x1b958a(371),_0x1b958a(429),_0x1b958a(447),_0x1b958a(377),_0x1b958a(380),"$nextTick",_0x1b958a(339),_0x1b958a(391),_0x1b958a(423),_0x1b958a(437),"checked","app_id",_0x1b958a(446),"csConfig","./index.css",_0x1b958a(414),"service_id",_0x1b958a(442),_0x1b958a(418),_0x1b958a(441),_0x1b958a(336),_0x1b958a(360),_0x1b958a(356),_0x1b958a(335),"../sdkhub-helper",_0x1b958a(422),"cocos-service:service-data-change","defineProperty",_0x1b958a(398),_0x1b958a(342),"csLogger",_0x1b958a(341),_0x1b958a(334),_0x1b958a(389),_0x1b958a(407),_0x1b958a(348),"builder.config_set.no_use_service","hasOwnProperty",_0x1b958a(421),_0x1b958a(409),_0x1b958a(365),_0x1b958a(410),_0x1b958a(432),_0x1b958a(434),_0x1b958a(411),_0x1b958a(443),_0x1b958a(436),_0x1b958a(379)];!function(e,i){!function(i){const t=_0x483a;for(;--i;)e.push(e[t(406)]())}(++i)}(_0x1627,247);const _0xb817=function(e,i){return _0x1627[e-=459]},_0xbe9996=_0xb817;var __createBinding=this&&this[_0x1b958a(430)]||(Object[_0xbe9996(473)]?function(e,i,t,s){void 0===s&&(s=t),Object[_0xbe9996(536)](e,s,{enumerable:!0,get:function(){return i[t]}})}:function(e,i,t,s){void 0===s&&(s=t),e[s]=i[t]}),__setModuleDefault=this&&this[_0x1b958a(440)]||(Object[_0x1b958a(346)]?function(e,i){const t=_0xbe9996;Object[t(536)](e,t(515),{enumerable:!0,value:i})}:function(e,i){e[_0xbe9996(515)]=i}),__importStar=this&&this[_0xbe9996(573)]||function(e){const i=_0x1b958a,t=_0xbe9996;if(e&&e.__esModule)return e;var s={};if(null!=e)for(var a in e)t(515)!==a&&Object[t(562)][t(546)][i(350)](e,a)&&__createBinding(s,e,a);return __setModuleDefault(s,e),s},__importDefault=this&&this.__importDefault||function(e){return e&&e[_0x1b958a(444)]?e:{default:e}};Object[_0xbe9996(536)](exports,"__esModule",{value:!0}),exports[_0xbe9996(468)]=exports[_0xbe9996(569)]=exports.$=exports[_0x1b958a(413)]=exports[_0xbe9996(491)]=void 0;const utils_1=__importStar(require(_0xbe9996(554))),common_1=require(_0xbe9996(508)),vue_1=__importDefault(require(_0xbe9996(526))),sdkhub_helper_1=require(_0xbe9996(533));function serviceDataChange(){const e=_0xbe9996;utils_1[e(563)][e(540)](e(555))}const isNewUpdate=-1!==utils_1[_0xbe9996(547)].compareVersion(utils_1[_0xbe9996(516)].getCreatorVersion(),_0xbe9996(550));function ready(e,i,t){const s=_0xbe9996;this.vm=this.vm||createVue(this,e),Editor[s(469)][s(513)](s(535),serviceDataChange)}function close(){const e=_0x1b958a,i=_0xbe9996;Editor[i(469)][i(490)](i(535),serviceDataChange),utils_1[i(563)][e(420)](i(555))}exports[_0xbe9996(491)]=utils_1[_0xbe9996(482)][_0xbe9996(568)](__dirname,"./index.html"),exports[_0xbe9996(496)]=utils_1[_0xbe9996(482)][_0xbe9996(568)](__dirname,_0xbe9996(523)),exports.$={csBuilder:_0xbe9996(537)},exports[_0x1b958a(393)]=ready,exports[_0xbe9996(468)]=close;let protocolLinkMap={user_protocol:_0xbe9996(565),privacy_policy:_0xbe9996(556)},platformToStoreIdMap={android:_0x1b958a(344),ios:_0xbe9996(495),"huawei-agc":_0xbe9996(571),"alipay-mini-game":_0xbe9996(542),"bytedance-mini-game":_0xbe9996(470),"oppo-mini-game":"160694","huawei-quick-game":_0xbe9996(532),"cocos-play":_0xbe9996(479),"vivo-mini-game":_0xbe9996(464),"xiaomi-quick-game":_0x1b958a(400),"baidu-mini-game":_0xbe9996(499),wechatgame:_0xbe9996(559),qtt:_0xbe9996(477),"web-desktop":"H5","web-mobile":"H5"};function createVue(e,i){const t=_0x1b958a,s=_0xbe9996;return new vue_1.default({el:e.$[t(372)],data:{refresh:!0,pkgOptions:{},configs:[],services:[],config_id:"",serviceTips:"",showAnalytics:!1,showAnalyticsProtocol:!1,enableServices:[],showSDKHub:!1,supportSDKHub:!1,showSDKHubPlugins:!1,sdkhub_config_id:"",sdkHubConfigs:[],sdkHubConfig:{},goToStyle:{"margin-left":"en"===utils_1[t(391)][s(552)]()?s(548):s(567)}},created(){const e=t,i=s;utils_1[i(563)][i(561)](i(555)),utils_1[e(352)].on(i(555),async()=>{const e=i;await this[e(541)](),this[e(461)]()})},async mounted(){const e=t,a=s;this[a(462)]=[e(449),a(480)][e(424)](i[a(481)]),i[a(517)]||(i[a(517)]={"cocos-service":{}}),this[a(471)]=JSON[a(494)](JSON[a(460)](i[a(517)][a(475)]||{})),"{}"===JSON[a(460)](i.packages[a(475)]||{})&&(this[a(471)]=await Editor[a(538)][a(509)](utils_1[a(516)][e(338)],a(459))||{}),await this[e(334)]()},watch:{async config_id(e,i){e!==i&&await this.changeEnableServiceTips(e)},async sdkhub_config_id(e,i){const a=t,_=s;e!==i&&(this.showSDKHubPlugins=""!==this[_(466)],this[_(498)]=this[a(429)][_(530)](e=>e.id===this[_(466)])||this[_(510)][0],await this[_(488)](a(397),this[_(466)]),await this[a(345)](a(361),this[_(498)]))}},methods:{tr:(e,i)=>utils_1[s(516)].tr(e,i),refreshPanel(){const e=s;this[e(463)]=!1,this[e(514)](()=>this[e(463)]=!0)},async fetchData(){const e=t,i=s;this[e(381)]=await utils_1[i(522)][e(419)](),this[i(553)]=await utils_1[i(522)][i(503)](),this[e(429)]=await sdkhub_helper_1[i(478)](),this[i(472)]=this[i(471)][i(528)],0!==this[i(483)][e(394)]&&(utils_1[i(547)][i(572)](this[e(392)][e(441)])?this[i(483)][i(544)](t=>t[i(472)]===this[e(392)][i(528)])<0&&(this[i(472)]=this[i(483)][0][i(472)]):this[i(472)]=this[i(483)][0][i(472)],""===this[e(378)]?this[i(466)]=this[i(471)][e(397)]||(this[e(429)][0]?this[i(510)][0].id:""):this[i(510)][i(530)](e=>e.id===this[i(466)])||(this[i(466)]=this[i(510)][0]?this[i(510)][0].id:""),await this[e(433)](this[i(472)]))},async emitChange(i,a){const _=t,o=s;e[o(474)](o(549),isNewUpdate?_(374)+i:i,a),this[o(471)][i]=a,await Editor.Profile[o(512)](utils_1[_(391)][o(465)],o(459),this[o(471)])},changeAnalyticsStatus(e){const i=t,a=s;let _=this[a(553)][a(530)](e=>a(476)===e[a(531)]);void 0!==_&&(this[a(524)]=e.has(_[a(525)])||!1,this[i(382)]=!e[i(340)](_.service_id))},changeSDKHubStatus(e){const i=t,a=s;let _=this[i(411)][a(530)](e=>i(386)===e[a(531)]);void 0!==_&&(this[a(560)]=e[a(570)](_[a(525)]),0!==this[a(510)][a(506)]&&(this[i(404)]=!0,this[i(361)]=this[i(429)][i(360)](e=>e.id===this[a(466)])||this[i(429)][0]))},getTypeStr:e=>sdkhub_helper_1[s(521)](e),async changeEnableServiceTips(e){const i=t,a=s;try{this[a(472)]=e;let t=new Set(await utils_1[i(435)][a(558)](e));this[a(484)]=this[a(553)][a(497)](e=>t[a(570)](e[a(525)])),this[a(493)]="",0===this[a(484)][a(506)]?this[a(493)]=utils_1[a(516)].tr(a(545)):this[i(403)]=utils_1[a(516)].tr(a(489),{count:""+this[a(484)][a(506)]}),this[a(493)]+=utils_1[a(516)].tr(a(492)),await this[a(488)](a(528),e),await this[a(488)](a(553),await common_1[a(500)](this[a(553)],t,e)),this[a(487)](t),this[a(507)](t)}catch(e){utils_1[i(353)][a(534)](e)}},async handleEnableAnalytics(e){const a=t,_=s;let o=e[_(502)][_(519)],n=await utils_1[_(516)][_(543)](utils_1[_(516)][_(465)],_(527),_(476),o,this[_(472)]);if(a(367)===n){this[a(414)]=!0;do{if(!o)break;let e=this.services[_(530)](e=>_(476)===e[_(531)]);if(void 0===e)break;let t=await utils_1[_(522)][a(399)]();if(void 0===t)break;let s=await utils_1[_(522)][_(551)](e[_(525)],t[_(472)]);s||(s={}),s[_(520)]||(s[_(520)]=(await utils_1[_(522)][a(364)]())[_(520)]),s[_(566)]||(s[_(566)]=platformToStoreIdMap[i[_(481)]]),await utils_1[_(522)][a(383)](e[_(525)],s,t[_(472)])}while(0)}else setTimeout(()=>this[_(564)][_(518)][_(519)]=this[_(524)],10),utils_1[_(539)][_(467)](n);await this[_(541)](),await this[_(505)](this[_(472)]),utils_1.csEditor[_(485)](utils_1[_(516)][_(465)],_(557),"service",_(504),{config_id:this[_(472)]})},handleGotoService(){const e=s;utils_1[e(516)][e(485)](utils_1[e(516)][e(465)],e(511),{config_id:this[e(472)]})},handleTplEvent(e){const i=s;let t=protocolLinkMap[e[i(502)].id];t&&""!==t&&utils_1[i(515)][i(529)](t)}}})}vue_1[_0xbe9996(515)][_0x1b958a(375)][_0xbe9996(486)]=!1,vue_1[_0xbe9996(515)][_0x1b958a(375)][_0xbe9996(501)]=!1;