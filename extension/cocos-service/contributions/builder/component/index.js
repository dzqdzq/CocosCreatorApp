const _0x17ee=["160691","showSDKHubPlugins","warn","iOS","devtools","builder-options","has","csEditor","readConfigSets","$refs","161251","readBindGame","default","../../../vue","refreshPanel","service_component_name","__importDefault","enableServices","open-service-panel","cocos-service:service-data-change","includes","emitChange","prototype","enable-service","service-data-change","defineProperty","setConfig","find","showAnalytics","service_id","hasOwnProperty","huawei-agc","readServiceParam","sdkHubConfigs","161252","serviceTips","__importStar","compareVersion","csLogger","service","$nextTick","services","pkgOptions","validateString","requestMsg","addBroadcastListener","store_id","changeSDKHubStatus","stringify","cocos-service","writeServiceParam","getComplexType","sdkhub_config_id","findIndex","emit","platform","refresh","csConfig","configs","sendMsg","plugin-msg","#cocos-service-builder","../../../utils","Android","config","builder.config_set.used_service","sdkHubConfigID","template","fetchData","readServiceList","supportSDKHub","./index.css","filter","csEvent","Profile","length","getConfig","__setModuleDefault","https://download.cocos.com/CocosUdc/agreement/Cocos_Privacy_Policy_cn_20200904.html","update","-3px","call","builder.config_set.no_use_service","csFile","plugin","161248","checked","./index.html","getCreatorVersion","service:refresh-panel","160675","parse","enableAnalytics","dispatch","service-sdkhub","removeAllListeners","config_id","target","android","../common","__createBinding","configID","openCocosUrl","packages","readFile","shift","create","csBuilder","use strict","3.1.0","readSDKHubConfigSet","productionTip","../sdkhub-helper"];!function(i,e){!function(e){for(;--e;)i.push(i.shift())}(++e)}(_0x17ee,449);const _0x3968=function(i,e){return _0x17ee[i-=452]},_0x1b03f2=_0x3968,_0x31e7=[_0x1b03f2(510),_0x1b03f2(469),_0x1b03f2(511),"Message","packages",_0x1b03f2(514),_0x1b03f2(483),_0x1b03f2(508),_0x1b03f2(520),_0x1b03f2(536),_0x1b03f2(547),_0x1b03f2(538),_0x1b03f2(519),_0x1b03f2(552),_0x1b03f2(492),_0x1b03f2(555),_0x1b03f2(550),_0x1b03f2(525),_0x1b03f2(482),_0x1b03f2(464),_0x1b03f2(456),_0x1b03f2(506),_0x1b03f2(545),_0x1b03f2(549),_0x1b03f2(509),_0x1b03f2(533),_0x1b03f2(499),"service-analytics","sdkHubConfig",_0x1b03f2(562),"__esModule","160564",_0x1b03f2(473),"app_id",_0x1b03f2(507),"builder.config_set.want_edit",_0x1b03f2(534),_0x1b03f2(515),_0x1b03f2(537),"https://download.cocos.com/CocosUdc/agreement/Cocos_User_Service_Agreement_cn_20200904.html",_0x1b03f2(467),_0x1b03f2(551),_0x1b03f2(497),_0x1b03f2(513),"showSDKHub","service_id",_0x1b03f2(459),_0x1b03f2(522),_0x1b03f2(465),"close",_0x1b03f2(480),_0x1b03f2(472),_0x1b03f2(461),_0x1b03f2(475),_0x1b03f2(487),_0x1b03f2(504),_0x1b03f2(524),_0x1b03f2(532),_0x1b03f2(454),_0x1b03f2(476),_0x1b03f2(512),_0x1b03f2(546),_0x1b03f2(474),"removeBroadcastListener",_0x1b03f2(540),"getLang",_0x1b03f2(498),_0x1b03f2(517),_0x1b03f2(557),_0x1b03f2(516),_0x1b03f2(539),_0x1b03f2(556),"161249",_0x1b03f2(541),_0x1b03f2(543),_0x1b03f2(452),_0x1b03f2(479),_0x1b03f2(530),_0x1b03f2(554),_0x1b03f2(526),"style",_0x1b03f2(470),_0x1b03f2(531),_0x1b03f2(559),_0x1b03f2(553),_0x1b03f2(528),"changeEnableServiceTips","161221",_0x1b03f2(460),_0x1b03f2(500),_0x1b03f2(496),_0x1b03f2(493),_0x1b03f2(561),"csUtil",_0x1b03f2(471),_0x1b03f2(488),_0x1b03f2(481),_0x1b03f2(490),"packages.cocos-service.","showAnalyticsProtocol","0px",_0x1b03f2(523),"160694",_0x1b03f2(495),"generateServiceConfigInfo",_0x1b03f2(462),_0x1b03f2(457),_0x1b03f2(542),_0x1b03f2(529),_0x1b03f2(521),"ready",_0x1b03f2(527),_0x1b03f2(477),_0x1b03f2(491),_0x1b03f2(494)];!function(i,e){!function(e){const t=_0x3968;for(;--e;)i.push(i[t(560)]())}(++e)}(_0x31e7,169);const _0x2350=function(i,e){return _0x31e7[i-=412]},_0x1b5f26=_0x2350;_0x1b03f2(563);var __createBinding=this&&this[_0x1b5f26(488)]||(Object[_0x1b5f26(450)]?function(i,e,t,s){void 0===s&&(s=t),Object.defineProperty(i,s,{enumerable:!0,get:function(){return e[t]}})}:function(i,e,t,s){void 0===s&&(s=t),i[s]=e[t]}),__setModuleDefault=this&&this[_0x1b5f26(415)]||(Object[_0x1b5f26(450)]?function(i,e){const t=_0x1b5f26;Object[t(523)](i,t(513),{enumerable:!0,value:e})}:function(i,e){i[_0x1b5f26(513)]=e}),__importStar=this&&this[_0x1b5f26(471)]||function(i){const e=_0x1b03f2,t=_0x1b5f26;if(i&&i[t(503)])return i;var s={};if(null!=i)for(var _ in i)t(513)!==_&&Object[t(470)][e(485)][t(482)](i,_)&&__createBinding(s,i,_);return __setModuleDefault(s,i),s},__importDefault=this&&this[_0x1b5f26(452)]||function(i){return i&&i[_0x1b5f26(503)]?i:{default:i}};Object[_0x1b03f2(480)](exports,_0x1b5f26(503),{value:!0}),exports[_0x1b5f26(522)]=exports[_0x1b5f26(468)]=exports.$=exports[_0x1b5f26(438)]=exports[_0x1b5f26(520)]=void 0;const utils_1=__importStar(require(_0x1b5f26(425))),common_1=require(_0x1b5f26(436)),vue_1=__importDefault(require(_0x1b03f2(468))),sdkhub_helper_1=require(_0x1b5f26(416));function serviceDataChange(){const i=_0x1b5f26;utils_1[i(443)][i(497)]("service-data-change")}const isNewUpdate=-1!==utils_1[_0x1b5f26(451)][_0x1b5f26(487)](utils_1.csEditor[_0x1b5f26(432)](),_0x1b03f2(564));function ready(i,e,t){const s=_0x1b5f26;this.vm=this.vm||createVue(this,i),Editor[s(476)][s(447)](s(420),serviceDataChange)}function close(){const i=_0x1b03f2,e=_0x1b5f26;Editor[e(476)][e(421)](e(420),serviceDataChange),utils_1[e(443)][i(550)](e(434))}exports[_0x1b03f2(522)]=utils_1[_0x1b5f26(484)][_0x1b5f26(441)](__dirname,_0x1b5f26(465)),exports[_0x1b5f26(438)]=utils_1[_0x1b5f26(484)][_0x1b5f26(441)](__dirname,_0x1b5f26(437)),exports.$={csBuilder:_0x1b5f26(427)},exports[_0x1b5f26(468)]=ready,exports[_0x1b5f26(522)]=close;let protocolLinkMap={user_protocol:_0x1b5f26(512),privacy_policy:_0x1b5f26(498)},platformToStoreIdMap={android:_0x1b03f2(518),ios:_0x1b03f2(458),"huawei-agc":_0x1b5f26(445),"alipay-mini-game":_0x1b5f26(422),"bytedance-mini-game":_0x1b5f26(521),"oppo-mini-game":_0x1b5f26(460),"huawei-quick-game":"160690","cocos-play":_0x1b5f26(430),"vivo-mini-game":_0x1b03f2(455),"xiaomi-quick-game":"160697","baidu-mini-game":_0x1b5f26(495),wechatgame:_0x1b5f26(504),qtt:_0x1b03f2(489),"web-desktop":"H5","web-mobile":"H5"};function createVue(i,e){const t=_0x1b03f2,s=_0x1b5f26;return new(vue_1[s(513)])({el:i.$[s(502)],data:{refresh:!0,pkgOptions:{},configs:[],services:[],config_id:"",serviceTips:"",showAnalytics:!1,showAnalyticsProtocol:!1,enableServices:[],showSDKHub:!1,supportSDKHub:!1,showSDKHubPlugins:!1,sdkhub_config_id:"",sdkHubConfigs:[],sdkHubConfig:{},goToStyle:{"margin-left":"en"===utils_1[s(463)][s(423)]()?s(458):t(535)}},created(){const i=t,e=s;utils_1[e(443)][e(489)](e(434)),utils_1[e(443)].on(i(479),async()=>{const i=e;await this[i(459)](),this[i(474)]()})},async mounted(){const i=t,_=s;this[_(490)]=[_(442),i(486)][_(526)](e[_(473)]),e[_(477)]||(e[_(477)]={"cocos-service":{}}),this[i(497)]=JSON[_(419)](JSON[i(503)](e[_(477)]["cocos-service"]||{})),"{}"===JSON[i(503)](e[i(558)][_(413)]||{})&&(this[_(515)]=await Editor[_(466)][_(440)](utils_1[_(463)][i(539)],_(446))||{}),await this.fetchData()},watch:{async config_id(i,e){const t=s;i!==e&&await this[t(444)](i)},async sdkhub_config_id(i,e){const _=t,f=s;i!==e&&(this[f(493)]=""!==this.sdkhub_config_id,this[f(501)]=this[f(453)][f(491)](i=>i.id===this[_(507)])||this.sdkHubConfigs[0],await this[f(417)](f(467),this[f(507)]),await this[f(417)](f(501),this[f(501)]))}},methods:{tr:(i,e)=>utils_1[s(463)].tr(i,e),refreshPanel(){const i=s;this[i(475)]=!1,this[i(461)](()=>this.refresh=!0)},async fetchData(){const i=t,e=s;this[e(516)]=await utils_1[i(512)][i(463)](),this[i(496)]=await utils_1[e(418)][e(414)](),this[e(453)]=await sdkhub_helper_1[e(433)](),this[e(514)]=this[e(515)][e(429)],0!==this[e(516)][i(530)]&&(utils_1[e(451)][e(424)](this[e(515)][i(556)])?this[e(516)][e(480)](i=>i[e(514)]===this[e(515)][e(429)])<0&&(this[e(514)]=this.configs[0][e(514)]):this[e(514)]=this[e(516)][0][e(514)],""===this.sdkhub_config_id?this[i(507)]=this[e(515)][i(521)]||(this.sdkHubConfigs[0]?this[e(453)][0].id:""):this[e(453)][e(491)](i=>i.id===this[e(507)])||(this[i(507)]=this[i(488)][0]?this[e(453)][0].id:""),await this[e(444)](this[e(514)]))},async emitChange(e,_){const f=t,o=s;i[f(548)](o(509),isNewUpdate?o(456)+e:e,_),this[f(497)][e]=_,await Editor[o(466)][o(454)](utils_1[o(463)][o(428)],o(446),this[o(515)])},changeAnalyticsStatus(i){const e=t,_=s;let f=this[e(496)][_(491)](i=>_(500)===i[_(439)]);void 0!==f&&(this[_(457)]=i[_(525)](f[e(484)])||!1,this[_(479)]=!i[_(525)](f[_(518)]))},changeSDKHubStatus(i){const e=t,_=s;let f=this.services[_(491)](i=>_(496)===i[_(439)]);void 0!==f&&(this[_(517)]=i[e(461)](f[_(518)]),0!==this[_(453)][e(530)]&&(this[_(493)]=!0,this.sdkHubConfig=this[e(488)][_(491)](i=>i.id===this[_(507)])||this[_(453)][0]))},getTypeStr:i=>sdkhub_helper_1[s(494)](i),async changeEnableServiceTips(i){const e=t,_=s;try{this[_(514)]=i;let t=new Set(await utils_1[e(512)].readEnableServices(i));this[_(524)]=this[_(448)][_(469)](i=>t[_(525)](i[_(518)])),this[_(455)]="",0===this[_(524)][_(435)]?this[e(490)]=utils_1[_(463)].tr(_(511)):this[_(455)]=utils_1[_(463)].tr(_(481),{count:""+this[_(524)][_(435)]}),this[_(455)]+=utils_1[_(463)].tr(_(508)),await this[e(476)](_(429),i),await this[_(417)](_(448),await common_1[_(462)](this[_(448)],t,i)),this.changeAnalyticsStatus(t),this[e(502)](t)}catch(i){utils_1[e(493)].debug(i)}},async handleEnableAnalytics(i){const _=t,f=s;let o=i[f(486)][f(431)],a=await utils_1[f(463)][f(499)](utils_1[f(463)][f(428)],_(478),f(500),o,this[f(514)]);if("success"===a){this[f(457)]=!0;do{if(!o)break;let i=this[f(448)][_(482)](i=>f(500)===i[f(439)]);if(void 0===i)break;let t=await utils_1[f(418)].readConfigSet();if(void 0===t)break;let s=await utils_1[_(512)][f(412)](i[f(518)],t[f(514)]);s||(s={}),s[f(506)]||(s[f(506)]=(await utils_1.csConfig[_(466)]())[f(506)]),s.store_id||(s[_(501)]=platformToStoreIdMap[e[f(473)]]),await utils_1[f(418)][_(505)](i[_(484)],s,t.config_id)}while(0)}else setTimeout(()=>this[f(492)][f(483)][f(431)]=this[f(457)],10),utils_1[f(449)][f(464)](a);await this[f(459)](),await this.changeEnableServiceTips(this[f(514)]),utils_1[f(463)][f(478)](utils_1[f(463)][f(428)],f(510),f(472),_(544),{config_id:this[f(514)]})},handleGotoService(){const i=s;utils_1[i(463)][i(478)](utils_1[i(463)].plugin,i(505),{config_id:this[i(514)]})},handleTplEvent(i){const e=s;let t=protocolLinkMap[i[e(486)].id];t&&""!==t&&utils_1.default[e(426)](t)}}})}vue_1[_0x1b03f2(467)][_0x1b03f2(519)][_0x1b03f2(453)]=!1,vue_1[_0x1b5f26(513)][_0x1b5f26(485)][_0x1b5f26(519)]=!1;