"use strict";const _0x1d57b9=_0x4c34;!function(e,t){const i=_0x4c34,s=_0xd5e4();for(;;)try{if(745663===parseInt(i(267))/1+parseInt(i(219))/2*(parseInt(i(157))/3)+-parseInt(i(186))/4+-parseInt(i(217))/5*(-parseInt(i(227))/6)+-parseInt(i(199))/7+parseInt(i(232))/8*(parseInt(i(213))/9)+-parseInt(i(257))/10)break;s.push(s.shift())}catch(e){s.push(s.shift())}}();const _0xfce7ba=_0x23e9;function _0x36dd(){const e=_0x4c34,t=[e(177),e(250),e(207),e(259),e(251),e(265),e(231),"builder-options",e(228),"target","enableAnalytics",e(280),e(153),e(193),e(185),"Profile",e(165),e(247),e(237),"removeAllListeners",e(239),"length",e(194),e(269),"6332913HngJva",e(203),e(273),e(208),e(158),e(270),e(163),e(236),e(154),e(171),e(151),e(263),e(167),"https://download.cocos.com/CocosUdc/agreement/Cocos_User_Service_Agreement_cn_20200904.html",e(261),e(214),"plugin","default","stringify",e(242),"configID",e(246),e(166),"builder.config_set.no_use_service",e(155),e(233),e(164),"android",e(221),e(191),e(176),e(255),e(252),e(218),e(225),e(262),"getConfig",e(189),e(182),"service-sdkhub","iOS","has",e(254),"devtools",e(150),"586038oFHaxY",e(198),e(220),e(160),e(184),"supportSDKHub",e(146),e(172),e(178),e(234),e(159),"2JJDQQH",e(278),e(240),e(201),e(275),e(180),e(202),e(224),"csFile",e(245),e(188),"update",e(264),e(256),e(149),e(183),e(222),e(210),e(169),"config_id",e(170),e(211),"161221",e(223),"refresh",e(187),e(253),e(258),e(268),e(274),e(147),e(235),e(271),"160564",e(229),e(197),e(148),e(205),e(206),"emitChange",e(243),"parse",e(266),"45634985KIgAFD",e(173),e(276),e(161),e(192),e(244),e(248)];return(_0x36dd=function(){return t})()}function _0x23e9(e,t){const i=_0x36dd();return(_0x23e9=function(e,t){return i[e-=381]})(e,t)}!function(e,t){const i=_0x4c34,s=_0x23e9,a=_0x36dd();for(;;)try{if(910459===-parseInt(s(429))/1*(parseInt(s(501))/2)+-parseInt(s(403))/3+parseInt(s(409))/4*(-parseInt(s(510))/5)+parseInt(s(490))/6*(parseInt(s(457))/7)+-parseInt(s(469))/8*(-parseInt(s(445))/9)+-parseInt(s(473))/10+parseInt(s(414))/11)break;a[i(168)](a[i(215)]())}catch(e){a[i(168)](a[i(215)]())}}();var __createBinding=this&&this[_0x1d57b9(238)]||(Object[_0x1d57b9(204)]?function(e,t,i,s){const a=_0x23e9;void 0===s&&(s=i);var c=Object[a(383)](t,i);c&&!("get"in c?!t[a(449)]:c[a(391)]||c[a(452)])||(c={enumerable:!0,get:function(){return t[i]}}),Object[a(394)](e,s,c)}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),__setModuleDefault=this&&this[_0xfce7ba(467)]||(Object[_0x1d57b9(204)]?function(e,t){const i=_0xfce7ba;Object[i(394)](e,i(462),{enumerable:!0,value:t})}:function(e,t){e[_0xfce7ba(462)]=t}),__importStar=this&&this[_0xfce7ba(443)]||function(e){const t=_0xfce7ba;if(e&&e[t(449)])return e;var i={};if(null!=e)for(var s in e)t(462)!==s&&Object[t(497)][t(500)][t(432)](e,s)&&__createBinding(i,e,s);return __setModuleDefault(i,e),i},__importDefault=this&&this[_0xfce7ba(470)]||function(e){return e&&e[_0xfce7ba(449)]?e:{default:e}};Object[_0xfce7ba(394)](exports,_0xfce7ba(449),{value:!0}),exports[_0xfce7ba(460)]=exports[_0xfce7ba(447)]=exports.$=exports[_0xfce7ba(411)]=exports[_0xfce7ba(437)]=void 0;const utils_1=__importStar(require(_0xfce7ba(492))),common_1=require(_0xfce7ba(506)),vue_1=__importDefault(require(_0x1d57b9(272))),sdkhub_helper_1=require(_0xfce7ba(434));function _0xd5e4(){const e=["enableServices","config","csLogger","huawei-agc","csEvent","service_component_name","../sdkhub-helper","__importStar","161248","checked","readBindGame","removeBroadcastListener","4547291IsiCvD","https://download.cocos.com/CocosUdc/agreement/Cocos_Privacy_Policy_cn_20200904.html","csBuilder","sdkHubConfigs","setConfig","create","services","548UYKiJR","openCocosUrl","success","Android","sdkHubConfig","sdkhub_config_id","emitChange","18ekXsby","close","shift","160697","6615165gXHqgp","plugin-msg","1321424rfsKaw","../../../utils","6911410WYccCb","debug","defineProperty","getLang","showSDKHubPlugins","configID","6hGkcfk","1217101GbIfWU","showSDKHub","showAnalytics","packages.cocos-service.","220512cmmvqC","__importDefault","service","csUtil","configurable","filter","__createBinding","#cocos-service-builder","packages","default","csConfig","style","warn","63815hfjIhU","$nextTick","readConfigSet","0px","160675","changeAnalyticsStatus","readConfigSets","platform","Message","fetchData","csEditor","readFile","7234260Jlhmhw","compareVersion","./index.html","config_id","open-service-panel","service-data-change","cocos-service:service-data-change","getOwnPropertyDescriptor","getCreatorVersion","161252","395816SncdPN","store_id","writeServiceParam","changeEnableServiceTips","4138227erJwKS","../../../vue","ready","-3px","refreshPanel","readSDKHubConfigSet","refresh","sdkHubConfigID","productionTip","call","configs","160691","getComplexType","validateString","service_id","includes","$refs","find","160690","16DBfIdi","service:refresh-panel","3PlcnoE","__esModule","hasOwnProperty","161251","app_id","emit","readEnableServices","serviceTips","template","__setModuleDefault","28wZXQTp","push","cocos-service","writable","addBroadcastListener","prototype","pkgOptions","stringify","dispatch","service-analytics","requestMsg","showAnalyticsProtocol","160694","../common","3.1.0","sendMsg","generateServiceConfigInfo","./index.css","readServiceList","1263948xqZKQY"];return(_0xd5e4=function(){return e})()}function serviceDataChange(){const e=_0x1d57b9;utils_1[_0xfce7ba(474)][e(162)](e(262))}const isNewUpdate=-1!==utils_1[_0xfce7ba(402)][_0xfce7ba(398)](utils_1[_0xfce7ba(476)][_0xfce7ba(426)](),_0x1d57b9(181));function ready(e,t,i){const s=_0xfce7ba;this.vm=this.vm||createVue(this,e),Editor[s(397)][s(454)](s(456),serviceDataChange)}function close(){const e=_0x1d57b9,t=_0xfce7ba;Editor[e(253)][t(491)](t(456),serviceDataChange),utils_1[e(191)][t(440)](t(480))}exports[_0x1d57b9(165)]=utils_1.csFile[_0xfce7ba(384)](__dirname,_0xfce7ba(424)),exports[_0xfce7ba(411)]=utils_1[_0xfce7ba(509)][_0xfce7ba(384)](__dirname,_0xfce7ba(494)),exports.$={csBuilder:_0xfce7ba(441)},exports[_0xfce7ba(447)]=ready,exports[_0xfce7ba(460)]=close;let protocolLinkMap={user_protocol:_0xfce7ba(458),privacy_policy:_0x1d57b9(200)},platformToStoreIdMap={android:_0x1d57b9(209),ios:_0xfce7ba(485),"huawei-agc":_0xfce7ba(393),"alipay-mini-game":_0x1d57b9(195),"bytedance-mini-game":_0xfce7ba(493),"oppo-mini-game":_0x1d57b9(179),"huawei-quick-game":_0xfce7ba(453),"cocos-play":"161249","vivo-mini-game":_0xfce7ba(401),"xiaomi-quick-game":_0x1d57b9(216),"baidu-mini-game":_0x1d57b9(249),wechatgame:_0xfce7ba(404),qtt:_0xfce7ba(413),"web-desktop":"H5","web-mobile":"H5"};function createVue(e,t){const i=_0x1d57b9,s=_0xfce7ba;return new(vue_1[s(462)])({el:e.$[s(504)],data:{refresh:!0,pkgOptions:{},configs:[],services:[],config_id:"",serviceTips:"",showAnalytics:!1,showAnalyticsProtocol:!1,enableServices:[],showSDKHub:!1,supportSDKHub:!1,showSDKHubPlugins:!1,sdkhub_config_id:"",sdkHubConfigs:[],sdkHubConfig:{},goToStyle:{"margin-left":"en"===utils_1[s(476)][s(508)]()?s(420):s(400)}},created(){const e=_0x4c34,t=s;utils_1[e(191)][t(440)](t(480)),utils_1[t(474)].on(e(262),async()=>{const e=t;await this[e(487)](),this[e(505)]()})},async mounted(){const e=_0x4c34,i=s;this[i(495)]=[i(472),e(190)][i(455)](t[e(252)]),t[e(240)]||(t[i(503)]={"cocos-service":{}}),this[i(415)]=JSON[i(412)](JSON[i(463)](t[i(503)][i(389)]||{})),"{}"===JSON[e(174)](t[i(503)][i(389)]||{})&&(this[i(415)]=await Editor[i(436)][i(481)](utils_1[i(476)][i(461)],"builder-options")||{}),await this[i(487)]()},watch:{async config_id(e,t){const i=s;e!==t&&await this[i(450)](e)},async sdkhub_config_id(e,t){const i=_0x4c34,a=s;e!==t&&(this[a(479)]=""!==this[a(392)],this[a(388)]=this[a(507)].find(e=>e.id===this[a(392)])||this[i(202)][0],await this[i(212)]("sdkHubConfigID",this[a(392)]),await this[a(410)](a(388),this[a(388)]))}},methods:{tr:(e,t)=>utils_1[i(255)].tr(e,t),refreshPanel(){const e=i,t=s;this[t(395)]=!1,this[t(466)](()=>this[e(277)]=!0)},async fetchData(){const e=i,t=s;this[t(496)]=await utils_1[e(242)][t(425)](),this[t(408)]=await utils_1[t(464)][t(435)](),this[t(507)]=await(0,sdkhub_helper_1[t(416)])(),this[e(260)]=this[t(415)][t(465)],0!==this[t(496)][t(442)]&&(utils_1[e(235)][t(385)](this[t(415)][t(465)])?this[t(496)].findIndex(i=>i[t(390)]===this[e(173)][t(465)])<0&&(this[e(260)]=this[t(496)][0][t(390)]):this[t(390)]=this[e(146)][0][t(390)],""===this[t(392)]?this[t(392)]=this[t(415)][t(502)]||(this[t(507)][0]?this[t(507)][0].id:""):this[e(202)][t(433)](e=>e.id===this[t(392)])||(this[e(211)]=this[t(507)][0]?this[t(507)][0].id:""),await this[t(450)](this[e(260)]))},async emitChange(t,a){const c=i,n=s;e[c(175)](n(382),isNewUpdate?n(427)+t:t,a),this[c(173)][t]=a,await Editor[n(436)][n(446)](utils_1[n(476)][n(461)],n(428),this[c(173)])},changeAnalyticsStatus(e){const t=i,a=s;let c=this[a(408)][t(153)](e=>a(475)===e.service_component_name);void 0!==c&&(this[a(498)]=e[a(486)](c[a(489)])||!1,this[t(230)]=!e[a(486)](c[a(489)]))},changeSDKHubStatus(e){const t=i,a=s;let c=this[a(408)][a(433)](e=>a(484)===e[a(418)]);void 0!==c&&(this[a(405)]=e[a(486)](c[t(150)]),0!==this[a(507)][a(442)]&&(this[a(479)]=!0,this.sdkHubConfig=this[a(507)][a(433)](e=>e.id===this[t(211)])||this[a(507)][0]))},getTypeStr:e=>(0,sdkhub_helper_1[s(407)])(e),async changeEnableServiceTips(e){const t=i,a=s;try{this[a(390)]=e;let i=new Set(await utils_1[a(464)][a(451)](e));this[t(187)]=this[a(408)][a(439)](e=>i[a(486)](e[a(489)])),this.serviceTips="",0===this[a(396)][a(442)]?this[a(471)]=utils_1.csEditor.tr(a(468)):this.serviceTips=utils_1[a(476)].tr("builder.config_set.used_service",{count:""+this[a(396)][a(442)]}),this[a(471)]+=utils_1[a(476)].tr("builder.config_set.want_edit"),await this[t(212)](t(226),e),await this[a(410)](a(408),await(0,common_1[a(386)])(this[a(408)],i,e)),this[a(422)](i),this.changeSDKHubStatus(i)}catch(e){utils_1[a(482)][a(387)](e)}},async handleEnableAnalytics(e){const a=i,c=s;let n=e[c(430)].checked,o=await utils_1[c(476)][c(421)](utils_1[c(476)][c(461)],"enable-service",a(176),n,this[a(260)]);if(c(448)===o){this.showAnalyticsProtocol=!0;do{if(!n)break;let e=this[a(205)][c(433)](e=>c(475)===e[c(418)]);if(void 0===e)break;let i=await utils_1[a(242)][c(438)]();if(void 0===i)break;let s=await utils_1[c(464)].readServiceParam(e[c(489)],i[c(390)]);s||(s={}),s[c(417)]||(s[a(161)]=(await utils_1[c(464)][c(406)]())[c(417)]),s[a(268)]||(s[c(399)]=platformToStoreIdMap[t[c(477)]]),await utils_1[c(464)][c(444)](e.service_id,s,i[c(390)])}while(0)}else setTimeout(()=>this[a(152)][c(431)][a(196)]=this[a(178)],10),utils_1[c(482)][c(419)](o);await this[c(487)](),await this[c(450)](this[c(390)]),utils_1[c(476)][c(483)](utils_1[c(476)][c(461)],c(478),c(499),a(156),{config_id:this[c(390)]})},handleGotoService(){const e=s;utils_1[e(476)][e(483)](utils_1[e(476)][e(461)],e(459),{config_id:this[e(390)]})},handleTplEvent(e){const t=i,a=s;let c=protocolLinkMap[e[a(430)].id];c&&""!==c&&utils_1[t(241)][a(423)](c)}}})}function _0x4c34(e,t){const i=_0xd5e4();return(_0x4c34=function(e,t){return i[e-=146]})(e,t)}vue_1[_0xfce7ba(462)][_0xfce7ba(381)][_0x1d57b9(279)]=!1,vue_1[_0xfce7ba(462)][_0xfce7ba(381)][_0xfce7ba(488)]=!1;