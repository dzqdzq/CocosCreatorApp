const _0x4aef=["builder.config_set.want_edit","160675","debug","generateServiceConfigInfo","cocos-service","160690","enableServices","app_id","push","getLang","devtools","readServiceList","compareVersion","../common","packages","readServiceParam","csFile","Profile","call","filter","https://download.cocos.com/CocosUdc/agreement/Cocos_Privacy_Policy_cn_20200904.html","160694","3.1.0","#cocos-service-builder","0px","./index.css","target","android","../../../vue","prototype","-3px","builder-options","warn","enable-service","setConfig","configID","productionTip","__setModuleDefault","serviceTips","service_id","__importStar","open-service-panel","store_id","default","showAnalytics","161248","changeAnalyticsStatus","refresh","defineProperty","$nextTick","configs","shift","Android","sendMsg","csConfig","160697","showAnalyticsProtocol","builder.config_set.no_use_service","../sdkhub-helper","csUtil","enableAnalytics","ready","sdkHubConfigs","platform","__esModule","parse","sdkhub_config_id","writeServiceParam","huawei-agc","builder.config_set.used_service","https://download.cocos.com/CocosUdc/agreement/Cocos_User_Service_Agreement_cn_20200904.html","emitChange","config_id","getConfig","create","service_component_name","getCreatorVersion","services","getComplexType","csEditor","service-data-change","requestMsg","has","dispatch","160691","sdkHubConfig","stringify","checked","sdkHubConfigID","$refs","find","__importDefault","161249","pkgOptions","packages.cocos-service.","emit","close","./index.html","length","supportSDKHub","__createBinding","service-sdkhub","readSDKHubConfigSet","success","showSDKHubPlugins","showSDKHub","template","csEvent","findIndex","changeEnableServiceTips","includes"];!function(i,t){!function(t){for(;--t;)i.push(i.shift())}(++t)}(_0x4aef,325);const _0xd792=function(i,t){return _0x4aef[i-=133]},_0x583393=_0xd792,_0x3ca9=["config","161251",_0x583393(203),_0x583393(237),_0x583393(217),_0x583393(240),_0x583393(155),"openCocosUrl",_0x583393(153),_0x583393(243),_0x583393(165),_0x583393(170),_0x583393(214),_0x583393(147),_0x583393(218),_0x583393(180),_0x583393(164),_0x583393(232),_0x583393(184),_0x583393(199),_0x583393(186),_0x583393(206),_0x583393(208),_0x583393(135),_0x583393(190),_0x583393(223),_0x583393(137),"Message","csLogger","addBroadcastListener",_0x583393(191),_0x583393(209),_0x583393(233),_0x583393(146),_0x583393(185),"plugin-msg","readEnableServices","readBindGame","fetchData",_0x583393(158),_0x583393(210),_0x583393(140),_0x583393(226),_0x583393(136),_0x583393(219),_0x583393(183),_0x583393(133),"csEditor",_0x583393(207),_0x583393(236),_0x583393(134),_0x583393(156),_0x583393(162),_0x583393(234),"validateString","161252","readConfigSet",_0x583393(225),"160564",_0x583393(151),"removeBroadcastListener",_0x583393(150),"service-analytics",_0x583393(145),_0x583393(241),"__esModule",_0x583393(194),"cocos-service:service-data-change",_0x583393(215),"length","plugin",_0x583393(229),_0x583393(157),"platform",_0x583393(198),_0x583393(216),_0x583393(159),_0x583393(221),_0x583393(172),_0x583393(228),_0x583393(196),_0x583393(179),_0x583393(176),_0x583393(202),_0x583393(143),_0x583393(144),_0x583393(231),_0x583393(166),_0x583393(141),"changeEnableServiceTips",_0x583393(148),_0x583393(211),"../../../utils","161221",_0x583393(182),_0x583393(167),_0x583393(227),"service:refresh-panel","removeAllListeners","config_id",_0x583393(177),_0x583393(222),"emitChange","defineProperty",_0x583393(197),"readConfigSets","style",_0x583393(178),"csConfig",_0x583393(200),_0x583393(168),"readFile","hasOwnProperty",_0x583393(173)];!function(i,t){!function(t){const e=_0xd792;for(;--t;)i[e(149)](i[e(192)]())}(++t)}(_0x3ca9,268);const _0x3354=function(i,t){return _0x3ca9[i-=224]},_0x106142=_0x3354;var __createBinding=this&&this[_0x106142(248)]||(Object[_0x106142(252)]?function(i,t,e,s){void 0===s&&(s=e),Object[_0x106142(287)](i,s,{enumerable:!0,get:function(){return t[e]}})}:function(i,t,e,s){void 0===s&&(s=e),i[s]=t[e]}),__setModuleDefault=this&&this[_0x106142(291)]||(Object[_0x106142(252)]?function(i,t){const e=_0x583393;Object[_0x106142(287)](i,e(184),{enumerable:!0,value:t})}:function(i,t){i[_0x106142(316)]=t}),__importStar=this&&this[_0x583393(181)]||function(i){const t=_0x583393,e=_0x106142;if(i&&i[t(205)])return i;var s={};if(null!=i)for(var _ in i)t(184)!==_&&Object[e(309)][e(296)][e(260)](i,_)&&__createBinding(s,i,_);return __setModuleDefault(s,i),s},__importDefault=this&&this[_0x106142(315)]||function(i){return i&&i[_0x106142(249)]?i:{default:i}};Object[_0x583393(189)](exports,_0x106142(249),{value:!0}),exports[_0x106142(301)]=exports[_0x106142(267)]=exports.$=exports[_0x106142(290)]=exports[_0x106142(227)]=void 0;const utils_1=__importStar(require(_0x106142(276))),common_1=require(_0x583393(154)),vue_1=__importDefault(require(_0x583393(169))),sdkhub_helper_1=require(_0x106142(317));function serviceDataChange(){const i=_0x106142;utils_1[i(324)][i(233)](i(261))}const isNewUpdate=-1!==utils_1[_0x106142(293)][_0x106142(306)](utils_1[_0x583393(220)][_0x106142(302)](),_0x583393(163));function ready(i,t,e){const s=_0x106142;this.vm=this.vm||createVue(this,i),Editor[s(325)][s(327)](s(251),serviceDataChange)}function close(){const i=_0x106142;Editor[i(325)][i(244)](i(251),serviceDataChange),utils_1.csEvent[i(282)](i(261))}exports[_0x106142(227)]=utils_1[_0x106142(256)][_0x106142(295)](__dirname,_0x583393(238)),exports[_0x106142(290)]=utils_1[_0x106142(256)].readFile(__dirname,_0x106142(271)),exports.$={csBuilder:_0x106142(314)},exports[_0x583393(202)]=ready,exports[_0x106142(301)]=close;let protocolLinkMap={user_protocol:_0x106142(275),privacy_policy:_0x583393(161)},platformToStoreIdMap={android:_0x583393(193),ios:"iOS","huawei-agc":_0x106142(277),"alipay-mini-game":_0x106142(318),"bytedance-mini-game":_0x106142(299),"oppo-mini-game":_0x106142(236),"huawei-quick-game":_0x106142(331),"cocos-play":_0x106142(330),"vivo-mini-game":_0x106142(241),"xiaomi-quick-game":_0x106142(264),"baidu-mini-game":_0x583393(142),wechatgame:_0x106142(242),qtt:_0x106142(239),"web-desktop":"H5","web-mobile":"H5"};function createVue(i,t){const e=_0x583393,s=_0x106142;return new(vue_1[s(316)])({el:i.$.csBuilder,data:{refresh:!0,pkgOptions:{},configs:[],services:[],config_id:"",serviceTips:"",showAnalytics:!1,showAnalyticsProtocol:!1,enableServices:[],showSDKHub:!1,supportSDKHub:!1,showSDKHubPlugins:!1,sdkhub_config_id:"",sdkHubConfigs:[],sdkHubConfig:{},goToStyle:{"margin-left":"en"===utils_1[e(220)][s(245)]()?s(308):e(171)}},created(){const i=s;utils_1.csEvent[i(282)](i(261)),utils_1[i(324)].on(i(261),async()=>{const t=i;await this[t(336)](),this.refreshPanel()})},async mounted(){const i=e,_=s;this[_(303)]=[_(294),_(329)][_(225)](t[i(204)]),t[i(155)]||(t[i(155)]={"cocos-service":{}}),this[_(237)]=JSON[_(319)](JSON[i(227)](t[_(304)][_(247)]||{})),"{}"===JSON[_(280)](t[_(304)][_(247)]||{})&&(this[_(237)]=await Editor[_(337)][_(310)](utils_1[_(231)][_(254)],_(262))||{}),await this[_(336)]()},watch:{async config_id(i,t){const s=e;i!==t&&await this[s(139)](i)},async sdkhub_config_id(i,t){const _=e,o=s;i!==t&&(this[o(234)]=""!==this[o(232)],this[o(226)]=this[o(300)][o(270)](i=>i.id===this[o(232)])||this[_(203)][0],await this[o(286)](o(255),this[o(232)]),await this[o(286)](o(226),this[o(226)]))}},methods:{tr:(i,t)=>utils_1[e(220)].tr(i,t),refreshPanel(){const i=e,t=s;this[i(188)]=!1,this[t(322)](()=>this[i(188)]=!0)},async fetchData(){const i=e,t=s;this[t(328)]=await utils_1[t(292)][t(289)](),this[t(312)]=await utils_1[t(292)][i(152)](),this[t(300)]=await sdkhub_helper_1[t(307)](),this[t(283)]=this[i(234)].configID,0!==this[t(328)][i(239)]&&(utils_1[t(293)][t(238)](this[t(237)][t(266)])?this[t(328)][i(138)](e=>e[t(283)]===this[i(234)][t(266)])<0&&(this[t(283)]=this[t(328)][0][t(283)]):this[t(283)]=this[t(328)][0][t(283)],""===this[t(232)]?this.sdkhub_config_id=this[t(237)][t(255)]||(this[t(300)][0]?this[i(203)][0].id:""):this[t(300)].find(t=>t.id===this[i(207)])||(this[t(232)]=this[t(300)][0]?this[t(300)][0].id:""),await this[t(273)](this[t(283)]))},async emitChange(t,_){const o=e,a=s;i[o(224)]("update",isNewUpdate?o(235)+t:t,_),this[a(237)][t]=_,await Editor[o(158)][o(175)](utils_1[a(231)][a(254)],a(262),this[a(237)])},changeAnalyticsStatus(i){const t=e,_=s;let o=this[_(312)][_(270)](i=>_(246)===i[_(259)]);void 0!==o&&(this[_(288)]=i[t(223)](o[_(313)])||!1,this[_(332)]=!i[_(323)](o[_(313)]))},changeSDKHubStatus(i){const t=e,_=s;let o=this[_(312)][_(270)](i=>t(242)===i[t(216)]);void 0!==o&&(this[_(321)]=i.has(o[t(180)]),0!==this[_(300)][_(253)]&&(this.showSDKHubPlugins=!0,this[t(226)]=this[_(300)][_(270)](i=>i.id===this[_(232)])||this[t(203)][0]))},getTypeStr:i=>sdkhub_helper_1[s(228)](i),async changeEnableServiceTips(i){const t=e,_=s;try{this[t(213)]=i;let e=new Set(await utils_1[_(292)][_(334)](i));this[_(311)]=this[_(312)][t(160)](i=>e[_(323)](i[t(180)])),this[t(179)]="",0===this[_(311)][_(253)]?this.serviceTips=utils_1[t(220)].tr(_(258)):this[_(265)]=utils_1[t(220)].tr(_(224),{count:""+this[_(311)][t(239)]}),this[_(265)]+=utils_1[t(220)].tr(_(272)),await this[_(286)](_(266),i),await this[t(212)](t(218),await common_1[_(269)](this[_(312)],e,i)),this[t(187)](e),this.changeSDKHubStatus(e)}catch(i){utils_1[_(326)][_(268)](i)}},async handleEnableAnalytics(i){const _=e,o=s;let a=i[o(279)][o(263)],n=await utils_1[_(220)][o(285)](utils_1[_(220)][o(254)],_(174),o(246),a,this[_(213)]);if(o(230)===n){this[o(288)]=!0;do{if(!a)break;let i=this[_(218)][o(270)](i=>o(246)===i[_(216)]);if(void 0===i)break;let e=await utils_1[o(292)][o(240)]();if(void 0===e)break;let s=await utils_1[o(292)][o(235)](i[o(313)],e[o(283)]);s||(s={}),s[o(274)]||(s[o(274)]=(await utils_1[_(195)][o(335)]())[o(274)]),s[_(183)]||(s[o(229)]=platformToStoreIdMap[t[o(257)]]),await utils_1[o(292)][o(320)](i[o(313)],s,e[o(283)])}while(0)}else setTimeout(()=>this[_(230)][_(201)][o(263)]=this[o(288)],10),utils_1[o(326)][o(297)](n);await this[o(336)](),await this[_(139)](this[o(283)]),utils_1[o(231)][o(250)](utils_1[o(231)][o(254)],o(333),"service",o(281),{config_id:this[o(283)]})},handleGotoService(){const i=s;utils_1[i(231)][i(250)](utils_1[i(231)][i(254)],i(278),{config_id:this[i(283)]})},handleTplEvent(i){const t=s;let e=protocolLinkMap[i[t(279)].id];e&&""!==e&&utils_1[t(316)][t(305)](e)}}})}vue_1[_0x106142(316)][_0x106142(298)][_0x106142(284)]=!1,vue_1[_0x583393(184)][_0x106142(298)][_0x106142(243)]=!1;