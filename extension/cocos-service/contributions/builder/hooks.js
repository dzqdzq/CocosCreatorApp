"use strict";const _0x501faf=_0x3d18,_0x123cdd=(!function(){for(var e=_0x3d18,t=_0x53c5();;)try{if(114010==-parseInt(e(384))*(parseInt(e(392))/2)+-parseInt(e(420))/3*(parseInt(e(398))/4)+parseInt(e(401))/5+parseInt(e(397))/6+-parseInt(e(376))/7*(parseInt(e(390))/8)+-parseInt(e(425))/9*(parseInt(e(414))/10)+-parseInt(e(378))/11*(-parseInt(e(411))/12))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(),_0x3cbb);function _0x318d(){const e=_0x3d18,t=[e(400),e(363),"length",e(405),e(358),"service_component_name",e(362),e(361),e(422),e(393),"1TOCSxk","client",e(406),e(372),"serviceIntegrationFailed","3000326SkyAym","isLogin",e(421),e(379),"settings/agconnect-services.json",e(412),"plugins",e(371),e(424),e(399),e(365),"onAfterBuild",e(370),e(391),e(364),e(367),"huaweiServiceIntegrationSuccess",e(388),e(416),"2075qmvHcn",e(394),"317116RbPFiU","1302030liReKz",e(408),e(380),e(360),e(419),"set",e(359),e(413),e(386),e(410),e(374),e(382),e(357),e(377),e(389),e(387),e(355),e(356),e(368),e(396),"clear",e(373),"./common",e(409),e(375),"defineProperty","test","stringify","csFile",e(415),e(353)];return(_0x318d=function(){return t})()}!function(){for(var t=_0x3d18,e=_0x3cbb,r=_0x318d();;)try{if(254e3==-parseInt(e(182))*(parseInt(e(208))/2)+-parseInt(e(209))/3+parseInt(e(212))/4*(parseInt(e(206))/5)+-parseInt(e(223))/6*(parseInt(e(187))/7)+parseInt(e(164))/8*(-parseInt(e(205))/9)+-parseInt(e(207))/10*(-parseInt(e(170))/11)+parseInt(e(181))/12)break;r[t(423)](r[t(418)]())}catch(e){r[t(423)](r[t(418)]())}}(),Object[_0x123cdd(166)](exports,_0x501faf(366),{value:!0}),exports[_0x123cdd(198)]=exports[_0x123cdd(197)]=exports[_0x123cdd(213)]=exports[_0x123cdd(178)]=exports[_0x123cdd(224)]=exports.throwError=void 0;const fs_extra_1=require(_0x123cdd(159)),path_1=require(_0x123cdd(196)),utils_1=require(_0x501faf(417)),common_1=require(_0x123cdd(163));exports[_0x123cdd(201)]=!0;let buildCache=new Map;function compareService(e,t){var r=_0x123cdd;return e[r(160)]===t[r(160)]?0:t[r(160)]?-1:1}let processServiceHooks=async(t,e,r)=>{const s=_0x501faf,c=_0x123cdd;try{if(!await utils_1[c(204)][c(188)]())return}catch(e){return void utils_1[s(403)][s(381)](c(175))}var i=t[c(195)][c(215)],n=(0,common_1[c(189)])(t);if(void 0!==i&&0!==i[c(185)][c(174)]){c(224)===r&&buildCache[c(161)]();for(const d of i[c(185)][c(202)](compareService)){if(!(0,fs_extra_1[s(363)])(d[s(375)]))break;var o=(await utils_1[c(216)][c(180)]()).find(e=>e[s(354)]===d.service_id),a=(buildCache[c(190)](d.service_component_name)||buildCache[c(214)](d[c(177)],utils_1[c(184)][c(218)](d[c(165)])),buildCache[c(171)](d[c(177)]));if(void 0===a)break;try{switch(r){case c(178):a[s(362)]&&await a[c(178)](t,e);break;case c(224):a[c(224)]&&await a[c(224)](t,e);break;case c(213):a[c(213)]&&await a[c(213)](t,e);break;case c(197):a[c(197)]&&await a[c(197)](t,e);break;case s(395):a[s(395)]&&await a[s(395)](t,e),o&&processServiceIntegration(n,o,t)}}catch(e){throw o&&processServiceIntegration(n,o,t,(e instanceof Error?e[c(192)]:JSON[c(168)](e))||""),e}}}};async function onBeforeBuild(e,t){var r=_0x123cdd;await(0,common_1[r(157)])(e)&&(await(0,common_1[r(211)])(e),await processServiceHooks(e,t,r(224)))}async function onAfterInit(e,t){var r=_0x123cdd;await(0,common_1[r(157)])(e)&&await processServiceHooks(e,t,r(178))}function _0x53c5(){const e=["14htjdqd","20332200ZDfgbK","8850rdbHbe","onAfterBuild","enable","1101978pDPcXk","101240oEOgnX","path","readJson","281725fmzwpw","test","csLogger","getProjectPath","网络异常,您的服务将不会被集成,请检查后重试","csUtil","sdkHubConfig","sdkhUbServiceIntegrationFailed","1717256QpTCRM","require","108wrTLIG","message","csConfig","173350IEoqaN","121DjAldy","18rdIXij","../../utils","shift","onBeforeCompressSettings","9LmyIzh","getPlatformID","readServiceList","push","packages","72FsgIah","get","service_id","checkCocosService","csAnalytics","sdkhub$$","serviceIntegrationSuccess","cocos-service","4wQjrlE","Building Time","onAfterInit","existsSync","throwError","onAfterCompressSettings","__esModule","sort","fs-extra","packageName","pUseType","cocos_uid","services","app_id","sdkhUbServiceIntegrationSuccess","builder","70lhyWTP","join","467126BLGTyd","has","updateConfigInfos","warn","service-sdkhub","huaweiServiceIntegrationFailed","31636XRHwxl","service_component_name","getUserData","onBeforeBuild","csEditor","6oBVngF","57704JGPYsH","substr"];return(_0x53c5=function(){return e})()}async function onBeforeCompressSettings(e,t){var r=_0x123cdd;await(0,common_1[r(157)])(e)&&await processServiceHooks(e,t,r(213))}async function onAfterCompressSettings(e,t){var r=_0x123cdd;await(0,common_1[r(157)])(e)&&((0,common_1.processCommonNativeModule)(t),await processServiceHooks(e,t,r(197)))}async function onAfterBuild(e,t){var r=_0x123cdd;await(0,common_1.checkCocosService)(e)&&await processServiceHooks(e,t,r(198))}async function processServiceIntegration(e,t,r,s){var c=_0x501faf,i=_0x123cdd;let n=(await utils_1[i(204)][i(217)]())[i(194)],o=await utils_1[i(216)].readBindGame(),a="",d=(0,path_1[i(222)])(utils_1[i(204)][c(404)](),i(191)),_=(/^service-(agc|hms|sdkhub)/[c(402)](t.service_component_name)&&(0,fs_extra_1[i(173)])(d)&&(a=utils_1[i(169)][i(172)](d)[i(183)][i(162)]),"");if("service-sdkhub"===t[i(177)]){r=r[c(424)][i(215)][c(407)];if(r&&"{}"!==JSON[i(168)](r))for(var u of r[i(193)])_+=","+u[c(369)]+":"+u[i(199)]}void 0===s?/^service-(agc|hms)/[c(402)](t[c(385)])?utils_1[i(158)][i(203)](n,o,t,e,a,i(179)):i(220)===t[i(177)]?utils_1.csAnalytics[i(219)](n,o,t,e,a,c(361),i(221)+_[i(200)](1)):utils_1[i(158)][i(176)](n,o,t,e,i(179)):/^service-(agc|hms)/[i(167)](t[i(177)])?utils_1[i(158)][c(383)](n,o,t,e,a,"Building Time",s):i(220)===t[c(385)]?utils_1[i(158)][i(210)](n,o,t,e,a,i(179),i(221)+_[c(391)](1),s):utils_1[i(158)][i(186)](n,o,t,e,i(179),s)}function _0x3d18(e,t){const r=_0x53c5();return(_0x3d18=function(e,t){return e-=353,r[e]})(e,t)}function _0x3cbb(e,t){const r=_0x318d();return(_0x3cbb=function(e,t){return e-=157,r[e]})(e,t)}exports[_0x123cdd(224)]=onBeforeBuild,exports[_0x501faf(362)]=onAfterInit,exports[_0x123cdd(213)]=onBeforeCompressSettings,exports[_0x123cdd(197)]=onAfterCompressSettings,exports[_0x123cdd(198)]=onAfterBuild;