"use strict";const _0x424943=_0x4111;!function(e,t){const s=_0x4111,c=_0x78a1();for(;;)try{if(648481===-parseInt(s(532))/1*(parseInt(s(548))/2)+-parseInt(s(490))/3*(parseInt(s(547))/4)+parseInt(s(491))/5+parseInt(s(509))/6+-parseInt(s(529))/7*(-parseInt(s(500))/8)+parseInt(s(510))/9+-parseInt(s(535))/10)break;c.push(c.shift())}catch(e){c.push(c.shift())}}();const _0x2c3c10=_0x3ae0;(function(e,t){const s=_0x4111,c=_0x3ae0,r=_0x2d7a();for(;;)try{if(168851===parseInt(c(285))/1+parseInt(c(291))/2+parseInt(c(307))/3+parseInt(c(269))/4*(-parseInt(c(294))/5)+-parseInt(c(255))/6*(parseInt(c(276))/7)+-parseInt(c(267))/8*(parseInt(c(253))/9)+-parseInt(c(254))/10)break;r.push(r[s(502)]())}catch(e){r[s(517)](r[s(502)]())}})(),Object[_0x424943(539)](exports,_0x424943(536),{value:!0}),exports[_0x424943(540)]=exports[_0x2c3c10(298)]=exports[_0x424943(550)]=exports[_0x2c3c10(295)]=exports[_0x2c3c10(277)]=exports[_0x2c3c10(262)]=void 0;const fs_extra_1=require(_0x2c3c10(296)),path_1=require(_0x2c3c10(278)),utils_1=require(_0x2c3c10(271)),common_1=require(_0x2c3c10(261));exports[_0x424943(544)]=!0;let buildCache=new Map;function compareService(e,t){const s=_0x2c3c10;return e[s(259)]===t[s(259)]?0:t[s(259)]?-1:1}let processServiceHooks=async(e,t,s)=>{const c=_0x424943,r=_0x2c3c10;try{if(!await utils_1[c(558)][r(290)]())return}catch(e){return void utils_1.csLogger[c(519)]("网络异常,您的服务将不会被集成,请检查后重试")}let o=e[r(305)][c(504)],n=(0,common_1[r(280)])(e);if(void 0===o||0===o[c(514)][r(299)])return;r(277)===s&&buildCache[c(542)]();const i=o[c(514)].sort(compareService);for(const o of i){if(!(0,fs_extra_1[r(256)])(o[c(546)]))break;let i=(await utils_1[r(304)][r(252)]())[r(302)](e=>e[r(272)]===o[r(272)]);buildCache[r(274)](o[r(303)])||buildCache[r(289)](o[c(541)],utils_1[r(249)].require(o[r(286)]));let a=buildCache[r(279)](o[c(541)]);if(void 0===a)break;try{switch(s){case c(543):a[r(295)]&&await a[r(295)](e,t);break;case r(277):a[r(277)]&&await a[r(277)](e,t);break;case r(250):a[c(550)]&&await a[r(250)](e,t);break;case r(298):a[r(298)]&&await a[r(298)](e,t);break;case r(264):a[r(264)]&&await a.onAfterBuild(e,t),i&&processServiceIntegration(n,i,e)}}catch(t){throw i&&processServiceIntegration(n,i,e,(t instanceof Error?t[r(297)]:JSON[r(263)](t))||""),t}}};async function onBeforeBuild(e,t){const s=_0x424943,c=_0x2c3c10;await(0,common_1[c(283)])(e)&&(await(0,common_1[c(273)])(e),await processServiceHooks(e,t,s(552)))}async function onAfterInit(e,t){const s=_0x2c3c10;await(0,common_1.checkCocosService)(e)&&await processServiceHooks(e,t,s(295))}async function onBeforeCompressSettings(e,t){const s=_0x424943,c=_0x2c3c10;await(0,common_1[c(283)])(e)&&await processServiceHooks(e,t,s(550))}function _0x2d7a(){const e=_0x424943,t=[e(518),e(495),"huaweiServiceIntegrationSuccess",e(551),e(554),"pUseType",e(513),e(544),"stringify",e(540),e(496),"readBindGame","189896AQFWih",e(558),e(516),"sdkhub$$",e(556),"service_id",e(521),"has",e(555),"14eoFjaS",e(552),e(520),e(512),e(524),e(549),e(531),e(553),e(503),e(499),e(546),e(538),e(523),"set",e(497),e(494),e(530),e(537),"29625APGlSR","onAfterInit",e(515),"message",e(508),e(534),e(498),e(527),e(545),e(541),"csConfig","packages",e(501),e(511),"getProjectPath",e(522),e(505),e(526),"onBeforeCompressSettings",e(525),e(533),e(493),e(507)];return(_0x2d7a=function(){return t})()}async function onAfterCompressSettings(e,t){const s=_0x2c3c10;await(0,common_1.checkCocosService)(e)&&((0,common_1[s(275)])(t),await processServiceHooks(e,t,s(298)))}function _0x3ae0(e,t){const s=_0x2d7a();return(_0x3ae0=function(e,t){return s[e-=248]})(e,t)}function _0x4111(e,t){const s=_0x78a1();return(_0x4111=function(e,t){return s[e-=490]})(e,t)}function _0x78a1(){const e=["readServiceList","length","10952010wGAuHT","__esModule","readJson","substr","defineProperty","onAfterBuild","service_component_name","clear","onAfterInit","throwError","find","builder","56xEcGns","1709430uLjfpG","getUserData","onBeforeCompressSettings","packageName","onBeforeBuild","checkCocosService","enable","processCommonNativeModule","../../utils","plugins","csEditor","57921hfeTCw","4909200kXlvdi","sdkHubConfig","36tzYYEe","473290KutEPW","existsSync","serviceIntegrationSuccess","isLogin","csAnalytics","194682DFgHdM","6584dLMkBN","csFile","shift","service-sdkhub","cocos-service","cocos_uid","settings/agconnect-services.json","3200300LUSDcx","onAfterCompressSettings","664800KWKPme","6273918prsUaM","934752QyAxXL","get","./common","services","fs-extra","40XdpzsU","push","299496VrkhxU","warn","path","updateConfigInfos","client","join","getPlatformID","huaweiServiceIntegrationFailed","csUtil","serviceIntegrationFailed","test","9177yaQiCo","Building Time","sdkhUbServiceIntegrationFailed","1qSHVsJ"];return(_0x78a1=function(){return e})()}async function onAfterBuild(e,t){const s=_0x424943,c=_0x2c3c10;await(0,common_1[c(283)])(e)&&await processServiceHooks(e,t,s(540))}async function processServiceIntegration(e,t,s,c){const r=_0x424943,o=_0x2c3c10;let n=(await utils_1[o(268)][o(281)]())[o(248)],i=await utils_1[o(304)][o(266)](),a="",u=(0,path_1[o(288)])(utils_1[o(268)][o(308)](),r(506));/^service-(agc|hms|sdkhub)/.test(t[o(303)])&&(0,fs_extra_1[o(256)])(u)&&(a=utils_1[o(306)][o(293)](u)[o(309)].app_id);let _="";if(r(503)===t[r(541)]){let e=s[o(305)][r(504)][r(492)];if(e&&"{}"!==JSON.stringify(e))for(let t of e[r(557)])_+=","+t[o(258)]+":"+t[o(260)]}void 0===c?/^service-(agc|hms)/[r(528)](t[o(303)])?utils_1[o(300)][o(257)](n,i,t,e,a,"Building Time"):o(284)===t[o(303)]?utils_1[o(300)].sdkhUbServiceIntegrationSuccess(n,i,t,e,a,o(292),o(270)+_[o(287)](1)):utils_1[o(300)][o(265)](n,i,t,e,o(292)):/^service-(agc|hms)/[r(528)](t[o(303)])?utils_1[o(300)][o(251)](n,i,t,e,a,o(292),c):o(284)===t[o(303)]?utils_1[o(300)][o(282)](n,i,t,e,a,o(292),"sdkhub$$"+_[o(287)](1),c):utils_1[o(300)][o(301)](n,i,t,e,o(292),c)}exports[_0x424943(552)]=onBeforeBuild,exports[_0x2c3c10(295)]=onAfterInit,exports[_0x2c3c10(250)]=onBeforeCompressSettings,exports[_0x2c3c10(298)]=onAfterCompressSettings,exports[_0x2c3c10(264)]=onAfterBuild;