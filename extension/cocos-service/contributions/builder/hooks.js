"use strict";const _0x1c908b=_0x596b;!function(e,t){const s=_0x596b,c=_0x4378();for(;;)try{if(927511===-parseInt(s(335))/1+parseInt(s(374))/2*(-parseInt(s(363))/3)+-parseInt(s(370))/4*(-parseInt(s(387))/5)+parseInt(s(366))/6*(parseInt(s(383))/7)+-parseInt(s(372))/8+parseInt(s(377))/9*(parseInt(s(340))/10)+-parseInt(s(369))/11)break;c.push(c.shift())}catch(e){c.push(c.shift())}}();const _0xc119f1=_0x4b0a;(function(e,t){const s=_0x596b,c=_0x4b0a,r=_0x10ca();for(;;)try{if(130176===parseInt(c(170))/1+-parseInt(c(162))/2+parseInt(c(143))/3*(-parseInt(c(150))/4)+-parseInt(c(173))/5+parseInt(c(127))/6*(parseInt(c(153))/7)+parseInt(c(142))/8*(-parseInt(c(168))/9)+parseInt(c(169))/10*(parseInt(c(164))/11))break;r.push(r.shift())}catch(e){r[s(330)](r[s(392)]())}})(),Object[_0xc119f1(166)](exports,_0xc119f1(144),{value:!0}),exports[_0x1c908b(356)]=exports[_0xc119f1(152)]=exports[_0xc119f1(145)]=exports[_0xc119f1(140)]=exports[_0xc119f1(125)]=exports[_0x1c908b(351)]=void 0;const fs_extra_1=require(_0x1c908b(339)),path_1=require(_0x1c908b(391)),utils_1=require(_0x1c908b(354)),common_1=require(_0xc119f1(121));function _0x10ca(){const e=_0x1c908b,t=[e(355),e(395),e(398),e(381),e(348),e(337),e(379),e(386),e(371),e(365),e(399),e(393),e(345),e(362),e(343),e(359),e(402),e(334),e(403),"getPlatformID","815551bZaCAZ","sdkhUbServiceIntegrationFailed",e(378),e(400),"209016xRfxRt","70WBLlcL",e(357),e(401),e(333),"809150vKYVNl","csEditor",e(352),e(344),"services","throwError",e(360),e(347),"packageName",e(388),"readServiceList",e(358),e(384),e(364),"sdkhub$$",e(349),e(397),"805602PJqQFA",e(396),e(373),e(389),e(394),e(342),e(338),"pUseType",e(341),e(356),e(332),"checkCocosService","sort",e(346),e(385),e(331),e(367)];return(_0x10ca=function(){return t})()}function _0x596b(e,t){const s=_0x4378();return(_0x596b=function(e,t){return s[e-=330]})(e,t)}exports[_0xc119f1(115)]=!0;let buildCache=new Map;function compareService(e,t){const s=_0xc119f1;return e[_0x1c908b(343)]===t[s(158)]?0:t[s(158)]?-1:1}let processServiceHooks=async(e,t,s)=>{const c=_0x1c908b,r=_0xc119f1;if(!await utils_1[r(174)][r(112)]())return;let n=e[c(359)][r(156)],o=(0,common_1[r(163)])(e);if(void 0===n||0===n[r(114)][r(113)])return;r(125)===s&&buildCache[c(380)]();const i=n[c(382)][r(139)](compareService);for(const n of i){if(!(0,fs_extra_1[c(373)])(n[r(123)]))break;let i=(await utils_1[r(172)][r(120)]()).find(e=>e[r(116)]===n[r(116)]);buildCache[r(171)](n[c(388)])||buildCache[r(161)](n.service_component_name,utils_1[r(117)][r(167)](n[c(364)]));let a=buildCache[c(376)](n[r(119)]);if(void 0===a)break;try{switch(s){case r(140):a[c(346)]&&await a[r(140)](e,t);break;case r(125):a.onBeforeBuild&&await a[r(125)](e,t);break;case"onBeforeCompressSettings":a[r(145)]&&await a[r(145)](e,t);break;case r(152):a[c(371)]&&await a[r(152)](e,t);break;case r(136):a.onAfterBuild&&await a[r(136)](e,t),i&&processServiceIntegration(o,i,e)}}catch(t){throw i&&processServiceIntegration(o,i,e,(t instanceof Error?t[r(160)]:JSON[r(130)](t))||""),t}}};async function onBeforeBuild(e,t){const s=_0x1c908b,c=_0xc119f1;await(0,common_1[s(368)])(e)&&(await(0,common_1[c(157)])(e),await processServiceHooks(e,t,c(125)))}async function onAfterInit(e,t){const s=_0x1c908b,c=_0xc119f1;await(0,common_1[c(138)])(e)&&await processServiceHooks(e,t,s(346))}async function onBeforeCompressSettings(e,t){const s=_0xc119f1;await(0,common_1[s(138)])(e)&&await processServiceHooks(e,t,s(145))}function _0x4b0a(e,t){const s=_0x10ca();return(_0x4b0a=function(e,t){return s[e-=112]})(e,t)}async function onAfterCompressSettings(e,t){const s=_0x1c908b,c=_0xc119f1;await(0,common_1[c(138)])(e)&&((0,common_1[s(375)])(t),await processServiceHooks(e,t,c(152)))}async function onAfterBuild(e,t){const s=_0xc119f1;await(0,common_1[s(138)])(e)&&await processServiceHooks(e,t,s(136))}function _0x4378(){const e=["cocos_uid","test","25tnYHAW","service_component_name","stringify","readBindGame","path","shift","csAnalytics","sdkHubConfig","onBeforeCompressSettings","serviceIntegrationFailed","join","csFile","huaweiServiceIntegrationSuccess","require","has","message","102226BHYMtf","push","72YokBTt","huaweiServiceIntegrationFailed","csConfig","set","296990IQxCXH","settings/agconnect-services.json","substr","serviceIntegrationSuccess","fs-extra","1270cNOnjJ","client","getProjectPath","enable","length","cocos-service","onAfterInit","csUtil","Building Time","onBeforeBuild","sdkhUbServiceIntegrationSuccess","throwError","isLogin","readJson","../../utils","__esModule","onAfterBuild","26888YFLRUX","./common","packages","service_id","getUserData","updateConfigInfos","1404QcTLNG","builder","7GkXnlf","6ytVrLg","27loVeDZ","checkCocosService","6210457zbpxlT","1309664acgzuu","onAfterCompressSettings","1545872AEPUzH","existsSync","4152ixPCBc","processCommonNativeModule","get","45873ZyRUdK","defineProperty","56892ceiead","clear","app_id","services","4686437vqoPoK","service-sdkhub"];return(_0x4378=function(){return e})()}async function processServiceIntegration(e,t,s,c){const r=_0x1c908b,n=_0xc119f1;let o=(await utils_1[n(174)][r(361)]())[n(141)],i=await utils_1[n(172)][r(390)](),a="",_=(0,path_1[n(126)])(utils_1[n(174)][n(132)](),r(336));/^service-(agc|hms|sdkhub)/.test(t[n(119)])&&(0,fs_extra_1[n(129)])(_)&&(a=utils_1[n(146)][r(353)](_)[n(135)][n(147)]);let f="";if(n(122)===t.service_component_name){let e=s[n(159)][n(156)][n(131)];if(e&&"{}"!==JSON[n(130)](e))for(let t of e.plugins)f+=","+t[n(118)]+":"+t[n(134)]}void 0===c?/^service-(agc|hms)/[n(151)](t[n(119)])?utils_1[r(393)][n(154)](o,i,t,e,a,n(148)):n(122)===t[r(388)]?utils_1[n(155)][r(350)](o,i,t,e,a,n(148),"sdkhub$$"+f[n(149)](1)):utils_1[r(393)][n(133)](o,i,t,e,n(148)):/^service-(agc|hms)/[r(386)](t[n(119)])?utils_1[n(155)][n(137)](o,i,t,e,a,n(148),c):n(122)===t[n(119)]?utils_1[n(155)][n(165)](o,i,t,e,a,"Building Time",n(124)+f[r(337)](1),c):utils_1[n(155)][n(128)](o,i,t,e,n(148),c)}exports[_0xc119f1(125)]=onBeforeBuild,exports[_0x1c908b(346)]=onAfterInit,exports[_0x1c908b(395)]=onBeforeCompressSettings,exports[_0xc119f1(152)]=onAfterCompressSettings,exports[_0xc119f1(136)]=onAfterBuild;