const _0x1aff=["csConfig","existsSync","all","onSettingsBrowser","map","require","__esModule","fs-extra","path","jsList","shift","onSettingsSimulator","includes","getServicePluginInfo","debug","service_id","readEnableServices","csUtil","push","use strict","main","readServiceParam","browser","plugins","service_component_name","onSettings"];!function(e,t){!function(t){for(;--t;)e.push(e.shift())}(++t)}(_0x1aff,425);const _0x54b3=function(e,t){return _0x1aff[e-=227]},_0x46e1db=_0x54b3,_0x174f=[_0x46e1db(233),"builder",_0x46e1db(245),_0x46e1db(248),_0x46e1db(243),_0x46e1db(246),"readServiceList","filter",_0x46e1db(249),"simulator",_0x46e1db(250),"csLogger",_0x46e1db(239),_0x46e1db(230),_0x46e1db(232),_0x46e1db(241),_0x46e1db(238),"jsList",_0x46e1db(252),_0x46e1db(244),"csPlugin","push",_0x46e1db(247)];!function(e,t){!function(t){const i=_0x54b3;for(;--t;)e[i(236)](e[i(228)]())}(++t)}(_0x174f,493);const _0x3f5a=function(e,t){return _0x174f[e-=260]},_0x321f40=_0x3f5a;_0x46e1db(237),Object.defineProperty(exports,_0x321f40(260),{value:!0}),exports[_0x46e1db(229)]=exports[_0x321f40(272)]=void 0;const fs_extra_1=require(_0x46e1db(251)),path_1=require(_0x321f40(268)),utils_1=require("../../utils");async function scanfServiceBuilders(){const e=_0x46e1db,t=_0x321f40;let i=[];try{let n=await utils_1.csConfig[t(279)](),s=await utils_1[t(269)][e(234)](),o=n[t(280)](e=>s[t(263)](e[t(273)]));await Promise[t(278)](o[t(276)](n=>{const s=e,o=t;var r;let _=utils_1[o(270)][s(231)](n[s(242)]);if(void 0===_||!(null===(r=_[o(274)])||void 0===r?void 0:r[o(266)]))return;let a=path_1.join(_[o(268)],_.builder[o(266)]);fs_extra_1[o(275)](a)&&i[o(271)]({service_id:n[o(273)],builder:utils_1[s(235)][o(281)](a)})}))}catch(e){utils_1[t(261)][t(264)](e)}return i}async function onCommonSettings(e,t){const i=_0x46e1db,n=_0x321f40;let s=await scanfServiceBuilders();try{await Promise[n(278)](s[i(248)](async i=>{const s=n;i[s(274)][s(277)]&&i[s(274)][s(277)](await utils_1[s(269)][s(262)](i[s(273)]),t,t=>{const i=_0x54b3,n=s;e[n(267)]?e[i(227)][n(271)](t):e[n(265)]&&e[n(265)][n(267)]&&e[i(241)][i(227)][n(271)](t)})}))}catch(e){utils_1[n(261)][n(264)](e)}}async function onSettingsBrowser(e){const t=_0x46e1db;await onCommonSettings(e,t(240))}async function onSettingsSimulator(e){const t=_0x321f40;await onCommonSettings(e,t(282))}exports[_0x321f40(272)]=onSettingsBrowser,exports[_0x46e1db(229)]=onSettingsSimulator;