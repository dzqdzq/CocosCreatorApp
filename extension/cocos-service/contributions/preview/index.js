const _0x5887=["onSettingsSimulator","getServicePluginInfo","../../utils","csUtil","main","require","simulator","join","use strict","fs-extra","debug","push","includes","filter","all","map","csPlugin","onSettings","__esModule","readServiceList","browser","csLogger","readEnableServices","shift","onSettingsBrowser"];!function(t,e){!function(e){for(;--e;)t.push(t.shift())}(++e)}(_0x5887,412);const _0x19f2=function(t,e){return _0x5887[t-=256]},_0x48a6d8=_0x19f2,_0x1366=["service_component_name",_0x48a6d8(276),"path","readServiceParam",_0x48a6d8(280),_0x48a6d8(260),_0x48a6d8(268),_0x48a6d8(261),_0x48a6d8(271),_0x48a6d8(257),"jsList","existsSync",_0x48a6d8(278),_0x48a6d8(266),_0x48a6d8(263),_0x48a6d8(279),_0x48a6d8(270),"builder",_0x48a6d8(273),"defineProperty",_0x48a6d8(275),_0x48a6d8(265),_0x48a6d8(256),_0x48a6d8(269),_0x48a6d8(262),_0x48a6d8(272),"csConfig",_0x48a6d8(274),_0x48a6d8(259),"service_id",_0x48a6d8(258)];!function(t,e){!function(e){const i=_0x19f2;for(;--e;)t.push(t[i(267)]())}(++e)}(_0x1366,144);const _0x106f=function(t,e){return _0x1366[t-=441]},_0x2841d7=_0x106f;_0x48a6d8(277),Object[_0x2841d7(471)](exports,_0x2841d7(445),{value:!0}),exports[_0x2841d7(444)]=exports[_0x2841d7(458)]=void 0;const fs_extra_1=require(_0x2841d7(464)),path_1=require(_0x2841d7(454)),utils_1=require(_0x2841d7(460));async function scanfServiceBuilders(){const t=_0x2841d7;let e=[];try{let i=await utils_1[t(447)][t(466)](),n=await utils_1[t(447)][t(465)](),s=i[t(461)](e=>n[t(443)](e[t(450)]));await Promise[t(451)](s[t(449)](i=>{const n=_0x19f2,s=t;var a;let _=utils_1[s(457)][s(468)](i[s(452)]);if(void 0===_||!(null===(a=_[s(469)])||void 0===a?void 0:a[s(470)]))return;let o=path_1[s(453)](_[s(454)],_[s(469)][n(273)]);fs_extra_1[s(463)](o)&&e[s(456)]({service_id:i[s(450)],builder:utils_1[s(446)][s(448)](o)})}))}catch(e){utils_1[t(442)][t(467)](e)}return e}async function onCommonSettings(t,e){const i=_0x2841d7;let n=await scanfServiceBuilders();try{await Promise[i(451)](n[i(449)](async n=>{const s=i;n[s(469)][s(459)]&&n[s(469)][s(459)](await utils_1.csConfig[s(455)](n[s(450)]),e,e=>t[s(462)][s(456)](e))}))}catch(t){utils_1[i(442)][i(467)](t)}}async function onSettingsBrowser(t){const e=_0x48a6d8;await onCommonSettings(t,e(264))}async function onSettingsSimulator(t){const e=_0x2841d7;await onCommonSettings(t,e(441))}exports[_0x2841d7(458)]=onSettingsBrowser,exports[_0x2841d7(444)]=onSettingsSimulator;