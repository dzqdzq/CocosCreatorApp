"use strict";const _0x4edde9=_0x265b;function _0x54de(){const t=["cc_version","4jOAPlp","81406ldyfVT","cs_version","58757uCYntc","stringify","substr","1754958PdJItM","1832qrAZNF","parseParamter","436IFlWvU","getCreatorVersion","2904ZvnctI","7365316blYJxa","733026sGzyPX","11xUBgTa","defineProperty","1747722RhIALG","1028","session_token","../utils/editor","account/client_signin?session_id=","session/code","1156092qJfzkh","6104XLClZf","17297LSDMQn","lang","127.0.0.1","getUserData","objectSortByKey","service/lists","shift","session_id","find","10pLOEBf","170wQOzFg","../utils/http","202010SVdrth","15410fbyqXE","1560087QEAIRT","583olcroJ","paramEncode","cs_require","__importDefault","push","&0c234adac31fdec28ac45df0b1c42d532b06321c","https://creator-api.cocos.com/api/","catch","18QQedta","11112rOtZRB","getSessionToken","session/token","default","msg","__esModule","75qeAvqW","status","sign"];return(_0x54de=function(){return t})()}!function(t,e){const s=_0x265b,n=_0x54de();for(;;)try{if(179467===-parseInt(s(422))/1*(parseInt(s(423))/2)+-parseInt(s(377))/3+parseInt(s(373))/4*(-parseInt(s(401))/5)+-parseInt(s(380))/6+-parseInt(s(387))/7*(-parseInt(s(375))/8)+-parseInt(s(402))/9+-parseInt(s(400))/10*(-parseInt(s(403))/11))break;n.push(n.shift())}catch(t){n.push(n.shift())}}();const _0x530b40=_0x2cbc;function _0x156b(){const t=_0x265b,e=[t(424),t(398),t(383),t(415),t(414),t(418),t(378),"post",t(392),t(421),"13zvhiHC",t(405),t(385),t(410),t(379),"plugin_id",t(406),"then",t(412),t(369),t(413),t(411),t(404),t(396),t(370),t(425),t(409),t(397),t(381),t(372),"session_code",t(382),"&redirect_url=",t(384),"status","getLang",t(416),t(388),"110601rRJPxn",t(376),t(374),t(395),t(386),"apiPost",t(391),t(371),t(408),t(389),t(420),t(399),"is_refresh_token"];return(_0x156b=function(){return e})()}!function(t,e){const s=_0x265b,n=_0x2cbc,r=_0x156b();for(;;)try{if(358296===-parseInt(n(229))/1*(-parseInt(n(225))/2)+-parseInt(n(209))/3*(-parseInt(n(222))/4)+parseInt(n(231))/5*(-parseInt(n(228))/6)+-parseInt(n(190))/7*(-parseInt(n(198))/8)+-parseInt(n(191))/9*(-parseInt(n(205))/10)+-parseInt(n(210))/11*(-parseInt(n(195))/12)+parseInt(n(214))/13*(-parseInt(n(192))/14))break;r[s(407)](r[s(394)]())}catch(t){r[s(407)](r[s(394)]())}}();var __importDefault=this&&this[_0x530b40(220)]||function(t){return t&&t[_0x265b(417)]?t:{default:t}};function _0x2cbc(t,e){const s=_0x156b();return(_0x2cbc=function(t,e){return s[t-=183]})(t,e)}function _0x265b(t,e){const s=_0x54de();return(_0x265b=function(t,e){return s[t-=368]})(t,e)}Object[_0x530b40(218)](exports,_0x4edde9(417),{value:!0});const editor_1=__importDefault(require(_0x530b40(206))),http_1=__importDefault(require(_0x530b40(202))),domain=_0x530b40(230),not_require_token_urls=[_0x530b40(216),_0x530b40(208),_0x4edde9(393)];exports[_0x530b40(207)]={is_refresh_token:!1,session_token:"",parseParamter:function(t){const e=_0x4edde9,s=_0x530b40;let n=JSON.parse(JSON[e(368)](t));n[s(219)]=s(232),n.ip=e(390),n[s(200)]=editor_1[e(415)][s(188)](),n[s(204)]=editor_1[s(207)].getServiceVersion(),n[s(213)]=editor_1[s(207)][s(193)](),n[s(215)]="3x",n=http_1[e(415)][s(212)](n);let r=http_1[s(207)][s(226)](n)+s(199);return n[s(201)]=require("md5")(r[s(223)](1)),n},apiPost:async function(t,e={}){const s=_0x530b40;return void 0===not_require_token_urls[s(227)](e=>e===t)&&(""===this[s(184)]&&await this[s(224)](),e[s(184)]=this[s(184)]),new Promise((n,r)=>{const i=s;http_1[i(207)][i(211)](domain+t,this[i(233)](e))[i(221)](async e=>{const s=_0x265b,o=i;0===e[o(187)]?n(e.data):406===e[o(187)]?(this[o(203)]=!0,await this[o(224)]()):(e[o(187)],r({status:e[s(419)],msg:e[o(189)],path:t}))})[i(217)](r)})},getSessionToken:async function(){const t=_0x530b40;let e=await editor_1[t(207)][t(197)](),s=await this[t(196)](t(216),{session_id:e.session_id}),n=await this[t(196)](t(208),{session_code:s[t(183)]});this[t(184)]=n[t(184)]},getRedirectUrl:async function(t){const e=_0x530b40;let s=await editor_1[e(207)][e(197)]();return domain+e(186)+s[e(194)]+e(185)+encodeURIComponent(t)}};