const _0x653b=["use strict","&redirect_url=","defineProperty","account/client_signin?session_id=","127.0.0.1","cs_require","is_refresh_token","../utils/editor","paramEncode","parseParamter","catch","lang","cc_version","sign","status","apiPost","__esModule","service/lists","substr","find","https://creator-api.cocos.com/api/","getLang","../utils/http","default","cs_version","session_token","stringify","then","__importDefault","&0c234adac31fdec28ac45df0b1c42d532b06321c","getUserData","getCreatorVersion","session_id","getSessionToken","shift","plugin_id"];!function(t,e){!function(e){for(;--e;)t.push(t.shift())}(++e)}(_0x653b,242);const _0x5eec=function(t,e){return _0x653b[t-=151]},_0x426700=_0x5eec,_0x1bf2=[_0x426700(183),"session/token","data",_0x426700(175),_0x426700(172),_0x426700(165),_0x426700(167),"session_token",_0x426700(162),"md5",_0x426700(182),_0x426700(154),"1028",_0x426700(181),"msg",_0x426700(160),_0x426700(178),"session/code",_0x426700(185),"post",_0x426700(168),_0x426700(177),"session_code","getServiceVersion",_0x426700(171),_0x426700(170),_0x426700(158),_0x426700(179),_0x426700(174),_0x426700(184),_0x426700(151),_0x426700(155),_0x426700(163),"parse",_0x426700(153),_0x426700(152),"objectSortByKey",_0x426700(173),_0x426700(157)];!function(t,e){!function(e){const s=_0x5eec;for(;--e;)t.push(t[s(159)]())}(++e)}(_0x1bf2,363);const _0x5d29=function(t,e){return _0x1bf2[t-=342]},_0x10b0b2=_0x5d29;_0x426700(161);var __importDefault=this&&this[_0x10b0b2(364)]||function(t){return t&&t[_0x10b0b2(351)]?t:{default:t}};Object[_0x10b0b2(362)](exports,_0x10b0b2(351),{value:!0});const editor_1=__importDefault(require(_0x10b0b2(350))),http_1=__importDefault(require(_0x10b0b2(369))),domain=_0x10b0b2(343),not_require_token_urls=[_0x10b0b2(347),_0x10b0b2(370),_0x10b0b2(346)];exports[_0x426700(184)]={is_refresh_token:!1,session_token:"",parseParamter:function(t){const e=_0x426700,s=_0x10b0b2;let _=JSON[s(363)](JSON[s(360)](t));_[s(345)]=s(342),_.ip=s(374),_[s(373)]=editor_1[s(359)][s(379)](),_[s(348)]=editor_1[s(359)][s(353)](),_[s(367)]=editor_1[s(359)][e(156)](),_[e(166)]="3x",_=http_1[s(359)][s(366)](_);let i=http_1[e(184)][e(169)](_)+s(380);return _[s(358)]=require(s(378))(i[s(357)](1)),_},apiPost:async function(t,e={}){const s=_0x426700,_=_0x10b0b2;return void 0===not_require_token_urls[s(180)](e=>e===t)&&(""===this[_(376)]&&await this[_(356)](),e[_(376)]=this[s(186)]),new Promise((s,i)=>{const o=_;http_1[o(359)][o(349)](domain+t,this[o(355)](e))[o(365)](async e=>{const _=o;0===e[_(372)]?s(e[_(371)]):406===e[_(372)]?(this[_(375)]=!0,await this[_(356)]()):(e[_(372)],i({status:e[_(372)],msg:e[_(344)],path:t}))})[o(354)](i)})},getSessionToken:async function(){const t=_0x426700,e=_0x10b0b2;let s=await editor_1[e(359)][t(155)](),_=await this[t(176)]("session/code",{session_id:s[e(368)]}),i=await this.apiPost(e(370),{session_code:_[e(352)]});this[e(376)]=i[e(376)]},getRedirectUrl:async function(t){const e=_0x426700,s=_0x10b0b2;let _=await editor_1[s(359)][s(361)]();return domain+e(164)+_.session_id+s(377)+encodeURIComponent(t)}};