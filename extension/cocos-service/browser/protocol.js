const _0x4e42=["status","paramEncode","find","__importDefault","defineProperty","use strict","cc_version","then","stringify","session/code","session/token","__esModule","data","127.0.0.1","shift","session_token","getSessionToken","plugin_id","cs_version","&redirect_url=","account/client_signin?session_id=","session_code","1028","apiPost","md5","post","getServiceVersion","session_id","lang","parseParamter","default","objectSortByKey","msg","catch","cs_require","parse","../utils/http"];!function(e,t){!function(t){for(;--t;)e.push(e.shift())}(++t)}(_0x4e42,353);const _0x50c1=function(e,t){return _0x4e42[e-=271]},_0x4de3db=_0x50c1,_0x44e3=[_0x4de3db(290),"substr",_0x4de3db(274),_0x4de3db(278),_0x4de3db(303),_0x4de3db(307),_0x4de3db(301),"getCreatorVersion","service/lists",_0x4de3db(299),_0x4de3db(286),_0x4de3db(280),"https://creator-api.cocos.com/api/",_0x4de3db(296),"getUserData",_0x4de3db(288),_0x4de3db(292),"&0c234adac31fdec28ac45df0b1c42d532b06321c",_0x4de3db(300),_0x4de3db(298),_0x4de3db(279),_0x4de3db(285),_0x4de3db(305),_0x4de3db(291),_0x4de3db(272),_0x4de3db(283),_0x4de3db(284),_0x4de3db(306),_0x4de3db(304),_0x4de3db(282),_0x4de3db(276),_0x4de3db(281),"is_refresh_token",_0x4de3db(294),"session/code"];!function(e,t){!function(t){const s=_0x50c1;for(;--t;)e.push(e[s(302)]())}(++t)}(_0x44e3,275);const _0x47c5=function(e,t){return _0x44e3[e-=322]},_0x1fbeff=_0x47c5;_0x4de3db(293);var __importDefault=this&&this[_0x1fbeff(350)]||function(e){return e&&e[_0x1fbeff(336)]?e:{default:e}};Object[_0x1fbeff(343)](exports,"__esModule",{value:!0});const editor_1=__importDefault(require("../utils/editor")),http_1=__importDefault(require(_0x4de3db(287))),domain=_0x1fbeff(339),not_require_token_urls=[_0x1fbeff(326),_0x1fbeff(346),_0x1fbeff(335)];exports[_0x4de3db(281)]={is_refresh_token:!1,session_token:"",parseParamter:function(e){const t=_0x4de3db,s=_0x1fbeff;let d=JSON[s(337)](JSON[s(340)](e));d[s(349)]=t(273),d.ip=s(333),d[s(347)]=editor_1[s(323)].getLang(),d[s(354)]=editor_1.default[t(277)](),d[s(325)]=editor_1[s(323)][s(334)](),d[s(348)]="3x",d=http_1[s(323)][s(356)](d);let _=http_1[s(323)][t(289)](d)+s(344);return d.sign=require(t(275))(_[s(328)](1)),d},apiPost:async function(e,t={}){const s=_0x1fbeff;return void 0===not_require_token_urls[s(327)](t=>t===e)&&(""===this[s(331)]&&await this[s(355)](),t[s(331)]=this[s(331)]),new Promise((d,_)=>{const i=_0x50c1,o=s;http_1.default[o(322)](domain+e,this[o(338)](t))[i(295)](async t=>{const s=o;0===t[s(342)]?d(t[s(345)]):406===t[s(342)]?(this[s(324)]=!0,await this[s(355)]()):(t[s(342)],_({status:t[s(342)],msg:t[s(352)],path:e}))})[o(353)](_)})},getSessionToken:async function(){const e=_0x4de3db,t=_0x1fbeff;let s=await editor_1[t(323)][t(341)](),d=await this[t(329)](e(297),{session_id:s[t(330)]}),_=await this[t(329)](t(346),{session_code:d[t(351)]});this[t(331)]=_[e(303)]},getRedirectUrl:async function(e){const t=_0x4de3db,s=_0x1fbeff;let d=await editor_1[s(323)][s(341)]();return domain+t(271)+d[s(330)]+s(332)+encodeURIComponent(e)}};