"use strict";const _0x4a33fa=_0x3884;function _0x3884(t,e){const s=_0xf32e();return(_0x3884=function(t,e){return s[t-=167]})(t,e)}!function(t,e){const s=_0x3884,n=_0xf32e();for(;;)try{if(769045===parseInt(s(194))/1*(parseInt(s(189))/2)+parseInt(s(217))/3+-parseInt(s(174))/4*(-parseInt(s(167))/5)+-parseInt(s(215))/6*(-parseInt(s(214))/7)+-parseInt(s(213))/8+-parseInt(s(188))/9*(-parseInt(s(206))/10)+-parseInt(s(197))/11*(parseInt(s(186))/12))break;n.push(n.shift())}catch(t){n.push(n.shift())}}();const _0x3b2836=_0x2d12;function _0xf32e(){const t=["5495103QkrqFT","1418318tbnAWO","355992ZacHqI","732TlctER","apiPost","__importDefault","2HWAFZG","push","find","385CnVpRw","shift","service/lists","getSessionToken","session/code","objectSortByKey","status","50795xblfme","plugin_id","20ftBHeK","data","&0c234adac31fdec28ac45df0b1c42d532b06321c","cc_version","session_token","1028","session_id","8300712HRcSix","2891cpelFb","15102hPPNzL","cs_require","3266967SBgVyL","__esModule","764545phNIUa","589612eXWAvu","session_code","session/token","64685ssFRxm","default","3vZkhRE","md5","19019qzJRzy","https://creator-api.cocos.com/api/","8hpHKZX","4djEnVq","&redirect_url=","getUserData","catch","sign","10XHczMF","then","is_refresh_token","3918987fdgXNj","paramEncode","132pgHxuN","getServiceVersion","1019748isUyqg","msg"];return(_0xf32e=function(){return t})()}function _0x2d12(t,e){const s=_0x36c4();return(_0x2d12=function(t,e){return s[t-=485]})(t,e)}!function(t,e){const s=_0x3884,n=_0x2d12,r=_0x36c4();for(;;)try{if(934622===parseInt(n(507))/1+parseInt(n(497))/2+-parseInt(n(532))/3*(parseInt(n(503))/4)+-parseInt(n(527))/5*(-parseInt(n(490))/6)+-parseInt(n(487))/7*(parseInt(n(501))/8)+parseInt(n(534))/9*(parseInt(n(524))/10)+-parseInt(n(513))/11*(parseInt(n(530))/12))break;r[s(195)](r.shift())}catch(t){r.push(r[s(198)]())}}();var __importDefault=this&&this[_0x3b2836(505)]||function(t){return t&&t[_0x3b2836(510)]?t:{default:t}};function _0x36c4(){const t=_0x3884,e=[t(187),t(173),t(208),"5763444OYfHGj",t(175),t(193),t(209),t(219),t(192),t(177),t(218),"../utils/editor",t(221),t(184),t(210),t(185),t(207),t(176),t(202),"getCreatorVersion","parse","lang",t(205),t(216),t(179),"cs_version","127.0.0.1",t(204),t(222),t(199),t(190),"substr",t(169),t(203),t(182),t(212),"getLang",t(211),t(171),"defineProperty","stringify",t(191),"parseParamter","account/client_signin?session_id=",t(200),t(168),t(201),t(178),t(220),t(183),t(170)];return(_0x36c4=function(){return e})()}Object[_0x3b2836(488)](exports,"__esModule",{value:!0});const editor_1=__importDefault(require(_0x3b2836(511))),http_1=__importDefault(require("../utils/http")),domain=_0x4a33fa(172),not_require_token_urls=[_0x3b2836(495),_0x3b2836(528),_0x3b2836(529)];exports[_0x3b2836(494)]={is_refresh_token:!1,session_token:"",parseParamter:function(t){const e=_0x3b2836;let s=JSON[e(520)](JSON[e(489)](t));s[e(522)]=e(486),s.ip=e(526),s[e(521)]=editor_1[e(494)][e(485)](),s[e(525)]=editor_1[e(494)][e(515)](),s[e(506)]=editor_1[e(494)][e(519)](),s[e(523)]="3x",s=http_1.default[e(518)](s);let n=http_1[e(494)][e(498)](s)+e(502);return s[e(496)]=require(e(499))(n[e(531)](1)),s},apiPost:async function(t,e={}){const s=_0x4a33fa,n=_0x3b2836;return void 0===not_require_token_urls[s(196)](e=>e===t)&&(""===this[s(210)]&&await this[s(200)](),e[n(514)]=this[n(514)]),new Promise((r,i)=>{const o=s,a=n;http_1.default.post(domain+t,this[a(491)](e))[o(180)](async e=>{const s=o,n=a;0===e[n(533)]?r(e[n(516)]):406===e[n(533)]?(this[s(181)]=!0,await this[n(493)]()):(e[n(533)],i({status:e[s(203)],msg:e[n(500)],path:t}))})[a(509)](i)})},getSessionToken:async function(){const t=_0x3b2836;let e=await editor_1[t(494)][t(517)](),s=await this[t(508)](t(495),{session_id:e[t(535)]}),n=await this[t(508)](t(528),{session_code:s[t(512)]});this[t(514)]=n[t(514)]},getRedirectUrl:async function(t){const e=_0x3b2836;let s=await editor_1[e(494)][e(517)]();return domain+e(492)+s[e(535)]+e(504)+encodeURIComponent(t)}};