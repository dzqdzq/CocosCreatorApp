const _0x4408=["pluginMap","call","set","readFile","name","reloadPlugin",":detail","unload","remove","loadServicePlugin","has","csEditor","../assets/creator.css","get","text/css","join","insertServicePlugin","firstChild","__setModuleDefault","innerHTML","use strict","../../builtin","fs-extra","detail","delete","load","split","package_download_url","type","csProtocol","defineProperty","nextSibling","csUtil","textContent","hasOwnProperty","item","contents","existsSync","__createBinding","string","forEach","length","csEvent","setAttribute","unloadServicePlugin","getServicePluginInfo","getServiceHomePath","createElement","plugin:","__esModule","_unloadServicePlugin","../../utils","installPlugin","service-","path","csFile","clear","csPlugin","bind","create","stringify","keys","pluginInfoMap","_loadServicePlugin",".zip","__importStar","push","style"];!function(t,i){!function(i){for(;--i;)t.push(t.shift())}(++i)}(_0x4408,324);const _0x42b9=function(t,i){return _0x4408[t-=318]},_0x53779c=_0x42b9,_0x578e=[_0x53779c(365),_0x53779c(322),_0x53779c(333),"insertServicePluginInfo",_0x53779c(345),_0x53779c(374),_0x53779c(369),_0x53779c(320),_0x53779c(384),_0x53779c(319),_0x53779c(321),_0x53779c(347),_0x53779c(373),_0x53779c(342),_0x53779c(341),_0x53779c(372),_0x53779c(339),_0x53779c(371),_0x53779c(324),_0x53779c(362),_0x53779c(379),_0x53779c(327),"values",_0x53779c(367),_0x53779c(318),_0x53779c(328),"pluginExists","registerI18n",_0x53779c(325),_0x53779c(349),"split",_0x53779c(338),_0x53779c(335),_0x53779c(351),_0x53779c(352),"default","querySelector",":item",_0x53779c(370),_0x53779c(358),_0x53779c(346),"getVersionDesc",_0x53779c(326),"require",_0x53779c(382),"main",_0x53779c(366),"createElement",_0x53779c(353),_0x53779c(340),"insertServicePlugin",_0x53779c(331),_0x53779c(376),_0x53779c(359),"removeAllListeners",_0x53779c(378),_0x53779c(361),_0x53779c(343),"deleteCache","defineProperty","getServiceHomePath",_0x53779c(377),_0x53779c(337),_0x53779c(329),_0x53779c(368),_0x53779c(336),_0x53779c(348),_0x53779c(323),_0x53779c(357),"readdirSync",_0x53779c(356),"methods","insertBefore",_0x53779c(385),_0x53779c(355),"replace",_0x53779c(334),_0x53779c(344)];!function(t,i){!function(i){const e=_0x42b9;for(;--i;)t[e(332)](t.shift())}(++i)}(_0x578e,430);const _0x2872=function(t,i){return _0x578e[t-=240]},_0x2af416=_0x2872;_0x53779c(354);var __createBinding=this&&this[_0x2af416(293)]||(Object[_0x2af416(306)]?function(t,i,e,n){void 0===n&&(n=e),Object[_0x53779c(364)](t,n,{enumerable:!0,get:function(){return i[e]}})}:function(t,i,e,n){void 0===n&&(n=e),t[n]=i[e]}),__setModuleDefault=this&&this[_0x2af416(312)]||(Object[_0x2af416(306)]?function(t,i){const e=_0x2af416;Object[e(259)](t,e(313),{enumerable:!0,value:i})}:function(t,i){t.default=i}),__importStar=this&&this[_0x2af416(251)]||function(t){const i=_0x2af416;if(t&&t[_0x53779c(383)])return t;var e={};if(null!=t)for(var n in t)i(313)!==n&&Object.prototype[i(264)][i(310)](t,n)&&__createBinding(e,t,n);return __setModuleDefault(e,t),e};Object[_0x2af416(259)](exports,_0x53779c(383),{value:!0});const fs_extra_1=require(_0x2af416(270)),path_1=require(_0x2af416(285)),utils_1=__importStar(require(_0x2af416(273)));exports[_0x2af416(313)]={pluginInfoMap:new Map,pluginMap:new Map,isInstall:!1,isUpdate:!1,scanfServicePluginInfos:function(){const t=_0x2af416;let i=utils_1.csEditor[t(260)]();if(!fs_extra_1[t(295)](i))return;this[t(303)][t(279)](),fs_extra_1[t(269)](i)[t(283)](i=>{this[t(281)](i)});let e=path_1[t(307)](__dirname,t(274));fs_extra_1[t(269)](e)[t(283)](t=>{this.insertServicePluginInfo(t)})},insertServicePluginInfo:function(t){const i=_0x53779c,e=_0x2af416;let n=utils_1[e(267)][i(379)](t);void 0!==n&&this[e(303)][e(265)](n[e(309)],n)},getServicePluginInfo:function(t){const i=_0x2af416;return!this[i(303)][i(277)](t)&&utils_1[i(267)][i(304)](t)&&this[i(281)](t),this[i(303)][i(289)](t)},scanfServicePlugins:function(){const t=_0x2af416;this[t(276)][t(279)]();for(let i of this[t(303)][t(300)]())this[t(250)](i)},insertServicePlugin:function(t){const i=_0x2af416;void 0!==t&&void 0!==t[i(316)]&&null!==typeof t.contents&&(t[i(316)][i(268)]&&this[i(276)][i(265)](t[i(309)]+i(249),utils_1[i(246)][i(243)](t[i(285)],t[i(316)][i(268)][i(245)])),t[i(316)][i(284)]&&this[i(276)][i(265)](t[i(309)]+i(315),utils_1[i(246)][i(243)](t[i(285)],t[i(316)][i(284)][i(245)])))},getServicePlugin:function(t,i){const e=_0x53779c,n=_0x2af416;return this[n(303)][e(344)](t)||this[e(334)][e(344)](t+":"+i)||this[n(294)](t),this[n(276)][n(289)](t+":"+i)},loadAllServicePlugins:async function(){const t=_0x53779c,i=_0x2af416;for(let e of this[i(303)][t(327)]())await this[i(257)](e)},loadServicePlugin:async function(t){const i=_0x2af416;this[i(305)](t);for(let[e,n]of this[i(276)])t===e[i(308)](":")[0]&&(await this[i(263)](e,n),this[i(276)][i(265)](e,n))},_loadServicePlugin:async function(t,i){const e=_0x2af416;if(i[_0x53779c(359)]&&await i[e(253)](utils_1[e(313)]),i[e(271)])for(let n in i[e(271)])utils_1.csEvent.on(e(244)+t+":"+n,i[e(271)][n][e(296)](i))},createInnterHTML:function(t,i,e,n){const c=_0x53779c,s=_0x2af416;i[s(248)]=t.template;let _=document[s(247)](s(280));if(_[s(261)](s(297),s(266)),_[s(301)]=utils_1[s(288)][s(262)](__dirname,s(240))+utils_1[s(288)][s(262)](__dirname,"../assets/panel.css"),i[s(272)](_,i[s(311)]),t[s(280)]){let e=document[c(381)](c(333));e[s(261)](s(297),s(266)),e[s(301)]=t[c(333)],i[s(272)](e,_[s(278)])}if(t.$){let e=JSON.parse(JSON[s(242)](t.$));for(let n of Object[s(299)](e)){if(s(290)!=typeof t.$[n])return;t.$[n]=i[s(314)](e[n])}}this[c(334)][s(265)](e+":"+n,t)},unloadAllServicePlugins:async function(){const t=_0x2af416;for(let i of this[t(303)][t(299)]())await this[t(255)](i)},unloadServicePlugin:async function(t){const i=_0x53779c,e=_0x2af416;for(let[n,c]of this[e(276)])t===n[i(360)](":")[0]&&await this[e(286)](n,c);this[e(303)][i(344)](t)&&this.pluginInfoMap[e(317)](t)},_unloadServicePlugin:async function(t,i){const e=_0x53779c,n=_0x2af416;if(i[e(341)]&&await i[n(292)](),i[n(271)])for(let e in i[n(271)])utils_1[n(252)][n(254)](n(244)+t+":"+e);this[e(334)][e(358)](t)},registerI18n:function(t){const i=_0x2af416;utils_1[_0x53779c(323)][i(305)](t)},pluginExists:function(t){const i=_0x2af416;return this[_0x53779c(328)][i(277)](t)},uninstallPlugin:async function(t){const i=_0x53779c,e=_0x2af416;await this[e(255)](t),this[e(303)][e(317)](t),utils_1[e(288)][e(291)](path_1[e(307)](utils_1[e(282)][i(380)](),t[e(275)](e(287),"")))},installPlugin:function(t,i,e){const n=_0x2af416;return utils_1[n(267)][n(302)](t,i,e)},reloadPlugin:async function(t){const i=_0x53779c,e=_0x2af416;await this[i(378)](t);let n=path_1[e(307)](utils_1[e(282)][e(260)](),t[e(275)](e(287),""));utils_1[i(366)][e(258)](n),this[e(281)](n);let c=this[e(298)](t);void 0!==c&&(this[i(350)](c),await this[e(257)](t))},getPluginVerByURL:function(t){const i=_0x53779c,e=_0x2af416;if(""!==t){let n=t[e(308)]("/");return n[n[i(375)]-1][e(275)](i(330),"")}return""},getPluginUrlByVer:async function(t,i){const e=_0x53779c,n=_0x2af416;return(await utils_1[e(363)][n(241)](t,i))[n(256)]}};