const _0x588a=["unload","detail","fs-extra",":detail","get","name","csProtocol","pluginInfoMap","parse","create","push",":item","csUtil","has","contents","../assets/creator.css","clear","insertBefore","setAttribute","prototype","text/css","_loadServicePlugin","../../builtin","use strict","csEvent","delete","methods","installPlugin","loadServicePlugin","service-","shift","querySelector","template","pluginExists","default","set","bind","__createBinding","unloadServicePlugin","style","keys","readFile","__esModule","reloadPlugin","_unloadServicePlugin","getVersionDesc","remove","readdirSync","nextSibling","load","join","package_download_url","split","getServiceHomePath","textContent","path","csPlugin","main","stringify","defineProperty","createElement","type","forEach","pluginMap","insertServicePluginInfo","replace","insertServicePlugin","firstChild","__setModuleDefault","../../utils"];!function(t,e){!function(e){for(;--e;)t.push(t.shift())}(++e)}(_0x588a,207);const _0x3899=function(t,e){return _0x588a[t-=193]},_0x353992=_0x3899,_0x1767=["delete",_0x353992(236),_0x353992(199),_0x353992(216),_0x353992(257),_0x353992(245),_0x353992(228),_0x353992(218),_0x353992(200),_0x353992(262),_0x353992(256),_0x353992(235),_0x353992(237),_0x353992(243),_0x353992(253),"registerI18n",_0x353992(193),_0x353992(205),_0x353992(261),_0x353992(234),"call",_0x353992(222),_0x353992(202),_0x353992(242),_0x353992(240),"innerHTML",_0x353992(231),"hasOwnProperty",_0x353992(198),_0x353992(227),"../assets/panel.css",_0x353992(196),_0x353992(195),"item",_0x353992(247),_0x353992(260),"existsSync","require","string",_0x353992(251),_0x353992(201),_0x353992(254),_0x353992(244),_0x353992(214),_0x353992(258),_0x353992(210),_0x353992(213),_0x353992(241),_0x353992(250),"getServicePluginInfo",_0x353992(203),"plugin:",_0x353992(209),_0x353992(259),_0x353992(255),_0x353992(224),_0x353992(246),_0x353992(194),"csEditor",_0x353992(207),_0x353992(197),_0x353992(223),_0x353992(220),_0x353992(211),".zip",_0x353992(225),_0x353992(233),_0x353992(252),"csFile","getServiceHomePath",_0x353992(238),_0x353992(212),"deleteCache",_0x353992(230),_0x353992(204),_0x353992(232),"split","values",_0x353992(208)];!function(t,e){!function(e){const i=_0x3899;for(;--e;)t[i(206)](t[i(226)]())}(++e)}(_0x1767,228);const _0xa84a=function(t,e){return _0x1767[t-=225]},_0xaabd2e=_0xa84a;_0x353992(219);var __createBinding=this&&this[_0xaabd2e(300)]||(Object[_0xaabd2e(251)]?function(t,e,i,n){void 0===n&&(n=i),Object[_0x353992(255)](t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),__setModuleDefault=this&&this[_0xaabd2e(291)]||(Object[_0xaabd2e(251)]?function(t,e){const i=_0xaabd2e;Object[i(288)](t,i(228),{enumerable:!0,value:e})}:function(t,e){t[_0xaabd2e(228)]=e}),__importStar=this&&this.__importStar||function(t){const e=_0x353992,i=_0xaabd2e;if(t&&t[i(225)])return t;var n={};if(null!=t)for(var a in t)i(228)!==a&&Object[e(215)][i(261)][i(254)](t,a)&&__createBinding(n,t,a);return __setModuleDefault(n,t),n};Object[_0xaabd2e(288)](exports,_0xaabd2e(225),{value:!0});const fs_extra_1=require(_0xaabd2e(262)),path_1=require(_0xaabd2e(273)),utils_1=__importStar(require(_0xaabd2e(266)));exports[_0xaabd2e(228)]={pluginInfoMap:new Map,pluginMap:new Map,isInstall:!1,isUpdate:!1,scanfServicePluginInfos:function(){const t=_0x353992,e=_0xaabd2e;let i=utils_1.csEditor[t(249)]();if(!fs_extra_1[e(270)](i))return;this[e(284)][e(226)](),fs_extra_1[e(247)](i)[t(258)](t=>{this[e(269)](t)});let n=path_1[t(246)](__dirname,e(241));fs_extra_1[e(247)](n)[e(278)](t=>{this[e(269)](t)})},insertServicePluginInfo:function(t){const e=_0xaabd2e;let i=utils_1[e(301)][e(283)](t);void 0!==i&&this[e(284)][e(260)](i[e(274)],i)},getServicePluginInfo:function(t){const e=_0x353992,i=_0xaabd2e;return!this[i(284)][i(286)](t)&&utils_1[e(252)][e(229)](t)&&this[i(269)](t),this[i(284)][e(200)](t)},scanfServicePlugins:function(){const t=_0x353992,e=_0xaabd2e;this[t(259)][t(212)]();for(let i of this[t(203)][e(232)]())this[t(262)](i)},insertServicePlugin:function(t){const e=_0x353992,i=_0xaabd2e;void 0!==t&&void 0!==t[i(279)]&&null!==typeof t[i(279)]&&(t[i(279)][i(294)]&&this.pluginMap[i(260)](t[i(274)]+i(236),utils_1[i(233)][i(271)](t[i(273)],t[i(279)][i(294)][e(253)])),t.contents[i(267)]&&this[i(287)][i(260)](t[e(201)]+i(293),utils_1[i(233)][i(271)](t[e(251)],t[i(279)][i(267)][i(248)])))},getServicePlugin:function(t,e){const i=_0x353992,n=_0xaabd2e;return this[n(284)][n(286)](t)||this[n(287)][i(209)](t+":"+e)||this[i(239)](t),this[n(287)][n(242)](t+":"+e)},loadAllServicePlugins:async function(){const t=_0xaabd2e;for(let e of this[t(284)].keys())await this[t(289)](e)},loadServicePlugin:async function(t){const e=_0x353992,i=_0xaabd2e;this[i(249)](t);for(let[n,a]of this[i(287)])t===n[i(231)](":")[0]&&(await this[e(217)](n,a),this[i(287)][i(260)](n,a))},_loadServicePlugin:async function(t,e){const i=_0x353992,n=_0xaabd2e;if(e[n(239)]&&await e[n(239)](utils_1[n(228)]),e[n(255)])for(let a in e[n(255)])utils_1[n(296)].on(n(285)+t+":"+a,e[i(222)][a][n(230)](e))},createInnterHTML:function(t,e,i,n){const a=_0x353992,s=_0xaabd2e;e[s(259)]=t[s(240)];let _=document[s(244)](a(235));if(_[s(277)](s(238),s(237)),_[s(282)]=utils_1[s(302)][s(246)](__dirname,s(297))+utils_1[s(302)][a(237)](__dirname,s(264)),e.insertBefore(_,e[s(250)]),t[s(245)]){let i=document[s(244)](s(245));i[s(277)](s(238),s(237)),i[s(282)]=t[s(245)],e[s(280)](i,_[s(276)])}if(t.$){let i=JSON[s(229)](JSON[s(275)](t.$));for(let n of Object[s(235)](i)){if(s(272)!=typeof t.$[n])return;t.$[n]=e[s(263)](i[n])}}this[s(287)][s(260)](i+":"+n,t)},unloadAllServicePlugins:async function(){const t=_0xaabd2e;for(let e of this[t(284)][t(235)]())await this[t(253)](e)},unloadServicePlugin:async function(t){const e=_0x353992,i=_0xaabd2e;for(let[n,a]of this[i(287)])t===n[e(248)](":")[0]&&await this[i(258)](n,a);this[e(203)].has(t)&&this[i(284)][i(234)](t)},_unloadServicePlugin:async function(t,e){const i=_0x353992,n=_0xaabd2e;if(e[n(265)]&&await e[n(265)](),e[n(255)])for(let i in e[n(255)])utils_1[n(296)].removeAllListeners(n(285)+t+":"+i);this[n(287)][i(221)](t)},registerI18n:function(t){const e=_0xaabd2e;utils_1[e(301)][e(249)](t)},pluginExists:function(t){const e=_0xaabd2e;return this[e(284)][e(286)](t)},uninstallPlugin:async function(t){const e=_0x353992,i=_0xaabd2e;await this[e(234)](t),this[e(203)][i(234)](t),utils_1[i(302)][i(257)](path_1[i(290)](utils_1[i(292)][e(249)](),t[i(252)](e(225),"")))},installPlugin:function(t,e,i){const n=_0xaabd2e;return utils_1[n(301)][n(295)](t,e,i)},reloadPlugin:async function(t){const e=_0x353992,i=_0xaabd2e;await this[i(253)](t);let n=path_1.join(utils_1[i(292)][i(303)](),t[i(252)](i(299),""));utils_1[i(233)][i(227)](n),this[e(260)](n);let a=this[i(283)](t);void 0!==a&&(this[i(243)](a),await this[i(289)](t))},getPluginVerByURL:function(t){const e=_0xaabd2e;if(""!==t){let i=t[e(231)]("/");return i[i.length-1][e(252)](e(298),"")}return""},getPluginUrlByVer:async function(t,e){const i=_0xaabd2e;return(await utils_1[i(256)][i(281)](t,e))[i(268)]}};