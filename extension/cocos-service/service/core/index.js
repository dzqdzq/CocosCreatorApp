var _0x2c7c=[" base on Cocos Creator ","getServiceVersion","getServiceList","csConfig","stringify","csProtocol","devMode","service_price","games","__esModule","csHttp","service_desc","default","loadAllServicePlugins","csEditor","scanfServicePluginInfos","getServiceUrls","substring","userInfo","../../utils/_inner","assign","inited","isLogin","debug","writeServiceList","getGameList","getServices","replaceTagAtoUILink","scanfServicePlugins","__importDefault","services","urls","../../utils","getUserData","readDevMode","readServiceList","shift","./plugin","getCreatorVersion","getUserInfo","Cocos Service "];!function(e,i){!function(i){for(;--i;)e.push(e.shift())}(++i)}(_0x2c7c,102);var _0x3ef1=function(e,i){return _0x2c7c[e-=156]},_0x172b48=_0x3ef1,_0xa1e8=[_0x172b48(160),_0x172b48(156),_0x172b48(181),_0x172b48(171),"length",_0x172b48(161),_0x172b48(159),_0x172b48(164),_0x172b48(165),_0x172b48(190),_0x172b48(196),_0x172b48(195),_0x172b48(158),_0x172b48(175),_0x172b48(191),_0x172b48(163),"default",_0x172b48(167),_0x172b48(193),_0x172b48(180),_0x172b48(185),"services",_0x172b48(178),_0x172b48(170),_0x172b48(176),_0x172b48(162),"map",_0x172b48(182),"catch",_0x172b48(194),_0x172b48(183),_0x172b48(157),_0x172b48(177),_0x172b48(173),_0x172b48(187),_0x172b48(192),"defineProperty"];!function(e,i){!function(i){for(var t=_0x3ef1;--i;)e.push(e[t(172)]())}(++i)}(_0xa1e8,339);var _0x1706=function(e,i){return _0xa1e8[e-=136]},_0x575dd7=_0x1706,__importDefault=this&&this[_0x575dd7(138)]||function(e){return e&&e[_0x172b48(186)]?e:{default:e}};Object[_0x575dd7(166)](exports,_0x172b48(186),{value:!0});const plugin_1=__importDefault(require(_0x575dd7(163))),utils_1=require(_0x172b48(168)),_inner_1=require(_0x575dd7(140));exports[_0x575dd7(146)]={userInfo:{},games:[],services:[],urls:{},inited:!1,isLogin:!1,unfoldGroups:new Set,devMode:!1,init:async function(e=!1){var i=_0x172b48,t=_0x575dd7;utils_1.csLogger[t(136)](t(154)+utils_1[t(144)][t(152)]()+t(162)+utils_1[t(144)][i(174)]()),this[t(161)]&&!e||(this[t(142)]=await utils_1[t(144)][t(142)](),this[t(142)]?(this[t(141)]=await this.getUserInfo(!0),this[t(147)]=await utils_1[t(157)][t(148)]()):this[t(141)]={corporation_id:"0"},this[t(151)]=await this[t(155)](!0),this[t(160)]=await utils_1[t(149)][t(153)](),plugin_1[i(189)][t(165)](),plugin_1[t(146)][t(137)](),await plugin_1[i(189)][t(139)](),this[t(161)]=!0)},getUserInfo:async function(e=!1){return new Promise(async(i,t)=>{var s=_0x3ef1,r=_0x1706;if(e||"{}"===JSON[r(169)](this[r(141)])){this[r(141)]=await utils_1[r(157)][r(143)]();let e=utils_1[s(191)][s(169)]();for(var _ in e)this[r(141)][_]=e[_]}i(this.userInfo)})},getGames:async function(e=!1){return new Promise(async(i,t)=>{var s=_0x1706;(e||0===this[s(150)][s(171)])&&(this.games=await utils_1[s(157)][s(172)]()),i(this[s(150)])})},getServices:async function(e=!1){return new Promise(async(i,t)=>{var s=_0x3ef1,r=_0x1706;(e||0===this[r(151)][r(171)])&&(this[r(151)]=await utils_1[r(157)][s(179)]()[r(158)](async e=>i(await utils_1[r(149)][r(170)]())),this[r(151)]=this[s(166)][r(156)](e=>Object[r(168)](e,{service_price:_inner_1[r(145)](e[s(184)]),service_protocol:_inner_1.replaceTagAtoUILink(e.service_protocol),service_desc:_inner_1[r(145)](e[s(188)])})),await utils_1[r(149)][r(167)](this[r(151)])),i(this[s(166)])})},async getUrl(e,i={}){var t=_0x575dd7;return"{}"===JSON[t(169)](this[t(147)])?"":this[t(147)][e]+("{}"!==JSON[t(169)](i)?"?"+utils_1[t(164)].paramEncode(i)[t(159)](1):"")}};