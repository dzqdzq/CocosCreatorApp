var _0x3f10=["service_price","loadAllServicePlugins","readServiceList","service_protocol","use strict","getUserInfo","writeServiceList","csProtocol","../../utils","csLogger","csHttp","scanfServicePluginInfos","games","shift","urls","service_desc","debug","readDevMode","Cocos Service ","getServiceUrls","getServiceVersion","assign","csEditor","isLogin","getCreatorVersion","defineProperty","length","map","getGameList","services","userInfo","csConfig","catch","getUserData","default","substring"];!function(i,e){!function(e){for(;--e;)i.push(i.shift())}(++e)}(_0x3f10,197);var _0x1b28=function(i,e){return _0x3f10[i-=318]},_0x5a0283=_0x1b28,_0x4ca1=[_0x5a0283(319),"paramEncode",_0x5a0283(332),"__esModule",_0x5a0283(353),_0x5a0283(327),_0x5a0283(349),_0x5a0283(351),"inited",_0x5a0283(342),_0x5a0283(323),"../../utils/_inner",_0x5a0283(320),_0x5a0283(343),_0x5a0283(334),"stringify",_0x5a0283(333),_0x5a0283(337),_0x5a0283(322),_0x5a0283(338),"__importDefault",_0x5a0283(340),_0x5a0283(331),_0x5a0283(344),_0x5a0283(345),_0x5a0283(326),_0x5a0283(346),"devMode","getServices",_0x5a0283(330),_0x5a0283(352),_0x5a0283(335),_0x5a0283(336),"scanfServicePlugins",_0x5a0283(348),_0x5a0283(339),"replaceTagAtoUILink"," base on Cocos Creator ",_0x5a0283(324)];!function(i,e){!function(e){for(var t=_0x1b28;--e;)i.push(i[t(350)]())}(++e)}(_0x4ca1,222);var _0x10dc=function(i,e){return _0x4ca1[i-=377]},_0x53d9c3=_0x10dc;_0x5a0283(341);var __importDefault=this&&this[_0x53d9c3(409)]||function(i){return i&&i[_0x53d9c3(392)]?i:{default:i}};Object[_0x53d9c3(414)](exports,_0x53d9c3(392),{value:!0});const plugin_1=__importDefault(require("./plugin")),utils_1=require(_0x53d9c3(413)),_inner_1=require(_0x53d9c3(400));exports[_0x53d9c3(381)]={userInfo:{},games:[],services:[],urls:{},inited:!1,isLogin:!1,unfoldGroups:new Set,devMode:!1,init:async function(i=!1){var e=_0x5a0283,t=_0x53d9c3;utils_1[t(415)][t(393)](t(389)+utils_1[t(399)][e(321)]()+t(387)+utils_1[e(323)][e(325)]()),this[t(397)]&&!i||(this.isLogin=await utils_1[t(399)][e(324)](),this[t(388)]?(this[t(411)]=await this[t(398)](!0),this[t(396)]=await utils_1[t(412)][t(401)]()):this[t(411)]={corporation_id:"0"},this[e(330)]=await this[t(378)](!0),this[t(377)]=await utils_1[t(391)][e(318)](),plugin_1[t(381)][t(384)](),plugin_1[t(381)][t(383)](),await plugin_1[t(381)][t(408)](),this[t(397)]=!0)},getUserInfo:async function(i=!1){return new Promise(async(e,t)=>{var s=_0x10dc;if(i||"{}"===JSON[s(404)](this[s(411)])){this[s(411)]=await utils_1[s(412)][s(398)]();let i=utils_1[s(399)][s(403)]();for(var a in i)this[s(411)][a]=i[a]}e(this[s(411)])})},getGames:async function(i=!1){return new Promise(async(e,t)=>{var s=_0x1b28,a=_0x10dc;(i||0===this.games[a(394)])&&(this[a(395)]=await utils_1[a(412)][s(329)]()),e(this[a(395)])})},getServices:async function(i=!1){return new Promise(async(e,t)=>{var s=_0x1b28,a=_0x10dc;(i||0===this[s(330)][s(327)])&&(this[a(379)]=await utils_1[a(412)].getServiceList()[a(405)](async i=>e(await utils_1[a(391)][a(385)]())),this[a(379)]=this[a(379)][s(328)](i=>Object[a(407)](i,{service_price:_inner_1[a(386)](i[a(406)]),service_protocol:_inner_1[a(386)](i[a(410)]),service_desc:_inner_1[a(386)](i[a(380)])})),await utils_1[a(391)][a(402)](this[a(379)])),e(this[a(379)])})},async getUrl(i,e={}){var t=_0x5a0283,s=_0x53d9c3;return"{}"===JSON[s(404)](this[s(396)])?"":this.urls[i]+("{}"!==JSON[s(404)](e)?"?"+utils_1[t(347)][s(390)](e)[s(382)](1):"")}};