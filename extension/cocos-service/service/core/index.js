"use strict";var _0x58bb5b=_0x193f;function _0x5328(){var t=["137223mBrOQv","default","326752PNFcWS","readDevMode","defineProperty","getUserData","csLogger","14gzDVou","__importDefault","9900ofHoAq","27516DoAfNx","csConfig","catch","scanfServicePluginInfos","shift","replaceTagAtoUILink","__esModule","paramEncode","3RuseYJ","userInfo","length","855778eFEKVk","getServiceUrls","../../utils/_inner","substring","335zOhZAv","375FQbLMz","../../utils","Cocos Service ","getServiceVersion","44PCDDKe","getServices","loadAllServicePlugins","2375530kCTqvZ","readServiceList","push","471172EeNTNb","urls","service_desc","isLogin","504113rPFFRl","56ETZUuf"," base on Cocos Creator ","assign","getCreatorVersion","10229230ulTklN","devMode","service_protocol","446210GAcDIT","csProtocol","games","5536164BjzecG","./plugin","341102QFcCzy","service_price","getGameList","scanfServicePlugins","3731916tfvlsW","9bzTdfC"];return(_0x5328=function(){return t})()}!function(){for(var t=_0x193f,e=_0x5328();;)try{if(689933==+parseInt(t(309))+parseInt(t(306))/2*(parseInt(t(350))/3)+parseInt(t(330))/4+-parseInt(t(298))/5*(-parseInt(t(341))/6)+-parseInt(t(353))/7*(-parseInt(t(314))/8)+-parseInt(t(331))/9*(parseInt(t(318))/10)+-parseInt(t(303))/11*(parseInt(t(324))/12))break;e.push(e.shift())}catch(t){e.push(e.shift())}}();var _0x4f0386=_0x1b5b;function _0x1323(){var t=_0x193f,e=["services",t(321),"3vLmZBO",t(325),t(335),t(299),t(323),t(338),t(300),t(319),t(316),"debug",t(312),t(337),t(317),t(311),t(339),"csConfig","1061568VghaJg",t(327),"getServiceList","csEditor",t(307),t(296),"length",t(351),t(348),"stringify","writeServiceList","44DQwxAX",t(322),"inited",t(320),t(297),t(347),t(310),t(315),t(336),t(334),t(345),t(301),t(342),t(344),t(332),t(333),t(349),"getUserInfo",t(340),t(354),t(326),t(313),t(305),t(302)];return(_0x1323=function(){return e})()}!function(){for(var e=_0x193f,t=_0x1b5b,i=_0x1323();;)try{if(280854==-parseInt(t(427))+parseInt(t(426))/2*(parseInt(t(432))/3)+-parseInt(t(418))/4*(-parseInt(t(435))/5)+-parseInt(t(448))/6+-parseInt(t(446))/7*(-parseInt(t(415))/8)+parseInt(t(420))/9+parseInt(t(431))/10*(parseInt(t(406))/11))break;i[e(308)](i.shift())}catch(t){i.push(i[e(346)]())}}();var __importDefault=this&&this[_0x4f0386(424)]||function(t){return t&&t[_0x4f0386(403)]?t:{default:t}};function _0x193f(t,e){var i=_0x5328();return(_0x193f=function(t,e){return i[t-=296]})(t,e)}Object[_0x4f0386(414)](exports,_0x4f0386(403),{value:!0});const plugin_1=__importDefault(require(_0x4f0386(433))),utils_1=require(_0x4f0386(438)),_inner_1=require(_0x4f0386(400));function _0x1b5b(t,e){var i=_0x1323();return(_0x1b5b=function(t,e){return i[t-=396]})(t,e)}exports[_0x58bb5b(333)]={userInfo:{},games:[],services:[],urls:{},inited:!1,isLogin:!1,unfoldGroups:new Set,devMode:!1,init:async function(t=!1){var e=_0x58bb5b,i=_0x4f0386;utils_1[i(437)][i(441)](i(417)+utils_1[i(398)][i(429)]()+i(413)+utils_1.csEditor[i(444)]()),this[i(408)]&&!t||(this[e(312)]=await utils_1[i(398)][i(442)](),this[e(312)]?(this[i(402)]=await this.getUserInfo(!0),this[i(412)]=await utils_1[e(322)][i(425)](),this[i(430)]=await this[e(304)](!0),this[i(439)]=await utils_1[e(343)][i(434)](),plugin_1[e(333)][i(416)](),plugin_1[e(333)][e(329)](),await plugin_1[i(421)][i(428)](),this[i(408)]=!0):this[e(351)]={corporation_id:"0"})},getUserInfo:async function(a=!1){return new Promise(async(t,e)=>{var i=_0x193f,s=_0x1b5b;if(a||"{}"===JSON[s(404)](this[s(402)])){this[s(402)]=await utils_1[i(322)][s(423)]();var r,n=utils_1[s(398)][s(443)]();for(r in n)this[s(402)][r]=n[r]}t(this[s(402)])})},getGames:async function(r=!1){return new Promise(async(t,e)=>{var i=_0x193f,s=_0x1b5b;!r&&0!==this[s(436)][i(352)]||(this[s(436)]=await utils_1[s(407)][i(328)]()),t(this[s(436)])})},getServices:async function(r=!1){return new Promise(async(e,t)=>{var i=_0x193f,s=_0x1b5b;!r&&0!==this.services[s(401)]||(this[s(430)]=await utils_1[i(322)][s(397)]()[s(419)](async t=>e(await utils_1[s(447)][s(399)]())),this[s(430)]=this[s(430)].map(t=>Object[s(440)](t,{service_price:(0,_inner_1[s(411)])(t[s(396)]),service_protocol:(0,_inner_1[i(347)])(t[s(409)]),service_desc:(0,_inner_1[s(411)])(t[s(445)])})),await utils_1[s(447)][s(405)](this[s(430)])),e(this[s(430)])})},async getUrl(t,e={}){var i=_0x4f0386;return"{}"===JSON[i(404)](this[i(412)])?"":this[i(412)][t]+("{}"!==JSON[i(404)](e)?"?"+utils_1.csHttp[i(422)](e)[i(410)](1):"")}};