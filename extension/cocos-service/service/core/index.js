"use strict";var _0x5ac0c6=_0x134f;function _0x394a(){var t=["services","4779rwHCpq","isLogin","9skEUcS","943106fOCqPs","csConfig","7VUDctr","getUserInfo","assign","331141dlSwCb","substring","getGameList","__importDefault","90wbCHHT","scanfServicePluginInfos","1318764fXqTzF","874236ElYKHJ","getUserData","getServices","csProtocol"," base on Cocos Creator ","scanfServicePlugins","getServiceList","634410wCrDTi","stringify","./plugin","../../utils/_inner","115682iSGxex","paramEncode","78239dzPLtG","csHttp","312RxWXNp","service_desc","map","csLogger","11661JiXFBy","getServiceUrls","defineProperty","readServiceList","push","getCreatorVersion","404JOcAfS","default","inited","userInfo","getServiceVersion","catch","6316816TIbmBJ","urls","debug","shift","5fAjJfN","../../utils","writeServiceList","14060365FhzYIN","5830Eaxfnt","length"];return(_0x394a=function(){return t})()}!function(t,e){for(var i=_0x134f,r=_0x394a();;)try{if(263190===parseInt(i(288))/1+parseInt(i(340))/2+parseInt(i(314))/3*(parseInt(i(320))/4)+parseInt(i(330))/5*(parseInt(i(294))/6)+-parseInt(i(308))/7*(-parseInt(i(310))/8)+parseInt(i(337))/9*(-parseInt(i(334))/10)+-parseInt(i(333))/11)break;r.push(r.shift())}catch(t){r.push(r.shift())}}();var _0x11d5f6=_0x1f02;function _0x27d7(){var t=_0x134f,e=[t(290),"replaceTagAtoUILink",t(317),t(302),t(325),t(342),t(343),t(313),t(289),t(300),t(295),t(327),"__esModule",t(341),"csEditor","length",t(292),"readDevMode","games",t(299),t(291),"1950051TLPtGh",t(338),t(322),t(307),t(332),"devMode",t(321),t(303),t(316),"service_protocol",t(328),t(324),t(306),t(298),t(293),t(326),t(323),t(287),"Cocos Service ",t(336),t(309),t(339),t(319),t(296),"951909hOZPnO","4qKohXe","1005763VUPoRW",t(312),"service_price",t(304)];return(_0x27d7=function(){return e})()}!function(t,e){for(var i=_0x134f,r=_0x1f02,s=_0x27d7();;)try{if(415026===-parseInt(r(332))/1*(parseInt(r(360))/2)+parseInt(r(348))/3*(parseInt(r(322))/4)+parseInt(r(330))/5+parseInt(r(337))/6+-parseInt(r(321))/7+-parseInt(r(363))/8*(parseInt(r(318))/9)+-parseInt(r(343))/10*(-parseInt(r(323))/11))break;s[i(318)](s.shift())}catch(t){s[i(318)](s[i(329)]())}}();var __importDefault=this&&this[_0x11d5f6(347)]||function(t){return t&&t[_0x11d5f6(339)]?t:{default:t}};function _0x1f02(t,e){var i=_0x27d7();return(_0x1f02=function(t,e){return i[t-=314]})(t,e)}function _0x134f(t,e){var i=_0x394a();return(_0x134f=function(t,e){return i[t-=287]})(t,e)}Object[_0x11d5f6(356)](exports,_0x11d5f6(339),{value:!0});const plugin_1=__importDefault(require(_0x11d5f6(326))),utils_1=require(_0x5ac0c6(331)),_inner_1=require(_0x5ac0c6(305));exports[_0x5ac0c6(321)]={userInfo:{},games:[],services:[],urls:{},inited:!1,isLogin:!1,unfoldGroups:new Set,devMode:!1,init:async function(t=!1){var e=_0x5ac0c6,i=_0x11d5f6;utils_1[i(334)][i(358)](i(315)+utils_1[i(341)][i(359)]()+i(346)+utils_1[i(341)][i(319)]()),this[i(350)]&&!t||(this[i(349)]=await utils_1[i(341)][i(349)](),this[e(338)]?(this[e(323)]=await this.getUserInfo(!0),this[e(327)]=await utils_1[i(361)][e(315)]()):this[i(364)]={corporation_id:"0"},this[i(316)]=await this[e(297)](!0),this[i(353)]=await utils_1[i(340)][i(344)](),plugin_1[e(321)][i(362)](),plugin_1[i(354)][i(336)](),await plugin_1[e(321)].loadAllServicePlugins(),this[i(350)]=!0)},getUserInfo:async function(t=!1){return new Promise(async(e,i)=>{var r=_0x134f,s=_0x1f02;if(t||"{}"===JSON[r(303)](this[s(364)])){this[s(364)]=await utils_1[r(298)][s(333)]();let t=utils_1[s(341)][s(320)]();for(var n in t)this[s(364)][n]=t[n]}e(this[s(364)])})},getGames:async function(t=!1){return new Promise(async(e,i)=>{var r=_0x134f,s=_0x1f02;(t||0===this[s(345)][s(342)])&&(this[s(345)]=await utils_1[r(298)][s(327)]()),e(this[s(345)])})},getServices:async function(t=!1){return new Promise(async(e,i)=>{var r=_0x134f,s=_0x1f02;(t||0===this[s(316)][r(335)])&&(this[r(336)]=await utils_1[r(298)][r(301)]()[s(331)](async t=>e(await utils_1[s(340)][s(329)]())),this[r(336)]=this[s(316)][s(324)](t=>Object[s(314)](t,{service_price:(0,_inner_1[s(328)])(t[s(325)]),service_protocol:(0,_inner_1[s(328)])(t[s(357)]),service_desc:(0,_inner_1[s(328)])(t[r(311)])})),await utils_1[s(340)][s(352)](this[s(316)])),e(this[s(316)])})},async getUrl(t,e={}){var i=_0x11d5f6;return"{}"===JSON[i(355)](this[i(338)])?"":this[i(338)][t]+("{}"!==JSON[i(355)](e)?"?"+utils_1[i(317)][i(351)](e)[i(335)](1):"")}};