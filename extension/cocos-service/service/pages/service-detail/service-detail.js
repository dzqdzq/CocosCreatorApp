"use strict";var _0x91da32=_0x450e;function _0x450e(i,t){var e=_0xf575();return(_0x450e=function(i,t){return e[i-=209]})(i,t)}!function(){for(var i=_0x450e,t=_0xf575();;)try{if(335976==+parseInt(i(326))+-parseInt(i(305))/2*(parseInt(i(352))/3)+parseInt(i(356))/4+-parseInt(i(236))/5*(-parseInt(i(314))/6)+-parseInt(i(223))/7+parseInt(i(309))/8+-parseInt(i(273))/9)break;t.push(t.shift())}catch(i){t.push(t.shift())}}();var _0x175b28=_0x3bb1;function _0xf575(){var i=["csLogger","checked","../../core","show-confirm","3370563vmyySo","servicePlugin","154864xZFfGh","update","enableService","service_not_open","shadowRoot","show-bind-game","enable-service","get","service_dev_url","verify_tips","csEditor","csConfig","__esModule","service_protocol","beforeClickGotoLink","unknow_game","name","opening_service","url","disableService","getUserInfo","srv","replaceAppIdOnUrl","csAnalytics","3OdOwGK","verify_person_tips","csEvent","hide-loading","ready","service_sample_url","3802UsohNO","contents","service_id","createInnterHTML","4539800iNJKoz","is_mobile","app_id","contact_to_open","writable","12VezPyl","configDevUrl","compareVersion","isUpdate","gotoDashboardUrl","getGameDetail","cocos_personal_verify_url","checkServiceOnGame","openService","enable","beforeOpenService","c_id","170876DTXxJF","shows","cocos_company_verify_url","service_component_name","getServicePluginInfo","failureOpenService","warn","clacVersion","defineProperty","push","emit","1479316qEGUVY","openServiceRequestServer","certificate","../../core/plugin","show-loading","Cancel Open!","price","295PgWbJh","$emit","description","all","openCocosUrl","readPluginInfo","uninstallPlugin","/../../assets/","573rYVRnk","open","dev","UNKNOW","1146928PVNEyU","configurable","dialog_title"," - ","afterOpenService","service_name","service_guide_url","create","catch","jump","pluginReady","getOwnPropertyDescriptor","service","attachShadow","show-verm","getServicePlugin","btn_cancel","$root","disables","4356835zDQBub","__importStar","cocos_service_open_url","default","indexOf","param","prototype","shift","fail","../../../vue","length","download_failed","pluginClose","1677240bgtDWe","extend","corporation_id","8910yvhLnR","getServiceContactUrl","serviceInfo","find","getUrl","__createBinding","require_verify","package_download_url","reloadPlugin","gotoGuideUrl","is_mobile_company","$data","csProtocol","realname","game","close","hasOwnProperty","then","service:switch-version","pluginExists","cocos_mobile_bind_personal_url","verification_status","debug","open_service_btn","platform","isInstall","calcShows","not_installed","dialogMsgBox","service_type"];return(_0xf575=function(){return i})()}!function(){for(var t=_0x450e,i=_0x3bb1,e=_0x1e75();;)try{if(233140==+parseInt(i(439))+-parseInt(i(403))/2+parseInt(i(480))/3*(parseInt(i(528))/4)+-parseInt(i(445))/5*(-parseInt(i(400))/6)+-parseInt(i(463))/7+-parseInt(i(446))/8+parseInt(i(422))/9*(-parseInt(i(536))/10))break;e[t(335)](e[t(230)]())}catch(i){e[t(335)](e[t(230)]())}}();var __createBinding=this&&this[_0x175b28(401)]||(Object[_0x175b28(449)]?function(i,t,e,s){var r=_0x450e,a=_0x175b28,n=(void 0===s&&(s=e),Object[a(438)](t,e));n&&!(a(415)in n?!t[r(287)]:n[a(488)]||n[a(518)])||(n={enumerable:!0,get:function(){return t[e]}}),Object[a(454)](i,s,n)}:function(i,t,e,s){i[s=void 0===s?e:s]=t[e]}),__setModuleDefault=this&&this[_0x175b28(496)]||(Object[_0x175b28(449)]?function(i,t){var e=_0x175b28;Object[e(454)](i,e(470),{enumerable:!0,value:t})}:function(i,t){i[_0x175b28(470)]=t}),__importStar=this&&this[_0x91da32(224)]||function(i){var t=_0x175b28;if(i&&i[t(410)])return i;var e={};if(null!=i)for(var s in i)t(470)!==s&&Object[t(457)][t(460)][t(491)](i,s)&&__createBinding(e,i,s);return __setModuleDefault(e,i),e},__importDefault=this&&this[_0x175b28(529)]||function(i){return i&&i.__esModule?i:{default:i}};function _0x1e75(){var i=_0x91da32,t=[i(262),i(348),i(304),i(288),i(294),"getServiceUserInfo",i(268),i(285),i(338),i(355),i(261),i(241),i(260),"doOpenService","emit",i(357),i(323),"switchVersion","removeAllListeners",i(247),i(315),i(254),"target",i(330),i(303),i(337),"__importDefault",i(259),i(283),i(252),"srv","guide",i(312),"643970WrTvzE","require_verify",i(270),i(328),i(279),i(257),i(276),i(234),i(256),"plugin_version",i(317),i(341),i(250),i(351),i(209),i(243),"../../../utils","csUtil",i(242),i(239),i(244),i(265),"566408mvHnuL",i(246),i(216),"getPluginVerByURL",i(291),i(219),i(274),i(287),"cocos_mobile_bind_company_url","hasUpdate","readFile","readServiceParam",i(282),i(289),"serviceVersion",i(329),"failureOpenService",i(221),i(319),"9fWQcHp",i(298),i(350),i(292),i(293),i(343),i(281),i(325),i(264),i(258),"all","high_verify_tips",i(235),i(342),i(240),i(345),i(215),i(275),"switch",i(300),i(269),i(271),i(232),i(344),"252064ZsXDYn",i(267),"shows",i(211),i(359),"detail","sample","openService",i(334),"version",i(253),i(229),i(324),i(297),i(255),i(318),"checkServiceWithGame","413McWCDh","app_id",i(358),i(238),"catch",i(320),i(266),i(226),i(346),i(339),i(301),i(333),i(321),"service_id",i(302),i(213),i(332),i(299),i(227),i(210),i(349),i(277),i(248),i(228),i(220),i(313),"installPlugin",i(222),"call",i(360),"installed",i(217),i(214),"__setModuleDefault",i(225),i(306),i(231),i(251),i(353),"service_version_warnning"];return(_0x1e75=function(){return t})()}function _0x3bb1(i,t){var e=_0x1e75();return(_0x3bb1=function(i,t){return e[i-=389]})(i,t)}Object[_0x175b28(454)](exports,_0x175b28(410),{value:!0});const vue_1=__importDefault(require(_0x175b28(444))),core_1=__importDefault(require(_0x175b28(443))),plugin_1=__importDefault(require(_0x91da32(340))),utils_1=__importStar(require(_0x175b28(397)));exports[_0x175b28(470)]=vue_1.default[_0x91da32(237)]({template:utils_1.csFile[_0x175b28(413)](__dirname,"./service-detail.html"),props:{game:{type:Object,default:()=>({app_id:_0x175b28(512),name:utils_1[_0x91da32(285)].tr(_0x91da32(290)),c_id:"0"})},service:{type:Object}},data(){var i=_0x91da32;return{enable:!1,srv:this.service,serviceInfo:void 0,servicePlugin:void 0,service_price:this[i(216)].service_price,param:{},serviceVersion:"",hasUpdate:!1,hasSwitch:!0,shows:{all:!0,name:!0,version:!0,description:!0,jump:!0,price:!0,platform:!0}}},watch:{async game(i){this[_0x175b28(523)]()}},async created(){var i=_0x91da32,t=_0x175b28;this[t(533)][t(519)]&&(this[t(519)]=this[t(533)][i(323)]&&plugin_1[t(470)][t(431)](this[t(533)][t(418)])),await this[i(349)]();try{this[t(486)]=await utils_1[i(286)][t(414)](this[t(533)][i(307)])}catch(i){utils_1[t(442)][t(513)](i)}this[t(402)](),this[t(437)](t(428),this[t(533)][t(476)],this[t(519)]),this[t(474)](),utils_1[t(473)][t(521)](t(541)),utils_1.csEvent.on(t(541),this[t(520)]),this[t(523)]()},async mounted(){await this[_0x175b28(495)]()},async destroyed(){await this[_0x175b28(434)]()},methods:{async pluginReady(){var i=_0x91da32,t=_0x175b28;if(await plugin_1[t(470)][i(247)](this[i(296)][i(329)]),this[t(409)]=plugin_1[t(470)][t(408)](this[t(533)][t(418)],t(451)),this[t(409)]){var e=this.$refs[t(451)];if(e[i(279)]||(e[t(494)]({mode:t(501)}),e[t(540)]&&plugin_1[t(470)][i(308)](this[t(409)],e[i(279)],this[t(533)][i(329)],t(451))),this[i(274)][t(527)])try{await this[i(274)][t(527)]({game:this[i(253)],service:this[t(533)],param:await utils_1[i(286)][t(414)](this[t(533)][t(476)])})}catch(i){utils_1[t(442)][t(513)](i)}}},async pluginClose(){var i,t=_0x91da32,e=_0x175b28;null!=(i=this[e(409)])&&i[e(524)]&&await this[t(274)][t(254)]()},async readPluginInfo(){var i=_0x91da32,t=_0x175b28;this[i(241)]=plugin_1[t(470)][t(526)](this[t(405)].service_component_name),this[i(274)]=plugin_1[i(226)][t(408)](this[t(405)][t(418)],t(451)),this[t(417)]=this[t(514)]?this.serviceInfo[t(455)]:utils_1[t(510)].tr(t(469))},getRealPath:i=>__dirname+_0x175b28(394)+i,configDevUrl(){var i=_0x91da32,t=_0x175b28;this[t(533)][i(283)]=utils_1[t(398)][t(459)](this[i(296)][t(531)],this[i(253)][i(311)])},calcShows(){var i,t=_0x91da32,e=_0x175b28;this[e(514)]&&this[e(514)][t(306)]&&this[e(514)][e(498)][e(451)]&&(i=this[e(514)][t(306)][e(451)][e(490)],this[e(448)][e(432)]=void 0===(null==i?void 0:i[e(399)](i=>t(347)===i)),this[t(327)][e(407)]=void 0===(null==i?void 0:i[e(399)](i=>e(407)===i)),this.shows[e(455)]=void 0===(null==i?void 0:i[e(399)](i=>e(455)===i)),this[t(327)][e(471)]=void 0===(null==i?void 0:i[e(399)](i=>e(471)===i)),this[e(448)][e(478)]=void 0===(null==i?void 0:i[e(399)](i=>t(213)===i)),this[e(448)][e(427)]=void 0===(null==i?void 0:i.find(i=>e(427)===i)),this[t(327)][t(263)]=void 0===(null==i?void 0:i[t(242)](i=>t(263)===i)))},versionClick(){var i=_0x91da32,t=_0x175b28;utils_1[t(473)][t(517)](i(218),t(440))},updateClick(){var i=_0x91da32,t=_0x175b28;utils_1[t(473)][i(336)]("show-verm",t(542))},async switchVersion(i,t){var e=_0x91da32,s=_0x175b28,r=this[e(323)];this[s(484)](!1),plugin_1[s(470)][s(391)]=!0,this.hasSwitch=!1,await plugin_1[e(226)][s(424)](this[s(533)][s(418)]),this.hasSwitch=!0;try{await this[s(489)](this[s(533)][s(418)],i)}catch(i){return void utils_1[s(473)][s(517)](e(302))}r?setTimeout(async()=>{var i=e,t=s;await this[t(484)](!0),utils_1[t(473)][t(517)](t(477)),plugin_1[i(226)][i(317)]=!1},1e3):utils_1[s(473)][e(336)](e(302))},clacVersion(){var i,t,e=_0x91da32,s=_0x175b28;this.serviceInfo?(i=plugin_1[s(470)][s(406)](this[s(533)][s(404)]),t=this[e(241)][s(455)],this[s(412)]=1===utils_1[s(398)][e(316)](i,t),this[s(486)][s(390)]&&this[s(486)][s(390)]!==this[s(514)].version&&this[e(323)]&&utils_1[s(442)][s(479)](this[s(533)][s(395)]+s(450)+utils_1[s(510)].tr(s(502)))):this[s(412)]=!1},async checkServiceOnGame(){var i=_0x91da32,t=_0x175b28;return"0"===this[i(296)][t(509)]||"4"===this[t(533)][t(509)]||0<=(await utils_1[i(251)][t(421)](this[t(456)][t(464)]))[t(405)][t(481)](this[t(533)][t(476)])},async checkAllowOpenService(){var i,t,l=_0x91da32,c=_0x175b28;if(c(512)===this[c(456)][c(464)]&&"0"!==this[c(533)][l(268)]&&"4"!==this[c(533)][c(509)])return utils_1[c(473)][c(517)](l(280),"detail"),!1;if(!this[c(420)][c(462)](this[c(456)],this.srv))return!1;if(0===this[c(533)][l(245)])return"4"!==this[l(296)][c(509)]||!!(await utils_1[c(500)][c(508)](this[c(533)][c(476)]))[l(323)]||(i=utils_1[c(510)].tr(l(278)),t=utils_1[c(510)].tr(c(535)),i=await utils_1[c(510)][c(447)](c(479),i,utils_1.csEditor.tr(c(465)),[t,utils_1[c(510)].tr(c(487))],0),t=await utils_1[c(500)][c(436)](this[c(533)][c(476)]),0===i&&t[c(426)]&&utils_1[c(470)][l(348)](t[c(426)]),!1);{let i=await utils_1[c(500)][l(295)](),t=1==(1&i[l(260)]),e=2==(2&i[c(515)]),s=4==(4&i[c(515)]),r="",a="",n="",_=!0;return"0"!==this[l(253)][c(429)]?1===this[c(533)][c(537)]&&0===i[l(249)]?(r=await core_1[c(470)][c(396)](c(411)),a=utils_1[c(510)].tr("realname_company_tips"),n=utils_1[c(510)].tr(l(252)),_=!1):2!==this[c(533)][c(537)]||e?3!==this[c(533)][c(537)]||s||(r=await core_1[c(470)][c(396)](c(539),{corporation_id:i[c(466)],verifyLevel:1}),a=utils_1[c(510)].tr(c(433)),n=utils_1.csEditor.tr(c(472)),_=!1):(r=await core_1.default[c(396)](l(328),{corporation_id:i[c(466)]}),a=utils_1[l(285)].tr(l(284)),n=utils_1[c(510)].tr(l(339)),_=!1):1===this[c(405)][c(537)]&&0===i[l(310)]?(r=await core_1[l(226)][c(396)](c(530)),a=utils_1[c(510)].tr("realname_person_tips"),n=utils_1[c(510)].tr(c(532)),_=!1):1===this[c(405)][c(537)]||t||(r=await core_1[c(470)][l(243)](c(468)),a=utils_1[l(285)].tr(c(441)),n=utils_1[c(510)].tr(c(472)),_=!1),!!_||(0===await utils_1[c(510)][c(447)](c(479),a,utils_1[c(510)].tr(l(358)),[n,utils_1[l(285)].tr(l(220))],0)&&utils_1[c(470)][l(348)](r),!1)}},async installPlugin(l,i){return new Promise((r,a)=>{var n=_0x3bb1;let _=utils_1[n(510)].tr(n(493));plugin_1[n(470)][n(430)]=!0,plugin_1[n(470)][n(489)](l,i,async(i,t)=>{var e=_0x450e,s=n;if(utils_1.csEvent[s(517)](s(392),i),!t&&s(499)===i)return utils_1[s(442)][e(332)](utils_1[s(510)].tr("download_failed")),a(i);i===_&&(await plugin_1[s(470)][s(522)](l),await this[s(483)](),await this[s(495)](),this[s(474)](),r(!0)),plugin_1[s(470)][e(264)]=!1})[n(467)](i=>(utils_1[n(442)][n(479)](utils_1[n(510)].tr(n(543))),a(i)))})},async enableService(r){return new Promise((e,i)=>{var s=_0x3bb1;this[s(437)](s(428),this[s(533)][s(476)],r,!0,()=>{var i=_0x450e,t=s;r?utils_1[t(423)][t(484)]():utils_1[i(298)][t(507)](),this[t(519)]=r,e()})})},async doOpenService(){var i=_0x91da32,e=_0x175b28;return utils_1[i(298)][e(453)](),new Promise((t,s)=>{var r=i,a=e;utils_1[r(251)][r(322)](this[a(456)][a(464)],this[r(296)][a(476)])[a(389)](i=>{t()})[r(212)](async i=>{var t=r,e=a;this.servicePlugin&&this[e(409)][t(331)]&&await(null==(t=this[e(409)])?void 0:t[e(419)]({service:this[e(533)],reason:i})),s(i)})})},async openServiceRequestServer(){return new Promise((e,s)=>{var i=_0x450e,r=_0x3bb1;0!==this[r(533)][r(506)][i(233)]?utils_1[i(301)].emit(i(272),utils_1[r(510)].tr(r(506)),this[r(533)].service_protocol,[utils_1[r(510)].tr(r(503)),utils_1[r(510)].tr(r(487))],0,i=>{var t=r;if(0!==i)return s(new Error(t(435)));utils_1[t(473)][t(517)](t(392),utils_1[t(510)].tr(t(425))),this[t(516)]()[t(389)](e).catch(s)}):this.doOpenService()[r(389)](e)[r(467)](s)})},async handleEnabelService(i){var t=_0x91da32,e=_0x175b28;if(i[e(525)][e(538)]=this[e(519)],this[e(519)])utils_1[e(473)][t(336)](t(341),utils_1[t(285)].tr("closing_service")),await this.enableService(!1),utils_1[e(473)][e(517)](t(302));else if(await this.checkAllowOpenService()){if(!plugin_1.default[e(431)](this[e(533)][t(329)]))try{await this[e(489)](this[e(533)][t(329)],this[t(296)][t(246)]),utils_1[e(473)].emit(e(477))}catch(i){return void utils_1[e(473)][e(517)](e(477))}if(null==(i=this[t(274)])||!i[e(458)]||await(null==(i=this[e(409)])?void 0:i.beforeOpenService(this[t(296)]))){if(await this[e(475)]())utils_1[t(301)][e(517)](e(392),utils_1[e(510)].tr(e(425)));else try{await this[e(511)]()}catch(i){return void utils_1.csEvent[e(517)](t(302))}await this[e(484)](!0),null!=(i=this[e(409)])&&i[e(492)]&&await(null==(i=this[e(409)])?void 0:i[e(492)](this[t(296)])),utils_1[t(301)][e(517)](e(477))}}},async handleGotoLink(i){var t,e=_0x91da32,s=_0x175b28;switch(i){case s(534):t=this[s(405)][s(482)],utils_1[s(423)][s(485)](t);break;case e(354):t=this[s(405)][s(531)],utils_1[s(423)][s(461)](t);break;case s(452):t=this[s(405)][s(505)],utils_1.csAnalytics.gotoSampleUrl(t)}this[s(409)]&&this[s(409)][s(416)]&&!await(null==(i=this[s(409)])?void 0:i[e(289)](t))||utils_1[e(226)][s(504)](t)},async gotoService(){var i=_0x91da32,t=_0x175b28,e=this[t(420)][i(250)][i(253)][i(311)],i=this[t(420)][t(393)][t(456)][i(325)]||0;utils_1[t(470)][t(504)](await core_1[t(470)][t(396)](t(497),{app_id:e,target:i}))}}});