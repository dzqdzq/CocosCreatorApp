var _0x5054=["btn_cancel","installed","serviceVersion","enable","target","beforeClickGotoLink","openCocosUrl","detail","srv","dialog_title","ready","shadowRoot","default","csFile","cocos_company_verify_url","../../core","service:switch-version","emit","is_mobile","service_type","update","getUrl","create","service_version_warnning","app_id","servicePlugin","enable-service","package_download_url","hasSwitch","service_protocol","unknow_game","reloadPlugin","verify_person_tips","csProtocol","dev","opening_service","show-bind-game","is_mobile_company","checked","getServicePluginInfo","csEvent","dialogMsgBox","openServiceRequestServer","getGameDetail","Cancel Open!","jump","enableService","pluginClose","failureOpenService","attachShadow","service","require_verify","readFile","push","pluginExists","service_sample_url","../../../utils","realname","gotoGuideUrl","afterOpenService","__createBinding","high_verify_tips","./service-detail.html","defineProperty","service_component_name","call","use strict","__esModule","price","hasUpdate","version","csLogger","corporation_id","disableService","game","contents","sample","plugin_version","gotoDashboardUrl","clacVersion","$root","/../../assets/","hide-loading","../../../vue","isUpdate","closing_service","indexOf","pluginReady","$data","getUserInfo","warn","service_dev_url","find","platform","__importDefault","configDevUrl","cocos_mobile_bind_personal_url","not_installed","extend","verification_status","service_guide_url","realname_company_tips","realname_person_tips","open_service_btn","checkServiceWithGame","disables","getPluginVerByURL","__importStar","checkAllowOpenService","gotoSampleUrl","createInnterHTML","close","replaceAppIdOnUrl","csEditor","readPluginInfo","csUtil","csAnalytics","$refs","__setModuleDefault","description","certificate","removeAllListeners","shift","$emit","download_failed","uninstallPlugin","service_price","cocos_service_open_url","csConfig","doOpenService","serviceInfo","verify_tips","name","param","cocos_personal_verify_url","openService","hasOwnProperty","readServiceParam","compareVersion","show-loading","installPlugin","prototype"," - ","getServicePlugin","catch","cocos_mobile_bind_company_url","shows"];!function(i,t){!function(t){for(;--t;)i.push(i.shift())}(++t)}(_0x5054,414);var _0x48b1=function(i,t){return _0x5054[i-=234]},_0xcfb31d=_0x48b1,_0x4f72=[_0xcfb31d(347),"csConfig",_0xcfb31d(338),_0xcfb31d(304),_0xcfb31d(234),_0xcfb31d(237),_0xcfb31d(359),_0xcfb31d(267),_0xcfb31d(299),_0xcfb31d(321),"checkServiceOnGame",_0xcfb31d(319),_0xcfb31d(331),_0xcfb31d(341),_0xcfb31d(375),_0xcfb31d(257),_0xcfb31d(380),"csAnalytics",_0xcfb31d(308),_0xcfb31d(272),_0xcfb31d(268),_0xcfb31d(282),_0xcfb31d(253),_0xcfb31d(376),_0xcfb31d(291),"show-verm",_0xcfb31d(294),_0xcfb31d(315),_0xcfb31d(296),"create",_0xcfb31d(287),_0xcfb31d(258),_0xcfb31d(312),_0xcfb31d(346),"then",_0xcfb31d(247),_0xcfb31d(263),_0xcfb31d(269),_0xcfb31d(360),_0xcfb31d(266),"contents",_0xcfb31d(238),_0xcfb31d(310),_0xcfb31d(378),_0xcfb31d(339),"switch",_0xcfb31d(352),"defineProperty",_0xcfb31d(368),_0xcfb31d(235),_0xcfb31d(254),_0xcfb31d(246),_0xcfb31d(245),_0xcfb31d(367),"serviceInfo",_0xcfb31d(290),"calcShows",_0xcfb31d(249),_0xcfb31d(361),_0xcfb31d(256),_0xcfb31d(280),_0xcfb31d(277),_0xcfb31d(301),_0xcfb31d(328),_0xcfb31d(357),_0xcfb31d(302),_0xcfb31d(372),_0xcfb31d(330),"debug","show-confirm",_0xcfb31d(369),_0xcfb31d(351),_0xcfb31d(355),_0xcfb31d(325),_0xcfb31d(337),"beforeOpenService","service_name",_0xcfb31d(293),_0xcfb31d(349),_0xcfb31d(274),_0xcfb31d(303),_0xcfb31d(318),_0xcfb31d(373),_0xcfb31d(311),"isInstall",_0xcfb31d(332),_0xcfb31d(259),_0xcfb31d(344),"open",_0xcfb31d(316),_0xcfb31d(271),_0xcfb31d(300),_0xcfb31d(289),_0xcfb31d(335),"pluginReady","all",_0xcfb31d(278),_0xcfb31d(262),_0xcfb31d(276),_0xcfb31d(261),_0xcfb31d(250),"switchVersion",_0xcfb31d(297),_0xcfb31d(306),_0xcfb31d(329),_0xcfb31d(260),_0xcfb31d(288),_0xcfb31d(320),_0xcfb31d(273),"service_id",_0xcfb31d(243),_0xcfb31d(370),_0xcfb31d(305),_0xcfb31d(252),_0xcfb31d(343),_0xcfb31d(295),"guide",_0xcfb31d(353),"UNKNOW","fail",_0xcfb31d(286),_0xcfb31d(350),_0xcfb31d(371),_0xcfb31d(281),_0xcfb31d(298),"length","../../core/plugin",_0xcfb31d(354),_0xcfb31d(356),_0xcfb31d(379),_0xcfb31d(313),_0xcfb31d(275),"csEditor",_0xcfb31d(240),_0xcfb31d(334),_0xcfb31d(345),_0xcfb31d(285),"c_id",_0xcfb31d(251),_0xcfb31d(366),_0xcfb31d(364),_0xcfb31d(317),_0xcfb31d(284),_0xcfb31d(323),"enable",_0xcfb31d(307),_0xcfb31d(239)];!function(i,t){!function(t){for(var e=_0x48b1;--t;)i[e(314)](i[e(236)]())}(++t)}(_0x4f72,472);var _0x5a25=function(i,t){return _0x4f72[i-=463]},_0x334169=_0x5a25;_0xcfb31d(327);var __createBinding=this&&this[_0x334169(588)]||(Object[_0xcfb31d(283)]?function(i,t,e,s){void 0===s&&(s=e),Object[_0xcfb31d(324)](i,s,{enumerable:!0,get:function(){return t[e]}})}:function(i,t,e,s){void 0===s&&(s=e),i[s]=t[e]}),__setModuleDefault=this&&this[_0x334169(561)]||(Object[_0x334169(608)]?function(i,t){var e=_0x334169;Object.defineProperty(i,e(540),{enumerable:!0,value:t})}:function(i,t){i[_0x334169(540)]=t}),__importStar=this&&this[_0x334169(480)]||function(i){var t=_0xcfb31d,e=_0x334169;if(i&&i[e(495)])return i;var s={};if(null!=i)for(var _ in i)t(273)!==_&&Object[t(255)][e(532)][t(326)](i,_)&&__createBinding(s,i,_);return __setModuleDefault(s,i),s},__importDefault=this&&this[_0x334169(504)]||function(i){return i&&i[_0xcfb31d(328)]?i:{default:i}};Object[_0x334169(479)](exports,_0x334169(495),{value:!0});const vue_1=__importDefault(require(_0x334169(519))),core_1=__importDefault(require(_0x334169(530))),plugin_1=__importDefault(require(_0x334169(558))),utils_1=__importStar(require(_0x334169(573)));exports[_0x334169(540)]=vue_1[_0x334169(540)][_0x334169(585)]({template:utils_1[_0x334169(511)][_0x334169(562)](__dirname,_0x334169(575)),props:{game:{type:Object,default:()=>({app_id:_0x334169(550),name:utils_1[_0xcfb31d(374)].tr(_0x334169(603)),c_id:"0"})},service:{type:Object}},data(){var i=_0x334169;return{enable:!1,srv:this[i(515)],serviceInfo:void 0,servicePlugin:void 0,service_price:this.service[i(565)],param:{},serviceVersion:"",hasUpdate:!1,hasSwitch:!0,shows:{all:!0,name:!0,version:!0,description:!0,jump:!0,price:!0,platform:!0}}},watch:{async game(i){this[_0xcfb31d(356)]()}},async created(){var i=_0xcfb31d,t=_0x334169;this[t(469)][t(576)]&&(this[t(576)]=this[t(469)][i(264)]&&plugin_1[t(540)][t(606)](this[t(469)][i(325)])),await this[t(593)]();try{this[t(467)]=await utils_1[i(242)][t(570)](this[t(469)][t(541)])}catch(i){utils_1[t(517)][t(500)](i)}this[t(488)](),this[t(584)](t(609),this[t(469)][t(541)],this[t(576)]),this[i(340)](),utils_1[t(494)][t(481)](t(493)),utils_1[t(494)].on(t(493),this[t(533)]),this[t(560)]()},async mounted(){var i=_0x334169;await this[i(526)]()},async destroyed(){var i=_0x334169;await this[i(597)]()},methods:{async pluginReady(){var i=_0xcfb31d,t=_0x334169;if(await plugin_1[i(273)][i(292)](this[t(469)][t(505)]),this[t(552)]=plugin_1.default[i(257)](this[t(469)][i(325)],t(599)),this[i(286)]){let e=this[t(475)][t(599)];if(e[t(598)]||(e[t(474)]({mode:t(520)}),e[i(272)]&&plugin_1[t(540)][t(554)](this[t(552)],e.shadowRoot,this[t(469)][t(505)],i(268))),this[t(552)][t(522)])try{await this[i(286)][t(522)]({game:this[t(525)],service:this[i(269)],param:await utils_1[t(580)][t(570)](this[t(469)].service_id)})}catch(e){utils_1[i(332)][t(500)](e)}}},async pluginClose(){var i,t=_0x334169;(null===(i=this[t(552)])||void 0===i?void 0:i[t(498)])&&await this[t(552)][t(498)]()},async readPluginInfo(){var i=_0xcfb31d,t=_0x334169;this[t(486)]=plugin_1[t(540)][t(523)](this[t(515)][t(505)]),this[t(552)]=plugin_1[t(540)][t(594)](this[i(311)][t(505)],t(599)),this[t(468)]=this[t(486)]?this[t(486)].version:utils_1[t(564)].tr(i(358))},getRealPath:i=>__dirname+_0xcfb31d(342)+i,configDevUrl(){var i=_0xcfb31d,t=_0x334169;this[t(469)][t(478)]=utils_1[t(602)][t(514)](this[t(469)][i(352)],this[t(525)][t(568)])},calcShows(){var i=_0xcfb31d,t=_0x334169;if(this[t(486)]&&this[t(486)][t(472)]&&this[i(244)][i(336)][i(268)]){let e=this[t(486)][i(336)][t(599)][t(571)];this[t(537)].all=void 0===(null==e?void 0:e[i(353)](i=>t(527)===i)),this[t(537)][t(483)]=void 0===(null==e?void 0:e[t(549)](i=>t(483)===i)),this[t(537)][t(591)]=void 0===(null==e?void 0:e[t(549)](t=>i(331)===t)),this[t(537)][t(595)]=void 0===(null==e?void 0:e[t(549)](i=>t(595)===i)),this[t(537)][t(535)]=void 0===(null==e?void 0:e[t(549)](i=>t(535)===i)),this[t(537)][t(536)]=void 0===(null==e?void 0:e[t(549)](i=>t(536)===i)),this.shows[t(559)]=void 0===(null==e?void 0:e[i(353)](t=>i(354)===t))}},versionClick(){var i=_0x334169;utils_1[i(494)][i(528)](i(604),i(477))},updateClick(){var i=_0x334169;utils_1[i(494)][i(528)](i(604),i(555))},async switchVersion(i,t){var e=_0xcfb31d,s=_0x334169;let _=this[s(576)];this[s(577)](!1),plugin_1[s(540)][s(567)]=!0,this[s(524)]=!1,await plugin_1[e(273)][s(578)](this[e(269)][s(505)]),this.hasSwitch=!0;try{await this.installPlugin(this[e(269)][s(505)],i)}catch(i){return void utils_1[e(301)][e(278)](s(546))}_?setTimeout(async()=>{var i=s;await this[i(577)](!0),utils_1.csEvent[i(528)](i(546)),plugin_1[i(540)][i(567)]=!1},1e3):utils_1[s(494)][e(278)](s(546))},clacVersion(){var i=_0xcfb31d,t=_0x334169;if(!this[i(244)])return void(this[t(499)]=!1);let e=plugin_1[t(540)][t(485)](this[t(469)][i(288)]),s=this[i(244)][i(331)];this[t(499)]=1===utils_1[t(602)][t(545)](e,s),this[t(467)][t(581)]&&this[t(467)][t(581)]!==this[t(486)][t(591)]&&this[i(264)]&&utils_1[t(517)][t(503)](this[t(469)][t(508)]+t(491)+utils_1[i(374)].tr(t(574)))},async checkServiceOnGame(){var i=_0x334169;return"0"===this[i(469)][i(492)]||(await utils_1[i(605)][i(582)](this[i(525)][i(568)]))[i(515)][i(579)](this[i(469)][i(541)])>=0},async checkAllowOpenService(){var i=_0xcfb31d,t=_0x334169;if(t(550)===this[t(525)][t(568)]&&"0"!==this[t(469)][t(492)])return utils_1.csEvent[t(528)](t(534),t(599)),!1;if(!this[t(592)][i(365)](this[t(525)],this.srv))return!1;if(0!==this.srv[i(312)]){let e=await utils_1[i(294)][t(553)](),s=1==(1&e[t(470)]),_=2==(2&e[t(470)]),c=4==(4&e[i(360)]),r="",a="",l="",n=!0;return"0"!==this[t(525)].c_id?1===this[t(469)][t(464)]&&0===e[t(556)]?(r=await core_1[t(540)][t(600)](t(518)),a=utils_1[t(564)].tr(i(362)),l=utils_1[i(374)].tr(t(513)),n=!1):2!==this[i(269)][t(464)]||_?3!==this[t(469)][i(312)]||c||(r=await core_1[t(540)][i(282)](t(563),{corporation_id:e.corporation_id,verifyLevel:1}),a=utils_1[t(564)].tr(i(322)),l=utils_1[t(564)].tr(t(583)),n=!1):(r=await core_1.default[t(600)](i(275),{corporation_id:e[i(333)]}),a=utils_1[t(564)].tr(t(484)),l=utils_1[i(374)].tr(t(583)),n=!1):1===this[t(515)][t(464)]&&0===e[i(279)]?(r=await core_1[t(540)][t(600)](t(496)),a=utils_1[t(564)].tr(i(363)),l=utils_1[t(564)].tr(t(513)),n=!1):1===this[t(515)][i(312)]||s||(r=await core_1[t(540)][t(600)](i(248)),a=utils_1[t(564)].tr(t(509)),l=utils_1[i(374)].tr(t(583)),n=!1),!!n||(0===await utils_1[t(564)][t(497)](t(503),a,utils_1[t(564)].tr(i(270)),[l,utils_1[t(564)].tr(t(531))],0)&&utils_1[t(540)][i(267)](r),!1)}return!0},async installPlugin(i,t){return new Promise((e,s)=>{var _=_0x48b1,c=_0x5a25;let r=utils_1[c(564)].tr(c(529));plugin_1[c(540)][c(516)]=!0,plugin_1[c(540)].installPlugin(i,t,async(t,_)=>{var a=_0x48b1,l=c;if(utils_1[l(494)][l(528)]("show-loading",t),!_&&l(551)===t)return utils_1[l(517)][a(351)](utils_1.csEditor.tr(l(473))),s(t);t===r&&(await plugin_1[a(273)][a(292)](i),await this[l(593)](),await this[a(348)](),this.clacVersion(),e(!0)),plugin_1[l(540)][l(516)]=!1})[c(463)](i=>(utils_1[c(517)][c(503)](utils_1[_(374)].tr(c(473))),s(i)))})},async enableService(i){return new Promise((t,e)=>{var s=_0x5a25;this[s(584)]("enable-service",this[s(469)][s(541)],i,!0,()=>{var e=s;i?utils_1[e(596)][e(577)]():utils_1[e(596)][e(566)](),this[e(576)]=i,t()})})},async doOpenService(){var i=_0xcfb31d,t=_0x334169;return utils_1[i(377)][t(489)](),new Promise((e,s)=>{var _=i,c=t;utils_1[_(294)][c(489)](this[c(525)][c(568)],this[_(269)][c(541)])[c(466)](i=>{e()})[c(463)](async i=>{var t,e=_,r=c;this[e(286)]&&this[r(552)][e(309)]&&await(null===(t=this[e(286)])||void 0===t?void 0:t[e(309)]({service:this[r(469)],reason:i})),s(i)})})},async openServiceRequestServer(){return new Promise((i,t)=>{var e=_0x48b1,s=_0x5a25;0!==this[s(469)][s(487)][s(557)]?utils_1[s(494)][s(528)](s(501),utils_1[s(564)].tr(s(487)),this[e(269)][e(290)],[utils_1[s(564)].tr(s(572)),utils_1[s(564)].tr(s(531))],0,e=>{var _=s;if(0!==e)return t(new Error(_(544)));utils_1[_(494)][_(528)](_(601),utils_1[_(564)].tr(_(607))),this[_(542)]()[_(466)](i)[_(463)](t)}):this[s(542)]()[s(466)](i)[s(463)](t)})},async handleEnabelService(i){var t,e,s,_,c=_0xcfb31d,r=_0x334169;if(i[c(265)][r(587)]=this[r(576)],this[c(264)])return utils_1[r(494)][r(528)](c(253),utils_1[r(564)].tr(r(465))),await this[c(307)](!1),void utils_1[r(494)][r(528)](r(546));if(await this[r(502)]()){if(!plugin_1[c(273)][r(606)](this[r(469)][r(505)]))try{await this[r(482)](this[c(269)][r(505)],this[r(469)][r(538)]),utils_1[r(494)][r(528)](r(546))}catch(i){return void utils_1[r(494)][r(528)](r(546))}if(!(null===(t=this[r(552)])||void 0===t?void 0:t[r(507)])||await(null===(e=this[c(286)])||void 0===e?void 0:e[r(507)](this[r(469)]))){if(await this[r(589)]())utils_1[r(494)].emit(c(253),utils_1[c(374)].tr(c(296)));else try{await this[r(512)]()}catch(i){return void utils_1[c(301)][r(528)]("hide-loading")}await this[c(307)](!0),(null===(s=this[r(552)])||void 0===s?void 0:s[r(539)])&&await(null===(_=this[r(552)])||void 0===_?void 0:_[r(539)](this[r(469)])),utils_1[r(494)][r(528)](c(343))}}},async handleGotoLink(i){var t,e,s=_0xcfb31d,_=_0x334169;switch(i){case _(548):e=this[_(515)][_(490)],utils_1[_(596)][_(590)](e);break;case _(547):e=this[_(515)].service_dev_url,utils_1[_(596)][_(476)](e);break;case _(506):e=this[s(311)][_(521)],utils_1[_(596)][_(543)](e)}this[s(286)]&&this[s(286)][_(471)]&&!await(null===(t=this[_(552)])||void 0===t?void 0:t.beforeClickGotoLink(e))||utils_1[s(273)][_(586)](e)},async gotoService(){var i=_0xcfb31d,t=_0x334169;let e=this[t(592)][t(510)].game[i(285)],s=this[t(592)].$data.game[t(569)]||0;utils_1[t(540)][i(267)](await core_1[t(540)][t(600)](i(241),{app_id:e,target:s}))}}});