"use strict";var _0x370f81=_0x2fc4;function _0x54bf(){var i=["gotoSampleUrl","service","dialog_title","service_protocol","readServiceParam","call","../../../vue","__importDefault","removeAllListeners","realname_company_tips","verify_tips","5wFnynV","app_id","cocos_mobile_bind_personal_url","getServiceContactUrl","isInstall","serviceVersion","c_id","certificate","2898567jcNhpK","beforeClickGotoLink","8337720moQJyU","not_installed","dev","version","realname_person_tips","service_name","shift","Cancel Open!","verify_person_tips","../../../utils","15697bfxbUk","getServicePlugin","../../core/plugin","get","dialogMsgBox","hasSwitch","hasUpdate","detail","open_service_btn","shadowRoot","csEvent","default","contact_to_open","writable","pluginExists","jump","readPluginInfo","reloadPlugin","UNKNOW","verification_status","fail","all","openService","$emit","../../core","show-bind-game","show-verm","find","switch","contents","hasOwnProperty","warn","2211652SVsijz","service_dev_url","servicePlugin","checkAllowOpenService","./service-detail.html","csEditor","openServiceRequestServer","attachShadow","getUrl","shows","getServicePluginInfo","sample","service_guide_url","require_verify","download_failed","4228994gOGEWF","413965tuCFyX","6292TcGScx","realname","guide","srv","pluginReady","catch","3QnMuiA","replaceAppIdOnUrl","46584KBchdK","unknow_game","cocos_company_verify_url","game","cocos_mobile_bind_company_url","closing_service","price","plugin_version","24flxDsH","7027146gmvXJZ","csFile","checkServiceOnGame","description","1628552FoWmAF","enable","uninstallPlugin","csConfig","csAnalytics","installPlugin","opening_service","$data","disables","configurable","42nGrPpU","high_verify_tips","package_download_url","beforeOpenService","installed","csUtil","getGameDetail","emit","csProtocol","afterOpenService","27921GIhTeo","__esModule","failureOpenService","$root","serviceInfo","3311788CPwKAl","getOwnPropertyDescriptor","7Omrwgv","__importStar","1558356dzvgRG","createInnterHTML","pluginClose","defineProperty","openCocosUrl","30bDofWS","doOpenService","name","__createBinding","service:switch-version","cocos_service_open_url","124629GIpoGs","getServiceUserInfo","platform","push","/../../assets/","service_type","service_id","ready","service_component_name","csLogger","is_mobile_company","service_version_warnning","btn_cancel","prototype","hide-loading","enableService","enable-service"];return(_0x54bf=function(){return i})()}function _0x2fc4(i,t){var e=_0x54bf();return(_0x2fc4=function(i,t){return e[i-=128]})(i,t)}!function(){for(var i=_0x2fc4,t=_0x54bf();;)try{if(528403==-parseInt(i(269))*(-parseInt(i(283))/2)+parseInt(i(234))/3*(parseInt(i(211))/4)+-parseInt(i(159))/5*(parseInt(i(278))/6)+-parseInt(i(226))/7+parseInt(i(244))/8*(-parseInt(i(167))/9)+-parseInt(i(169))/10+parseInt(i(228))/11*(parseInt(i(236))/12))break;t.push(t.shift())}catch(i){t.push(t.shift())}}();var _0x205da8=_0x15a7,__createBinding=(!function(){for(var t=_0x2fc4,i=_0x15a7,e=_0x480d();;)try{if(838069==-parseInt(i(497))+parseInt(i(524))/2*(parseInt(i(506))/3)+-parseInt(i(441))/4+parseInt(i(405))/5*(parseInt(i(523))/6)+parseInt(i(434))/7*(-parseInt(i(457))/8)+-parseInt(i(409))/9+-parseInt(i(414))/10*(-parseInt(i(399))/11))break;e[t(134)](e[t(175)]())}catch(i){e[t(134)](e[t(175)]())}}(),this&&this[_0x205da8(505)]||(Object[_0x205da8(397)]?function(i,t,e,s){var r=_0x2fc4,a=_0x205da8,n=(void 0===s&&(s=e),Object[a(431)](t,e));n&&!(a(491)in n?!t.__esModule:n[a(511)]||n[r(258)])||(n={enumerable:!0,get:function(){return t[e]}}),Object[a(534)](i,s,n)}:function(i,t,e,s){i[s=void 0===s?e:s]=t[e]})),__setModuleDefault=this&&this[_0x205da8(440)]||(Object.create?function(i,t){var e=_0x2fc4;Object[e(281)](i,e(190),{enumerable:!0,value:t})}:function(i,t){i[_0x205da8(518)]=t}),__importStar=this&&this[_0x370f81(277)]||function(i){var t=_0x370f81,e=_0x205da8;if(i&&i[e(463)])return i;var s={};if(null!=i)for(var r in i)e(518)!==r&&Object[t(144)][t(209)][e(485)](i,r)&&__createBinding(s,i,r);return __setModuleDefault(s,i),s},__importDefault=this&&this[_0x370f81(155)]||function(i){return i&&i[_0x370f81(270)]?i:{default:i}};function _0x15a7(i,t){var e=_0x480d();return(_0x15a7=function(i,t){return e[i-=374]})(i,t)}function _0x480d(){var i=_0x370f81,t=[i(164),"705463cXWmoY","enable-service",i(157),i(219),i(223),i(256),i(227),i(225),i(161),i(154),i(245),"emit",i(282),i(178),i(260),"280gaHzFp","service_not_open",i(272),i(263),i(162),i(216),"servicePlugin",i(186),"isUpdate",i(267),"catch","UNKNOW","extend","service_sample_url",i(191),i(279),"getPluginVerByURL",i(275),i(188),i(206),i(276),"update",i(143),i(132),i(222),i(137),"__setModuleDefault",i(274),i(252),i(210),i(174),"show-loading",i(241),i(170),i(195),i(261),i(135),"clacVersion",i(203),i(166),"cocos_personal_verify_url"," - ",i(129),i(249),"debug","afterOpenService","is_mobile",i(208),i(187),i(270),"gotoDashboardUrl",i(257),"close",i(196),"checked","url",i(140),i(152),i(230),i(145),i(184),i(240),i(242),"getUserInfo",i(199),i(231),i(193),i(264),"service_price",i(165),i(262),i(153),"readFile",i(253),i(200),i(232),i(194),i(182),i(285),i(180),i(151),"switchVersion",i(284),i(179),i(163),i(215),i(280),i(248),i(229),"then","checkServiceWithGame",i(128),i(131),i(146),i(133),"show-confirm",i(160),i(192),i(254),i(130),i(237),i(189),"param",i(271),i(190),i(243),i(183),"openService","compareVersion",i(259),"14cOrwKj",i(168),i(247),"indexOf","configDevUrl",i(181),i(207),"open",i(139),"game","defineProperty","serviceInfo",i(224),i(176),i(212),i(255),"corporation_id",i(136),"disableService",i(138),i(205),i(158),i(177),i(149),"$refs",i(220),i(156),i(171),i(172),"enable",i(198),i(202),i(142),i(235),i(185),"create"];return(_0x480d=function(){return t})()}Object[_0x205da8(534)](exports,_0x205da8(463),{value:!0});const vue_1=__importDefault(require(_0x205da8(408))),core_1=__importDefault(require(_0x205da8(452))),plugin_1=__importDefault(require(_0x205da8(529))),utils_1=__importStar(require(_0x205da8(412)));exports[_0x205da8(518)]=vue_1[_0x370f81(190)][_0x205da8(426)]({template:utils_1[_0x370f81(246)][_0x205da8(486)](__dirname,_0x205da8(499)),props:{game:{type:Object,default:()=>({app_id:_0x370f81(197),name:utils_1[_0x205da8(419)].tr(_0x205da8(514)),c_id:"0"})},service:{type:Object}},data(){var i=_0x205da8;return{enable:!1,srv:this[_0x370f81(149)],serviceInfo:void 0,servicePlugin:void 0,service_price:this[i(385)][i(482)],param:{},serviceVersion:"",hasUpdate:!1,hasSwitch:!0,shows:{all:!0,name:!0,version:!0,description:!0,jump:!0,price:!0,platform:!0}}},watch:{async game(i){this[_0x205da8(528)]()}},async created(){var i=_0x370f81,t=_0x205da8;this[t(479)][t(391)]&&(this[t(391)]=this[t(479)][t(391)]&&plugin_1[t(518)][t(480)](this[t(479)][i(139)])),await this[i(195)]();try{this[t(516)]=await utils_1[t(442)][t(471)](this[t(479)][t(439)])}catch(i){utils_1[t(470)][t(458)](i)}this.calcShows(),this[t(393)](i(147),this[i(231)][i(137)],this[i(250)]),this.clacVersion(),utils_1[t(515)][t(388)](t(456)),utils_1[t(515)].on(t(456),this[t(495)]),this[t(528)]()},async mounted(){await this[_0x205da8(489)]()},async destroyed(){await this[_0x205da8(500)]()},methods:{async pluginReady(){var i=_0x370f81,t=_0x205da8;if(await plugin_1[t(518)][t(467)](this[i(231)][t(532)]),this[i(213)]=plugin_1[t(518)][t(493)](this[t(479)][t(532)],"detail"),this[t(420)]){var e=this[t(386)][t(421)];if(e[t(432)]||(e[i(218)]({mode:t(531)}),e[t(432)]&&plugin_1[i(190)][t(429)](this[t(420)],e[t(432)],this[t(479)][t(532)],i(186))),this[t(420)][t(381)])try{await this[t(420)][t(381)]({game:this[t(533)],service:this[t(479)],param:await utils_1[t(442)][t(471)](this[t(479)][t(439)])})}catch(i){utils_1[t(470)][t(458)](i)}}},async pluginClose(){var i,t=_0x205da8;null!=(i=this[_0x370f81(213)])&&i[t(466)]&&await this[t(420)][t(466)]()},async readPluginInfo(){var i=_0x370f81,t=_0x205da8;this[i(273)]=plugin_1[i(190)][i(221)](this[t(385)][t(532)]),this[t(420)]=plugin_1[t(518)][t(493)](this[t(385)][t(532)],t(421)),this[t(398)]=this[t(535)]?this[t(535)][t(390)]:utils_1[t(419)].tr(t(447))},getRealPath:i=>__dirname+_0x205da8(450)+i,configDevUrl(){var i=_0x370f81,t=_0x205da8;this[t(479)][t(376)]=utils_1[i(264)][t(395)](this[t(479)][t(376)],this[t(533)][t(510)])},calcShows(){var i,t=_0x370f81,e=_0x205da8;this[t(273)]&&this[e(535)][e(461)]&&this[e(535)][e(461)][e(421)]&&(i=this[e(535)][e(461)].detail[e(465)],this[e(387)][e(488)]=void 0===(null==i?void 0:i[e(433)](i=>e(488)===i)),this[e(387)][e(492)]=void 0===(null==i?void 0:i[e(433)](i=>e(492)===i)),this.shows[e(390)]=void 0===(null==i?void 0:i[e(433)](i=>e(390)===i)),this[e(387)][e(501)]=void 0===(null==i?void 0:i[e(433)](i=>e(501)===i)),this[e(387)][e(490)]=void 0===(null==i?void 0:i[t(206)](i=>e(490)===i)),this[e(387)][e(476)]=void 0===(null==i?void 0:i[e(433)](i=>e(476)===i)),this[e(387)][t(133)]=void 0===(null==i?void 0:i[e(433)](i=>e(508)===i)))},versionClick(){var i=_0x205da8;utils_1[i(515)][i(410)](i(382),i(530))},updateClick(){var i=_0x205da8;utils_1[i(515)][i(410)]("show-verm",i(435))},async switchVersion(i,t){var e=_0x370f81,s=_0x205da8,r=this[s(391)];this[s(507)](!1),plugin_1[e(190)][s(422)]=!0,this.hasSwitch=!1,await plugin_1[s(518)][e(251)](this[s(479)][s(532)]),this[s(474)]=!0;try{await this[s(512)](this[s(479)][s(532)],i)}catch(i){return void utils_1[s(515)].emit(s(473))}r?setTimeout(async()=>{var i=s;await this[i(507)](!0),utils_1[i(515)][i(410)]("hide-loading"),plugin_1.default[i(422)]=!1},1e3):utils_1[s(515)][s(410)](s(473))},clacVersion(){var i,t,e=_0x370f81,s=_0x205da8;this[e(273)]?(i=plugin_1[s(518)][s(430)](this[s(479)][s(449)]),t=this[s(535)][s(390)],this[s(396)]=1===utils_1[s(481)][s(522)](i,t),this[s(516)].plugin_version&&this[s(516)][s(519)]!==this[s(535)][s(390)]&&this[s(391)]&&utils_1[s(470)][e(210)](this[s(479)][s(444)]+s(455)+utils_1[s(419)].tr(s(394)))):this[s(396)]=!1},async checkServiceOnGame(){var i=_0x370f81,t=_0x205da8;return"0"===this[t(479)].service_type||"4"===this[i(231)][t(379)]||0<=(await utils_1[t(423)][i(265)](this[t(533)][t(510)]))[i(149)][t(527)](this[t(479)][t(439)])},async checkAllowOpenService(){var i,t,l=_0x370f81,c=_0x205da8;if(c(425)===this[l(239)][c(510)]&&"0"!==this[c(479)][l(136)]&&"4"!==this[c(479)][c(379)])return utils_1[c(515)][c(410)](l(204),c(421)),!1;if(!this[c(416)][c(504)](this[c(533)],this[l(231)]))return!1;if(0===this[l(231)].require_verify)return"4"!==this[l(231)][c(379)]||!!(await utils_1[c(423)][c(437)](this[c(479)][c(439)]))[c(391)]||(i=utils_1[l(216)].tr(c(415)),t=utils_1[l(216)].tr(c(428)),i=await utils_1[c(419)][c(520)](c(443),i,utils_1[c(419)].tr(l(150)),[t,utils_1[c(419)].tr(c(436))],0),t=await utils_1[c(423)][c(418)](this[c(479)][c(439)]),0===i&&t[c(469)]&&utils_1[c(518)][c(411)](t[c(469)]),!1);{let i=await utils_1[c(423)][c(477)](),t=1==(1&i[c(392)]),e=2==(2&i[c(392)]),s=4==(4&i[c(392)]),r="",a="",n="",_=!0;return"0"!==this[l(239)].c_id?1===this[c(479)][c(374)]&&0===i[l(141)]?(r=await core_1[c(518)][c(402)](c(475)),a=utils_1[c(419)].tr(c(401)),n=utils_1.csEditor.tr(c(502)),_=!1):2!==this[c(479)].require_verify||e?3!==this[c(479)][l(224)]||s||(r=await core_1[c(518)][c(402)](l(238),{corporation_id:i[c(378)],verifyLevel:1}),a=utils_1[c(419)].tr(c(413)),n=utils_1[c(419)].tr(c(453)),_=!1):(r=await core_1[c(518)][c(402)](l(238),{corporation_id:i[c(378)]}),a=utils_1[c(419)].tr(c(383)),n=utils_1[l(216)].tr(c(453)),_=!1):1===this[c(385)][c(374)]&&0===i[c(460)]?(r=await core_1[c(518)][l(219)](c(407)),a=utils_1[c(419)].tr(l(173)),n=utils_1[c(419)].tr(c(502)),_=!1):1===this[c(385)].require_verify||t||(r=await core_1[c(518)][c(402)](c(454)),a=utils_1[c(419)].tr(c(384)),n=utils_1[c(419)].tr(c(453)),_=!1),!!_||(0===await utils_1[c(419)][c(520)](l(210),a,utils_1[c(419)].tr("dialog_title"),[n,utils_1.csEditor.tr(c(436))],0)&&utils_1[c(518)][l(282)](r),!1)}},async installPlugin(_,t){return new Promise((s,r)=>{var i=_0x2fc4,a=_0x15a7;let n=utils_1[i(216)].tr(a(417));plugin_1[a(518)][i(163)]=!0,plugin_1[i(190)][a(512)](_,t,async(i,t)=>{var e=a;if(utils_1[e(515)][e(410)](e(445),i),!t&&e(478)===i)return utils_1[e(470)][e(443)](utils_1[e(419)].tr(e(406))),r(i);i===n&&(await plugin_1[e(518)][e(467)](_),await this[e(448)](),await this[e(489)](),this[e(451)](),s(!0)),plugin_1[e(518)][e(498)]=!1})[a(424)](i=>(utils_1[a(470)][a(443)](utils_1[a(419)].tr(a(406))),r(i)))})},async enableService(s){return new Promise((t,i)=>{var e=_0x15a7;this[e(393)](e(400),this[e(479)][e(439)],s,!0,()=>{var i=e;s?utils_1[i(487)][i(507)]():utils_1[i(487)][i(380)](),this[i(391)]=s,t()})})},async doOpenService(){var e=_0x370f81,a=_0x205da8;return utils_1[a(487)][e(201)](),new Promise((t,s)=>{var i=e,r=a;utils_1[r(423)][r(521)](this[r(533)][i(160)],this[r(479)][r(439)])[r(503)](i=>{t()})[i(233)](async i=>{var t,e=r;this[e(420)]&&this[e(420)].failureOpenService&&await(null==(t=this.servicePlugin)?void 0:t[e(517)]({service:this[e(479)],reason:i})),s(i)})})},async openServiceRequestServer(){return new Promise((e,s)=>{var i=_0x2fc4,r=_0x15a7;0!==this[r(479)][r(494)].length?utils_1[i(189)][i(266)](r(509),utils_1[r(419)].tr(r(494)),this[r(479)][r(494)],[utils_1[r(419)].tr(r(462)),utils_1[r(419)].tr(r(436))],0,i=>{var t=r;if(0!==i)return s(new Error(t(375)));utils_1[t(515)][t(410)](t(445),utils_1[t(419)].tr(t(377))),this[t(496)]()[t(503)](e)[t(424)](s)}):this[r(496)]()[r(503)](e)[r(424)](s)})},async handleEnabelService(i){var t=_0x370f81,e=_0x205da8;if(i.target[e(468)]=this[e(391)],this[e(391)])utils_1[e(515)][e(410)](e(445),utils_1[e(419)].tr(e(446))),await this[e(507)](!1),utils_1[e(515)][e(410)](e(473));else if(await this[t(214)]()){if(!plugin_1[e(518)][e(480)](this.srv[e(532)]))try{await this[e(512)](this[e(479)][t(139)],this[e(479)][t(261)]),utils_1[e(515)][e(410)](t(145))}catch(i){return void utils_1[e(515)][e(410)](e(473))}if(null==(i=this[e(420)])||!i[e(484)]||await(null==(i=this[e(420)])?void 0:i[e(484)](this[e(479)]))){if(await this[e(526)]())utils_1[t(189)][e(410)](e(445),utils_1[t(216)].tr(e(377)));else try{await this[t(217)]()}catch(i){return void utils_1[e(515)][e(410)](t(145))}await this[e(507)](!0),null!=(i=this[t(213)])&&i[t(268)]&&await(null==(i=this[e(420)])?void 0:i[e(459)](this[t(231)])),utils_1[e(515)][e(410)](t(145))}}},async handleGotoLink(i){var t,e=_0x370f81,s=_0x205da8;switch(i){case s(472):t=this[s(385)][s(403)],utils_1[s(487)].gotoGuideUrl(t);break;case s(389):t=this[s(385)][s(376)],utils_1[s(487)][s(464)](t);break;case s(438):t=this[s(385)][s(427)],utils_1[e(253)][e(148)](t)}this[s(420)]&&this[s(420)][s(525)]&&!await(null==(i=this[s(420)])?void 0:i[s(525)](t))||utils_1[s(518)][s(411)](t)},async gotoService(){var i=_0x370f81,t=_0x205da8,e=this[t(416)][i(256)][i(239)][t(510)],s=this[t(416)][t(404)][t(533)][t(483)]||0;utils_1[t(518)][i(282)](await core_1[t(518)][t(402)](t(513),{app_id:e,target:s}))}}});