"use strict";var _0x50c13e=_0x1749;!function(e,i){for(var t=_0x1749,s=_0x76e7();;)try{if(284034===-parseInt(t(162))/1+parseInt(t(231))/2+parseInt(t(247))/3*(-parseInt(t(159))/4)+-parseInt(t(219))/5+-parseInt(t(212))/6+parseInt(t(208))/7*(parseInt(t(259))/8)+-parseInt(t(241))/9*(-parseInt(t(276))/10))break;s.push(s.shift())}catch(e){s.push(s.shift())}}();var _0x1aeced=_0x2341;function _0x398f(){var e=_0x1749,i=[e(151),"gotoDashboardUrl",e(273),e(284),e(222),"c_id",e(242),e(275),e(185),e(228),e(155),e(156),"enableService",e(195),e(171),e(254),e(189),e(221),e(169),e(255),e(192),e(278),e(271),"beforeClickGotoLink",e(239),e(136),e(180),"csConfig",e(260),e(146),e(279),e(201),"hasUpdate",e(184),e(234),"checked","hasOwnProperty",e(244),e(172),e(264),e(164),e(230),e(181),"__setModuleDefault",e(135),e(214),e(267),e(263),"UNKNOW",e(203),e(248),"high_verify_tips",e(178),"getServicePlugin","$emit",e(197),e(207),e(246),e(198),"not_installed","param","target",e(258),e(229),e(131),e(257),e(186),e(182),e(256),e(150),"defineProperty","service_version_warnning",e(237),"189847SrsWuY",e(281),"jump",e(167),e(210),"enable",e(157),e(142),e(205),e(191),"isInstall",e(199),e(202),e(226),e(213),e(170),e(165),"getGameDetail",e(132),e(137),"pluginReady","certificate","hasSwitch",e(187),e(183),e(134),e(223),e(175),e(161),"service_dev_url",e(158),e(277),e(173),e(211),e(250),e(193),e(218),e(216),"getPluginVerByURL",e(177),e(144),e(282),"platform",e(249),e(139),e(154),e(220),e(238),"$root",e(245),e(147),e(152),e(166),e(225),e(227),e(232),e(174),e(224),"../../../vue",e(243),"attachShadow","2185306wQrRpp",e(140),e(149),e(200),e(253),e(270),e(265),e(196),e(251),"dialogMsgBox","guide",e(252),"4932cFutzB",e(179),e(283),e(266),"service_component_name",e(236),e(148),e(206),e(262),e(160),"plugin_version"];return(_0x398f=function(){return i})()}function _0x2341(e,i){var t=_0x398f();return(_0x2341=function(e,i){return t[e-=120]})(e,i)}!function(e,i){for(var t=_0x1749,s=_0x2341,r=_0x398f();;)try{if(569130===parseInt(s(224))/1+-parseInt(s(128))/2+-parseInt(s(134))/3+-parseInt(s(193))/4*(-parseInt(s(203))/5)+parseInt(s(271))/6+-parseInt(s(260))/7+-parseInt(s(154))/8*(-parseInt(s(140))/9))break;r[t(145)](r[t(168)]())}catch(e){r[t(145)](r[t(168)]())}}();var __createBinding=this&&this[_0x1aeced(273)]||(Object[_0x1aeced(132)]?function(e,i,t,s){var r=_0x1aeced;void 0===s&&(s=t);var a=Object[_0x1749(233)](i,t);a&&!(r(155)in a?!i[r(239)]:a[r(158)]||a[r(123)])||(a={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(e,s,a)}:function(e,i,t,s){void 0===s&&(s=t),e[s]=i[t]}),__setModuleDefault=this&&this[_0x1aeced(194)]||(Object[_0x1aeced(132)]?function(e,i){var t=_0x1aeced;Object[t(221)](e,t(249),{enumerable:!0,value:i})}:function(e,i){e[_0x1aeced(249)]=i}),__importStar=this&&this[_0x1aeced(168)]||function(e){var i=_0x1aeced;if(e&&e[i(239)])return e;var t={};if(null!=e)for(var s in e)i(249)!==s&&Object[i(188)][i(187)][i(237)](e,s)&&__createBinding(t,e,s);return __setModuleDefault(t,e),t},__importDefault=this&&this[_0x1aeced(247)]||function(e){return e&&e[_0x1aeced(239)]?e:{default:e}};function _0x76e7(){var e=["isUpdate","service:switch-version","getUrl","indexOf","811185YdfWBd","debug","update","disableService","certificate","require_verify","opening_service","service_dev_url","service_price","getServicePlugin","writable","40makEij","shows","checkServiceWithGame","csEvent","pluginClose","serviceVersion","price","all","8408Eycdhq","./service-detail.html","../../../utils","openServiceRequestServer","c_id","default","gotoGuideUrl","createInnterHTML"," - ","isInstall","game","checkServiceOnGame","jump","cocos_personal_verify_url","show-bind-game","ready","push","catch","realname_company_tips","corporation_id","gotoSampleUrl","service_name","length","installPlugin","beforeClickGotoLink","close","srv","cocos_mobile_bind_personal_url","dev","description","52ZCBrxd","extend","readPluginInfo","168923OUVWGl","service_component_name","enable-service","service_guide_url","realname","failureOpenService","shift","switchVersion","__esModule","show-confirm","pluginExists","../../core","configurable","csFile","closing_service","getUserInfo","15CUMvSG","csUtil","version","1052756pchDub","package_download_url","../../core/plugin","readFile","service_type","removeAllListeners","__importDefault","is_mobile_company","$data","verify_person_tips","name","doOpenService","then","openCocosUrl","uninstallPlugin","serviceInfo","show-loading","app_id","cocos_company_verify_url","$refs","find","csAnalytics","/../../assets/","is_mobile","hide-loading","configDevUrl","unknow_game","1797369EcDatL","verify_tips","service_id","realname_person_tips","776502NcDsgB","replaceAppIdOnUrl","getServicePluginInfo","installed","download_failed","checkAllowOpenService","2312142NSiFzH","1981635lyZSSA","show-verm","__importStar","get","afterOpenService","service","compareVersion","call","servicePlugin","warn","detail","verification_status","590358vZWKOG","sample","getOwnPropertyDescriptor","emit","switch","csLogger","openService","4242732ZwBzVD","contents","Cancel Open!","1556109VDEfco","beforeOpenService","reloadPlugin","prototype","__createBinding","csProtocol","61119YQhTGT","clacVersion","open_service_btn","calcShows","readServiceParam","shadowRoot","create","csEditor","dialog_title","service_sample_url","fail","btn_cancel","8HmPcSc","service_protocol"];return(_0x76e7=function(){return e})()}function _0x1749(e,i){var t=_0x76e7();return(_0x1749=function(e,i){return t[e-=131]})(e,i)}Object.defineProperty(exports,_0x1aeced(239),{value:!0});const vue_1=__importDefault(require(_0x1aeced(125))),core_1=__importDefault(require(_0x1aeced(256))),plugin_1=__importDefault(require(_0x1aeced(248))),utils_1=__importStar(require(_0x1aeced(215)));exports[_0x1aeced(249)]=vue_1[_0x1aeced(249)][_0x1aeced(149)]({template:utils_1[_0x1aeced(251)][_0x1aeced(184)](__dirname,_0x50c13e(285)),props:{game:{type:Object,default:()=>({app_id:_0x1aeced(199),name:utils_1[_0x1aeced(166)].tr(_0x1aeced(207)),c_id:"0"})},service:{type:Object}},data(){var e=_0x1aeced;return{enable:!1,srv:this.service,serviceInfo:void 0,servicePlugin:void 0,service_price:this[e(124)][e(153)],param:{},serviceVersion:"",hasUpdate:!1,hasSwitch:!0,shows:{all:!0,name:!0,version:!0,description:!0,jump:!0,price:!0,platform:!0}}},watch:{async game(e){this[_0x1aeced(147)]()}},async created(){var e=_0x50c13e,i=_0x1aeced;this[i(161)].enable&&(this[i(229)]=this[i(161)][i(229)]&&plugin_1[i(249)][i(189)](this[i(161)][i(144)])),await this[i(252)]();try{this[i(211)]=await utils_1[i(178)][i(136)](this[i(161)][i(228)])}catch(e){utils_1[i(145)][i(143)](e)}this[i(258)](),this[i(205)](i(191),this[i(161)][e(210)],this.enable),this[i(201)](),utils_1[i(181)][i(217)](e(262)),utils_1[e(279)].on(i(148),this[i(169)]),this[e(206)]()},async mounted(){var e=_0x1aeced;await this[e(244)]()},async destroyed(){var e=_0x50c13e;await this[e(280)]()},methods:{async pluginReady(){var e=_0x50c13e,i=_0x1aeced;if(await plugin_1[i(249)][i(126)](this[i(161)][i(144)]),this[e(227)]=plugin_1[e(134)][e(274)](this[i(161)][i(144)],i(214)),this[i(121)]){let t=this[i(131)][i(214)];if(t[i(139)]||(t[i(127)]({mode:"open"}),t[e(252)]&&plugin_1[i(249)][i(176)](this[i(121)],t[i(139)],this[i(161)][i(144)],i(214))),this[i(121)][i(264)])try{await this[i(121)][e(144)]({game:this[i(268)],service:this[i(161)],param:await utils_1[i(178)][i(136)](this[e(155)][i(228)])})}catch(e){utils_1[i(145)][i(143)](e)}}},async pluginClose(){var e,i=_0x1aeced;(null===(e=this[i(121)])||void 0===e?void 0:e.close)&&await this[i(121)][i(269)]()},async readPluginInfo(){var e=_0x50c13e,i=_0x1aeced;this[i(135)]=plugin_1[i(249)][i(196)](this[i(124)][i(144)]),this[e(227)]=plugin_1[i(249)][i(204)](this.service[e(163)],i(214)),this[i(225)]=this[i(135)]?this[i(135)][i(177)]:utils_1[e(254)].tr(i(210))},getRealPath:e=>__dirname+_0x1aeced(200)+e,configDevUrl(){var e=_0x50c13e,i=_0x1aeced;this[i(161)][i(253)]=utils_1[i(141)][i(238)](this[i(161)][e(272)],this[i(268)][i(209)])},calcShows(){var e=_0x50c13e,i=_0x1aeced;if(this[e(196)]&&this[i(135)][i(175)]&&this[e(196)][e(239)][e(229)]){let t=this[i(135)][i(175)][e(229)].disables;this[i(255)][i(142)]=void 0===(null==t?void 0:t.find(e=>i(142)===e)),this[i(255)][i(233)]=void 0===(null==t?void 0:t[i(182)](e=>i(233)===e)),this[e(277)][i(177)]=void 0===(null==t?void 0:t[e(201)](e=>i(177)===e)),this[i(255)][i(254)]=void 0===(null==t?void 0:t[e(201)](e=>i(254)===e)),this[i(255)][e(141)]=void 0===(null==t?void 0:t[e(201)](e=>i(226)===e)),this[i(255)][i(265)]=void 0===(null==t?void 0:t[i(182)](e=>i(265)===e)),this[i(255)][i(266)]=void 0===(null==t?void 0:t[i(182)](e=>i(266)===e))}},versionClick(){var e=_0x50c13e,i=_0x1aeced;utils_1[i(181)][e(234)](i(270),e(235))},updateClick(){var e=_0x1aeced;utils_1[e(181)][e(185)](e(270),e(197))},async switchVersion(e,i){var t=_0x50c13e,s=_0x1aeced;let r=this[s(229)];this[s(163)](!1),plugin_1[s(249)][t(261)]=!0,this[s(246)]=!1,await plugin_1[s(249)][s(164)](this[t(155)][t(163)]),this[s(246)]=!0;try{await this[s(275)](this[s(161)][s(144)],e)}catch(e){return void utils_1[s(181)][s(185)](s(232))}r?setTimeout(async()=>{var e=t,i=s;await this[i(163)](!0),utils_1[i(181)][i(185)](e(205)),plugin_1[i(249)][e(261)]=!1},1e3):utils_1.csEvent[s(185)](s(232))},clacVersion(){var e=_0x50c13e,i=_0x1aeced;if(!this[i(135)])return void(this[i(183)]=!1);let t=plugin_1[i(249)][i(262)](this[i(161)][i(218)]),s=this[e(196)][e(180)];this[i(183)]=1===utils_1[i(141)][i(120)](t,s),this[i(211)][i(150)]&&this[i(211)][i(150)]!==this[e(196)][i(177)]&&this[i(229)]&&utils_1[i(145)][e(228)](this[e(155)][i(220)]+i(243)+utils_1[i(166)].tr(i(222)))},async checkServiceOnGame(){var e=_0x50c13e,i=_0x1aeced;return"0"===this.srv[i(159)]||(await utils_1[i(208)][i(241)](this[e(139)][i(209)]))[i(124)][i(190)](this[i(161)][e(210)])>=0},async checkAllowOpenService(){var e=_0x50c13e,i=_0x1aeced;if(i(199)===this.game[i(209)]&&"0"!==this[i(161)][i(159)])return utils_1[e(279)][i(185)](e(143),e(229)),!1;if(!this[i(272)][i(172)](this[i(268)],this[i(161)]))return!1;if(0!==this[i(161)][i(133)]){let t=await utils_1[i(208)][i(263)](),s=1==(1&t[i(192)]),r=2==(2&t[e(230)]),a=4==(4&t[i(192)]),c="",n="",_="",l=!0;return"0"!==this[i(268)][e(133)]?1===this[i(161)][i(133)]&&0===t[e(188)]?(c=await core_1[i(249)][i(198)]("cocos_mobile_bind_company_url"),n=utils_1[i(166)].tr(i(274)),_=utils_1[e(254)].tr(i(276)),l=!1):2!==this[e(155)][i(133)]||r?3!==this[e(155)][i(133)]||a||(c=await core_1[e(134)][i(198)](i(235),{corporation_id:t[i(146)],verifyLevel:1}),n=utils_1[i(166)].tr(i(202)),_=utils_1[i(166)].tr("certificate"),l=!1):(c=await core_1[e(134)][i(198)](e(199),{corporation_id:t[i(146)]}),n=utils_1[i(166)].tr(e(209)),_=utils_1[i(166)].tr(i(245)),l=!1):1===this[i(124)][i(133)]&&0===t[e(204)]?(c=await core_1[i(249)][i(198)](i(162)),n=utils_1.csEditor.tr(i(257)),_=utils_1[e(254)].tr(i(276)),l=!1):1===this[i(124)][e(270)]||s||(c=await core_1[i(249)][i(198)](i(231)),n=utils_1[i(166)].tr(e(190)),_=utils_1[e(254)].tr(e(269)),l=!1),!!l||(0===await utils_1[i(166)][i(137)](i(160),n,utils_1[i(166)].tr(i(170)),[_,utils_1[i(166)].tr(i(213))],0)&&utils_1[i(249)][e(194)](c),!1)}return!0},async installPlugin(e,i){return new Promise((t,s)=>{var r=_0x1749,a=_0x2341;let c=utils_1[a(166)].tr(r(215));plugin_1[a(249)][r(138)]=!0,plugin_1[r(134)][a(275)](e,i,async(i,n)=>{var _=r,l=a;if(utils_1.csEvent[l(185)](l(206),i),!n&&l(216)===i)return utils_1[l(145)][l(160)](utils_1.csEditor.tr(_(216))),s(i);i===c&&(await plugin_1[l(249)][l(126)](e),await this[l(252)](),await this[l(244)](),this[l(201)](),t(!0)),plugin_1[l(249)][l(234)]=!1})[a(180)](e=>(utils_1[a(145)][r(228)](utils_1[a(166)].tr(a(261))),s(e)))})},async enableService(e){return new Promise((i,t)=>{var s=_0x1749,r=_0x2341;this[r(205)](r(191),this[s(155)][r(228)],e,!0,()=>{var t=s,a=r;e?utils_1[a(236)][a(163)]():utils_1[a(236)][t(268)](),this[a(229)]=e,i()})})},async doOpenService(){var e=_0x1aeced;return utils_1.csAnalytics[e(223)](),new Promise((i,t)=>{var s=_0x1749,r=e;utils_1[r(208)][r(223)](this[s(139)][r(209)],this[r(161)][s(210)])[r(259)](e=>{i()})[r(180)](async e=>{var i,a=s,c=r;this[a(227)]&&this[c(121)][a(167)]&&await(null===(i=this[c(121)])||void 0===i?void 0:i[c(227)]({service:this[c(161)],reason:e})),t(e)})})},async openServiceRequestServer(){return new Promise((e,i)=>{var t=_0x1749,s=_0x2341;0!==this[t(155)][s(179)][s(151)]?utils_1[s(181)][s(185)](s(165),utils_1[s(166)].tr(s(179)),this[t(155)][s(179)],[utils_1[s(166)].tr(s(267)),utils_1[s(166)].tr(s(213))],0,r=>{var a=t,c=s;if(0!==r)return i(new Error(a(240)));utils_1[a(279)][c(185)]("show-loading",utils_1[a(254)].tr(c(173))),this[c(171)]()[c(259)](e).catch(i)}):this[t(192)]()[s(259)](e)[s(180)](i)})},async handleEnabelService(e){var i,t,s,r,a=_0x50c13e,c=_0x1aeced;if(e[c(212)][c(186)]=this[c(229)],this[c(229)])return utils_1[a(279)][c(185)](c(206),utils_1[c(166)].tr(a(176))),await this[c(163)](!1),void utils_1[c(181)][c(185)](c(232));if(await this[a(217)]()){if(!plugin_1[c(249)][a(172)](this[a(155)][c(144)]))try{await this[c(275)](this[a(155)][c(144)],this[c(161)][c(218)]),utils_1[c(181)][a(234)](c(232))}catch(e){return void utils_1[c(181)][c(185)](c(232))}if(!(null===(i=this.servicePlugin)||void 0===i?void 0:i[a(242)])||await(null===(t=this[c(121)])||void 0===t?void 0:t[c(157)](this[c(161)]))){if(await this[c(129)]())utils_1[c(181)][a(234)](a(197),utils_1[c(166)].tr(a(271)));else try{await this[c(242)]()}catch(e){return void utils_1[c(181)][c(185)](c(232))}await this[c(163)](!0),(null===(s=this[c(121)])||void 0===s?void 0:s[c(250)])&&await(null===(r=this[a(227)])||void 0===r?void 0:r[c(250)](this[c(161)])),utils_1[c(181)][c(185)](c(232))}}},async handleGotoLink(e){var i,t,s=_0x50c13e,r=_0x1aeced;switch(e){case r(138):t=this[s(224)][r(240)],utils_1[r(236)][r(195)](t);break;case r(230):t=this[s(224)][r(253)],utils_1[r(236)][r(152)](t);break;case r(122):t=this[r(124)][r(219)],utils_1[r(236)][r(130)](t)}this[r(121)]&&this[r(121)][r(174)]&&!await(null===(i=this[s(227)])||void 0===i?void 0:i[s(153)](t))||utils_1.default[s(194)](t)},async gotoService(){var e=_0x1aeced;let i=this[e(272)][e(167)][e(268)][e(209)],t=this[e(272)][e(167)][e(268)][e(156)]||0;utils_1[e(249)].openCocosUrl(await core_1[e(249)][e(198)]("cocos_service_open_url",{app_id:i,target:t}))}}});