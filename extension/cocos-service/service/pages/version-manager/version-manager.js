var _0x3ab6=["service_component_name","csEditor","csProtocol","btn_cancel","update_version_tips","update","csUtil","version","getVersionDesc","versionStr","ver : ","target","extend","compareVersion","action","__esModule","service:switch-version","value","upgrade","service","../../../vue","upgradeStr","switch","csEvent","info","package_version_desc","enableUpdate"," : ","switchVersion","readFile","csFile","package_download_url","../../../utils","selected","remoteVersion","emit","push","hide-verm","getPluginVerByURL","btn_ok","shift","switch_version_tips","service_id","defineProperty","__importDefault"];!function(t,i){!function(i){for(;--i;)t.push(t.shift())}(++i)}(_0x3ab6,325);var _0x1857=function(t,i){return _0x3ab6[t-=365]},_0x525cf1=_0x1857,_0x2007=[_0x525cf1(407),"select_version_please",_0x525cf1(396),_0x525cf1(400),"dialogMsgBox","getServicePluginInfo","default",_0x525cf1(369),_0x525cf1(380),_0x525cf1(405),_0x525cf1(398),_0x525cf1(375),_0x525cf1(382),_0x525cf1(409),"srv",_0x525cf1(404),"new_ver",_0x525cf1(408),_0x525cf1(367),_0x525cf1(389),"srvInfo",_0x525cf1(406),_0x525cf1(399),_0x525cf1(403),_0x525cf1(392),_0x525cf1(374),_0x525cf1(388),_0x525cf1(377),_0x525cf1(378),"localVersion",_0x525cf1(365),"enableSwitch","not_installed",_0x525cf1(373),_0x525cf1(390),_0x525cf1(370),_0x525cf1(386),_0x525cf1(368),_0x525cf1(379),_0x525cf1(387),_0x525cf1(366),"../../core/plugin",_0x525cf1(376),_0x525cf1(381),"service_id",_0x525cf1(402),_0x525cf1(401)];!function(t,i){!function(i){for(var e=_0x1857;--i;)t[e(391)](t[e(395)]())}(++i)}(_0x2007,132);var _0x3597=function(t,i){return _0x2007[t-=417]},_0x2cba21=_0x3597,__importDefault=this&&this[_0x2cba21(448)]||function(t){return t&&t[_0x2cba21(461)]?t:{default:t}};Object[_0x2cba21(436)](exports,_0x2cba21(461),{value:!0});const vue_1=__importDefault(require(_0x2cba21(437))),plugin_1=__importDefault(require(_0x2cba21(420))),utils_1=require(_0x2cba21(418));exports[_0x2cba21(432)]=vue_1[_0x2cba21(432)][_0x2cba21(444)]({template:utils_1[_0x525cf1(385)][_0x525cf1(384)](__dirname,"./version-manager.html"),props:{service:{type:Object},action:{type:String,default:()=>_0x2cba21(453)}},data(){var t=_0x525cf1,i=_0x2cba21;return{srv:this[i(451)],srvInfo:plugin_1[i(432)][i(431)](this[t(374)][i(429)]),versionStr:"",upgradeStr:"",localVersion:"",remoteVersion:"",enableUpdate:!1,enableSwitch:!1,selected:""}},async created(){var t,i,e=_0x525cf1,_=_0x2cba21;this[_(445)]=plugin_1[_(432)][e(393)](this[_(440)][_(462)]),this[_(455)]=(null===(t=this[_(446)])||void 0===t?void 0:t[_(426)])||utils_1[_(425)].tr(_(458)),e(405)===this[_(433)]?(this.versionStr=utils_1[_(425)].tr(_(442))+_(438)+this[_(445)],this[_(421)]=this[_(440)][_(434)]):_(453)===this[_(433)]&&(this[_(439)]=_(456)+this[_(455)],this[e(376)]=(await utils_1[e(402)][_(443)](this[_(440)][_(423)],this[_(455)]))[_(434)]||"",""===this[e(376)]&&(null===(i=this[_(446)])||void 0===i?void 0:i[_(426)])&&(this[e(376)]=this[_(446)][_(459)]||"")),this[_(457)]=!1,this[_(422)]=1===utils_1[_(447)][_(463)](this[e(389)],this[_(455)])},methods:{handleClose(){var t=_0x2cba21;utils_1[t(454)][t(460)](t(450))},async handleSelectChange(t){var i=_0x525cf1,e=_0x2cba21;this[e(452)]=t[e(419)][i(372)],this[e(457)]=!(this[e(452)]===utils_1[e(425)].tr(e(427))||this[e(452)]===this[e(455)]),this[e(421)]=(await utils_1[e(424)].getVersionDesc(this[e(440)][i(397)],this[i(388)]))[e(434)]},handleSwitch(){var t=_0x525cf1,i=_0x2cba21;this[t(383)](this[t(388)],i(453))},handleUpdate(){var t=_0x2cba21;this[_0x525cf1(383)](this[t(445)],t(435))},async switchVersion(t,i){var e=_0x525cf1,_=_0x2cba21;if(0!==await utils_1[e(401)][_(430)](_(417),utils_1[_(425)].tr(_(435)===this.action?_(441):_(428)),utils_1[_(425)].tr("dialog_title"),[utils_1[_(425)].tr(e(394)),utils_1[e(401)].tr(_(449))],0))return;let s=await utils_1[_(424)][_(443)](this[_(440)][_(423)],t);utils_1[_(454)][_(460)](e(371),s[_(462)],i),utils_1[_(454)][_(460)](_(450))}}});