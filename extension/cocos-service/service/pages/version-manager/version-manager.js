var _0xf3c7=["compareVersion","info","__importDefault","shift","readFile"," : ","csFile","../../../vue","package_version_desc","getServicePluginInfo","switchVersion","select_version_please","service_component_name","new_ver","upgradeStr","action","csEditor","ver : ","hide-verm","update_version_tips","csProtocol","switch","getVersionDesc","remoteVersion","dialogMsgBox","push","emit","__esModule","service:switch-version","csUtil","localVersion","use strict","value","service","default","service_id","update","btn_cancel","upgrade","srv","versionStr","csEvent","selected","extend","enableSwitch","./version-manager.html","target","version"];!function(e,t){!function(t){for(;--t;)e.push(e.shift())}(++t)}(_0xf3c7,130);var _0x4470=function(e,t){return _0xf3c7[e-=182]},_0x43d827=_0x4470,_0x4a22=["../../core/plugin",_0x43d827(214),"defineProperty",_0x43d827(182),_0x43d827(205),_0x43d827(212),_0x43d827(188),_0x43d827(200),_0x43d827(225),_0x43d827(207),_0x43d827(189),_0x43d827(194),_0x43d827(218),_0x43d827(191),_0x43d827(223),"enableUpdate",_0x43d827(203),_0x43d827(224),"package_download_url",_0x43d827(209),_0x43d827(184),_0x43d827(187),_0x43d827(202),_0x43d827(195),_0x43d827(190),_0x43d827(197),_0x43d827(196),_0x43d827(219),"srvInfo",_0x43d827(217),_0x43d827(215),_0x43d827(220),_0x43d827(210),_0x43d827(193),"dialog_title",_0x43d827(183),_0x43d827(222),_0x43d827(198),_0x43d827(201),_0x43d827(192),"getPluginVerByURL",_0x43d827(226),_0x43d827(213),_0x43d827(185),_0x43d827(186),"../../../utils",_0x43d827(211),_0x43d827(216),_0x43d827(206),_0x43d827(204)];!function(e,t){!function(t){for(var i=_0x4470;--t;)e[i(221)](e[i(199)]())}(++t)}(_0x4a22,124);var _0x1827=function(e,t){return _0x4a22[e-=277]},_0x2d65e3=_0x1827;_0x43d827(227);var __importDefault=this&&this[_0x2d65e3(290)]||function(e){return e&&e[_0x2d65e3(317)]?e:{default:e}};Object[_0x2d65e3(305)](exports,_0x2d65e3(317),{value:!0});const vue_1=__importDefault(require(_0x2d65e3(319))),plugin_1=__importDefault(require(_0x2d65e3(303))),utils_1=require(_0x2d65e3(298));exports.default=vue_1[_0x2d65e3(306)][_0x2d65e3(316)]({template:utils_1[_0x2d65e3(325)][_0x2d65e3(310)](__dirname,_0x2d65e3(286)),props:{service:{type:Object},action:{type:String,default:()=>_0x43d827(217)}},data(){var e=_0x43d827,t=_0x2d65e3;return{srv:this[e(229)],srvInfo:plugin_1[t(306)][t(307)](this.service[e(208)]),versionStr:"",upgradeStr:"",localVersion:"",remoteVersion:"",enableUpdate:!1,enableSwitch:!1,selected:""}},async created(){var e,t,i=_0x43d827,_=_0x2d65e3;this[i(219)]=plugin_1[_(306)][_(293)](this[_(324)][_(321)]),this[_(294)]=(null===(e=this.srvInfo)||void 0===e?void 0:e[_(326)])||utils_1[i(212)].tr("not_installed"),_(323)===this[_(299)]?(this[_(309)]=utils_1[_(308)].tr(_(322))+_(291)+this[_(280)],this[_(285)]=this[_(324)].package_version_desc):_(282)===this.action&&(this[_(309)]=_(295)+this[_(294)],this[_(285)]=(await utils_1[_(300)][_(315)](this[_(324)][_(288)],this[_(294)]))[_(302)]||"",""===this[_(285)]&&(null===(t=this[_(281)])||void 0===t?void 0:t[_(326)])&&(this[_(285)]=this[_(281)][_(297)]||"")),this[_(292)]=!1,this[_(318)]=1===utils_1[_(311)][_(279)](this[_(280)],this[_(294)])},methods:{handleClose(){var e=_0x43d827,t=_0x2d65e3;utils_1[t(313)][e(222)](t(304))},async handleSelectChange(e){var t=_0x43d827,i=_0x2d65e3;this[i(277)]=e[i(314)][t(228)],this[i(292)]=!(this[i(277)]===utils_1[i(308)].tr(i(312))||this[i(277)]===this[i(294)]),this[i(285)]=(await utils_1[t(216)][i(315)](this[i(324)][i(288)],this[i(277)]))[i(302)]},handleSwitch(){var e=_0x43d827,t=_0x2d65e3;this[t(301)](this[e(190)],t(282))},handleUpdate(){var e=_0x2d65e3;this[e(301)](this[e(280)],e(323))},async switchVersion(e,t){var i=_0x43d827,_=_0x2d65e3;if(0!==await utils_1[i(212)][_(284)](_(278),utils_1.csEditor.tr("update"===this[_(299)]?_(283):"switch_version_tips"),utils_1[_(308)].tr(_(287)),[utils_1[_(308)].tr("btn_ok"),utils_1[_(308)].tr(_(296))],0))return;let s=await utils_1[_(300)][_(315)](this[_(324)][_(288)],e);utils_1.csEvent[_(289)](_(320),s[_(321)],t),utils_1[_(313)][_(289)](_(304))}}});