var _0x1222=["csProtocol","service_component_name","versionStr","btn_ok","service","upgradeStr","srvInfo","csUtil","compareVersion","enableUpdate","target","remoteVersion","upgrade","service_id","csEvent","localVersion","new_ver","../../../utils","readFile","srv","../../core/plugin","use strict","getServicePluginInfo","select_version_please","dialog_title","selected","action","package_version_desc","package_download_url","extend","push","shift","default","__esModule","switch_version_tips","switch","info","not_installed","update"," : ","__importDefault","hide-verm","switchVersion","version","getPluginVerByURL","btn_cancel","defineProperty"];!function(t,e){!function(e){for(;--e;)t.push(t.shift())}(++e)}(_0x1222,302);var _0x6bff=function(t,e){return _0x1222[t-=322]},_0x11835b=_0x6bff,_0x3881=[_0x11835b(340),"getVersionDesc",_0x11835b(339),_0x11835b(347),_0x11835b(353),"value",_0x11835b(329),_0x11835b(368),_0x11835b(359),_0x11835b(338),_0x11835b(342),_0x11835b(356),_0x11835b(348),_0x11835b(341),"enableSwitch",_0x11835b(364),"../../../vue",_0x11835b(344),_0x11835b(355),"./version-manager.html",_0x11835b(360),"csFile",_0x11835b(366),_0x11835b(365),_0x11835b(343),_0x11835b(324),"ver : ",_0x11835b(352),_0x11835b(346),_0x11835b(354),_0x11835b(327),_0x11835b(362),"emit",_0x11835b(331),_0x11835b(336),_0x11835b(358),"service:switch-version",_0x11835b(328),_0x11835b(337),_0x11835b(349),_0x11835b(335),_0x11835b(322),_0x11835b(325),_0x11835b(326),_0x11835b(334),"csEditor",_0x11835b(363),_0x11835b(330)];!function(t,e){!function(e){for(var i=_0x6bff;--e;)t[i(332)](t[i(333)]())}(++e)}(_0x3881,113);var _0x9e71=function(t,e){return _0x3881[t-=423]},_0x18a710=_0x9e71;_0x11835b(323);var __importDefault=this&&this[_0x18a710(464)]||function(t){return t&&t.__esModule?t:{default:t}};Object[_0x18a710(466)](exports,_0x18a710(446),{value:!0});const vue_1=__importDefault(require(_0x18a710(470))),plugin_1=__importDefault(require(_0x18a710(447))),utils_1=require(_0x18a710(428));exports[_0x18a710(450)]=vue_1[_0x18a710(450)][_0x18a710(439)]({template:utils_1[_0x18a710(427)][_0x11835b(367)](__dirname,_0x18a710(425)),props:{service:{type:Object},action:{type:String,default:()=>_0x18a710(444)}},data(){var t=_0x11835b,e=_0x18a710;return{srv:this[e(458)],srvInfo:plugin_1[t(334)][e(431)](this[e(458)][t(350)]),versionStr:"",upgradeStr:"",localVersion:"",remoteVersion:"",enableUpdate:!1,enableSwitch:!1,selected:""}},async created(){var t,e,i=_0x11835b,_=_0x18a710;this.remoteVersion=plugin_1[_(450)][_(434)](this[i(368)][_(453)]),this[i(364)]=(null===(t=this[_(424)])||void 0===t?void 0:t[i(345)])||utils_1[_(451)].tr(_(456)),i(340)===this[_(443)]?(this[i(351)]=utils_1[_(451)].tr(_(429))+_(467)+this[_(426)],this[i(354)]=this.srv[_(460)]):_(444)===this[_(443)]&&(this[i(351)]=_(432)+this[_(469)],this.upgradeStr=(await utils_1[_(445)][_(455)](this[_(461)][_(437)],this.localVersion))[i(329)]||"",""===this.upgradeStr&&(null===(e=this[_(424)])||void 0===e?void 0:e[i(345)])&&(this[i(354)]=this[_(424)][i(361)]||"")),this[_(468)]=!1,this[_(441)]=1===utils_1[_(465)][i(357)](this[_(426)],this[i(364)])},methods:{handleClose(){var t=_0x18a710;utils_1[t(452)][t(438)](t(430))},async handleSelectChange(t){var e=_0x11835b,i=_0x18a710;this[i(436)]=t[i(462)][i(459)],this.enableSwitch=!(this[i(436)]===utils_1[i(451)].tr(i(448))||this[i(436)]===this[i(469)]),this[i(435)]=(await utils_1[i(445)][i(455)](this[i(461)][e(362)],this[i(436)])).package_version_desc},handleSwitch(){var t=_0x11835b,e=_0x18a710;this.switchVersion(this[t(327)],e(444))},handleUpdate(){var t=_0x18a710;this[t(423)](this[t(426)],"update")},async switchVersion(t,e){var i=_0x11835b,_=_0x18a710;if(0!==await utils_1[_(451)].dialogMsgBox(_(463),utils_1[_(451)].tr(_(454)===this[_(443)]?"update_version_tips":_(440)),utils_1[_(451)].tr(_(449)),[utils_1[_(451)].tr(_(433)),utils_1[_(451)].tr(_(457))],0))return;let s=await utils_1[i(349)][_(455)](this[_(461)][_(437)],t);utils_1[_(452)][_(438)](_(442),s[i(330)],e),utils_1[_(452)][_(438)](_(430))}}});