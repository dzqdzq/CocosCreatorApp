var _0x3883=["createInnerHTML","style","beforeClose","default","closePopup","msg not exist!","electron","listeners","pluginName","defineProperty","use strict","attachShadow","popup","emit","eventNames","__importDefault","getServicePluginInfo","./plugin","contents","item","push","__esModule","../utils","title","./panel.css","open","canClose","getServicePlugin","container","find","./panel.html","shift","readFile","send","cocos-service:popup-show","plugin","csFile","close","ready","stringify"];!function(c,e){!function(e){for(;--e;)c.push(c.shift())}(++e)}(_0x3883,124);var _0x5c6a=function(c,e){return _0x3883[c-=277]},_0x19c321=_0x5c6a,_0x47cd=[_0x19c321(313),"csPlugin",_0x19c321(286),_0x19c321(281),_0x19c321(288),_0x19c321(291),_0x19c321(315),_0x19c321(294),"methods",_0x19c321(292),_0x19c321(278),_0x19c321(290),"template",_0x19c321(299),_0x19c321(312),_0x19c321(285),_0x19c321(284),_0x19c321(280),_0x19c321(303),_0x19c321(282),_0x19c321(287),_0x19c321(309),_0x19c321(279),_0x19c321(316),_0x19c321(305),_0x19c321(289),_0x19c321(295),"shadowRoot","csEvent",_0x19c321(300),_0x19c321(314),_0x19c321(297),"ipcRenderer",_0x19c321(308),_0x19c321(310),_0x19c321(296),"ready",_0x19c321(307),_0x19c321(298),"#container"];!function(c,e){!function(e){for(var _=_0x5c6a;--e;)c[_(293)](c[_(304)]())}(++e)}(_0x47cd,489);var _0x2609=function(c,e){return _0x47cd[c-=361]},_0x4cd79b=_0x2609;_0x19c321(283);var __importDefault=this&&this[_0x4cd79b(396)]||function(c){return c&&c[_0x19c321(294)]?c:{default:c}};Object[_0x4cd79b(371)](exports,_0x4cd79b(399),{value:!0}),exports[_0x4cd79b(386)]=exports[_0x4cd79b(398)]=exports[_0x4cd79b(400)]=exports[_0x4cd79b(369)]=exports[_0x4cd79b(388)]=exports.$=exports[_0x4cd79b(382)]=exports[_0x4cd79b(364)]=void 0;const electron_1=require(_0x4cd79b(374)),plugin_1=__importDefault(require(_0x4cd79b(363))),utils_1=require(_0x4cd79b(378));async function ready(c,e){var _,t=_0x19c321,x=_0x4cd79b;electron_1[x(384)][t(306)](x(389),{pluginName:c}),await plugin_1.default.loadPopup(c),this[x(395)]=c;let i=plugin_1[x(375)][x(377)](c),r=null===(_=null==i?void 0:i[x(397)])||void 0===_?void 0:_[x(367)];if(document[x(387)]=(null==r?void 0:r[t(296)])||c,this[x(385)]=plugin_1[t(316)][x(381)](c,x(367)),this[x(385)]){let _=this.$[t(301)];_[x(368)]({mode:x(390)}),_[x(379)]&&plugin_1[x(375)][x(392)](this[x(385)],_[x(379)],c,x(361)),this[x(385)][x(388)]&&await this[x(385)][t(311)](e)}}async function beforeClose(){var c,e=_0x4cd79b;return await(null===(c=this[e(385)])||void 0===c?void 0:c[e(365)]())}async function close(){var c=_0x19c321,e=_0x4cd79b;utils_1[e(393)][c(277)](this[e(395)])}exports[_0x4cd79b(364)]=utils_1[_0x4cd79b(373)][_0x4cd79b(376)](__dirname,_0x4cd79b(370)),exports[_0x4cd79b(382)]=utils_1[_0x4cd79b(373)][_0x4cd79b(376)](__dirname,_0x4cd79b(383)),exports.$={container:_0x4cd79b(391)},exports[_0x4cd79b(388)]=ready,exports[_0x19c321(280)]={},exports[_0x4cd79b(400)]={pluginMsg:async(c,e={})=>new Promise((_,t)=>{var x=_0x19c321,i=_0x4cd79b;if(void 0===utils_1[i(380)][i(372)]()[x(302)](e=>e===c))return t(new Error(i(362)));utils_1[i(380)][i(394)](c,e,(c,e)=>c?t(c instanceof Error?c:new Error(JSON[i(366)](c))):_(e))})},exports[_0x4cd79b(398)]=beforeClose,exports[_0x19c321(310)]=close;