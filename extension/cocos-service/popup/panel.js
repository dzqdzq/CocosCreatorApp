var _0x3dbb=["push","methods","beforeClose","shadowRoot","title","default","attachShadow","shift","plugin","csFile","__esModule","getServicePluginInfo","item","template","msg not exist!","find","electron","__importDefault","eventNames","style","csEvent","readFile","close","./panel.css","#container","ipcRenderer","container","pluginName","getServicePlugin","use strict","contents","emit","stringify","send","ready","./plugin","listeners","./panel.html"];!function(e,t){!function(t){for(;--t;)e.push(e.shift())}(++t)}(_0x3dbb,220);var _0x5677=function(e,t){return _0x3dbb[e-=197]},_0x49f5e8=_0x5677,_0x27f6=["open",_0x49f5e8(229),"../utils",_0x49f5e8(210),_0x49f5e8(215),_0x49f5e8(228),_0x49f5e8(200),_0x49f5e8(206),_0x49f5e8(232),_0x49f5e8(225),_0x49f5e8(211),_0x49f5e8(219),"cocos-service:popup-show",_0x49f5e8(221),_0x49f5e8(227),"csPlugin",_0x49f5e8(213),_0x49f5e8(209),_0x49f5e8(222),"defineProperty",_0x49f5e8(223),_0x49f5e8(217),"createInnerHTML","popup",_0x49f5e8(218),_0x49f5e8(230),_0x49f5e8(226),"canClose",_0x49f5e8(202),_0x49f5e8(207),_0x49f5e8(224),_0x49f5e8(203),_0x49f5e8(198),_0x49f5e8(208),_0x49f5e8(214),_0x49f5e8(199),_0x49f5e8(204),"ready"];!function(e,t){!function(t){for(var _=_0x5677;--t;)e[_(205)](e[_(212)]())}(++t)}(_0x27f6,358);var _0x49c2=function(e,t){return _0x27f6[e-=113]},_0x5e4c7e=_0x49c2;_0x49f5e8(234);var __importDefault=this&&this[_0x5e4c7e(115)]||function(e){return e&&e[_0x49f5e8(215)]?e:{default:e}};Object[_0x5e4c7e(116)](exports,_0x5e4c7e(139),{value:!0}),exports[_0x5e4c7e(149)]=exports[_0x5e4c7e(126)]=exports[_0x5e4c7e(142)]=exports[_0x5e4c7e(128)]=exports[_0x49f5e8(201)]=exports.$=exports[_0x5e4c7e(127)]=exports[_0x5e4c7e(121)]=void 0;const electron_1=require(_0x5e4c7e(148)),plugin_1=__importDefault(require(_0x5e4c7e(125))),utils_1=require(_0x5e4c7e(137));async function ready(e,t){var _,x=_0x49f5e8,r=_0x5e4c7e;electron_1[r(122)][r(141)](r(147),{pluginName:e}),await plugin_1[r(138)].loadPopup(e),this[x(232)]=e;let i=plugin_1[x(210)][x(216)](e),o=null===(_=null==i?void 0:i[x(197)])||void 0===_?void 0:_[r(120)];if(document[r(114)]=(null==o?void 0:o[r(114)])||e,this[x(213)]=plugin_1[r(138)][x(233)](e,r(120)),this[x(213)]){let _=this.$[x(231)];_[r(145)]({mode:r(135)}),_[r(130)]&&plugin_1[r(138)][r(119)](this[r(113)],_[r(130)],e,r(118)),this[r(113)].ready&&await this[r(113)][r(134)](t)}}async function beforeClose(){var e,t=_0x5e4c7e;return await(null===(e=this[t(113)])||void 0===e?void 0:e[t(124)]())}async function close(){var e=_0x5e4c7e;utils_1[e(150)].closePopup(this[e(143)])}exports[_0x5e4c7e(121)]=utils_1[_0x5e4c7e(131)][_0x5e4c7e(123)](__dirname,_0x5e4c7e(133)),exports.style=utils_1[_0x49f5e8(214)][_0x49f5e8(226)](__dirname,_0x5e4c7e(140)),exports.$={container:_0x5e4c7e(136)},exports[_0x5e4c7e(134)]=ready,exports[_0x5e4c7e(128)]={},exports[_0x5e4c7e(142)]={pluginMsg:async(e,t={})=>new Promise((_,x)=>{var r=_0x49f5e8,i=_0x5e4c7e;if(void 0===utils_1[i(144)][i(117)]()[r(220)](t=>t===e))return x(new Error(i(146)));utils_1[r(225)][i(129)](e,t,(e,t)=>e?x(e instanceof Error?e:new Error(JSON[i(132)](e))):_(t))})},exports[_0x5e4c7e(126)]=beforeClose,exports[_0x49f5e8(227)]=close;