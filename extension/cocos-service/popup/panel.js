var _0x3d19=["close","#container","csPlugin","./panel.css","contents","style","find","loadPopup","container","item","pluginName","use strict","cocos-service:popup-show","electron","push","eventNames","default","plugin","shift","__esModule","csFile","readFile","canClose","methods","title","popup","closePopup","getServicePluginInfo","csEvent","beforeClose","./plugin","ready","defineProperty","stringify","listeners","ipcRenderer"];!function(e,a){!function(a){for(;--a;)e.push(e.shift())}(++a)}(_0x3d19,437);var _0x5d20=function(e,a){return _0x3d19[e-=484]},_0xc5ea1a=_0x5d20,_0x26c6=[_0xc5ea1a(515),_0xc5ea1a(517),"msg not exist!",_0xc5ea1a(507),_0xc5ea1a(512),"listeners","createInnerHTML",_0xc5ea1a(488),"shadowRoot","./panel.html",_0xc5ea1a(505),_0xc5ea1a(511),_0xc5ea1a(495),_0xc5ea1a(491),"send",_0xc5ea1a(503),_0xc5ea1a(501),_0xc5ea1a(509),_0xc5ea1a(496),_0xc5ea1a(489),"popup",_0xc5ea1a(510),"template",_0xc5ea1a(492),"getServicePlugin","../utils",_0xc5ea1a(500),_0xc5ea1a(486),_0xc5ea1a(518),_0xc5ea1a(502),_0xc5ea1a(499),"attachShadow",_0xc5ea1a(484),"__importDefault",_0xc5ea1a(514),_0xc5ea1a(485),_0xc5ea1a(508),_0xc5ea1a(498)];!function(e,a){!function(a){for(var t=_0x5d20;--a;)e[t(493)](e[t(497)]())}(++a)}(_0x26c6,242);var _0x448d=function(e,a){return _0x26c6[e-=395]},_0x1b8a6f=_0x448d;_0xc5ea1a(490);var __importDefault=this&&this[_0x1b8a6f(414)]||function(e){return e&&e[_0xc5ea1a(498)]?e:{default:e}};Object[_0x1b8a6f(430)](exports,_0x1b8a6f(418),{value:!0}),exports[_0x1b8a6f(419)]=exports[_0x1b8a6f(417)]=exports[_0xc5ea1a(502)]=exports[_0xc5ea1a(513)]=exports[_0x1b8a6f(402)]=exports.$=exports[_0x1b8a6f(413)]=exports[_0x1b8a6f(403)]=void 0;const electron_1=require(_0x1b8a6f(404)),plugin_1=__importDefault(require(_0x1b8a6f(398))),utils_1=require(_0x1b8a6f(406));async function ready(e,a){var t,_=_0xc5ea1a,x=_0x1b8a6f;electron_1[x(415)][x(395)](x(432),{pluginName:e}),await plugin_1[x(431)][x(408)](e),this[_(489)]=e;let i=plugin_1[_(495)][_(506)](e),o=null===(t=null==i?void 0:i[_(519)])||void 0===t?void 0:t[x(401)];if(document.title=(null==o?void 0:o[x(396)])||e,this[x(399)]=plugin_1[_(495)][x(405)](e,_(504)),this[x(399)]){let t=this.$[_(487)];t[x(412)]({mode:"open"}),t[x(427)]&&plugin_1[x(431)][x(425)](this[x(399)],t[x(427)],e,x(426)),this[x(399)][x(402)]&&await this[x(399)][_(510)](a)}}async function beforeClose(){var e,a=_0xc5ea1a,t=_0x1b8a6f;return await(null===(e=this[a(496)])||void 0===e?void 0:e[t(397)]())}async function close(){var e=_0x1b8a6f;utils_1[e(420)][e(429)](this[e(400)])}exports[_0x1b8a6f(403)]=utils_1[_0xc5ea1a(499)][_0x1b8a6f(407)](__dirname,_0x1b8a6f(428)),exports[_0x1b8a6f(413)]=utils_1[_0x1b8a6f(411)][_0x1b8a6f(407)](__dirname,_0x1b8a6f(409)),exports.$={container:_0xc5ea1a(516)},exports[_0x1b8a6f(402)]=ready,exports[_0x1b8a6f(424)]={},exports[_0x1b8a6f(410)]={pluginMsg:async(e,a={})=>new Promise((t,_)=>{var x=_0xc5ea1a,i=_0x1b8a6f;if(void 0===utils_1[i(422)][x(494)]()[i(416)](a=>a===e))return _(new Error(i(421)));utils_1[i(422)].emit(e,a,(e,a)=>e?_(e instanceof Error?e:new Error(JSON[i(423)](e))):t(a))})},exports[_0x1b8a6f(417)]=beforeClose,exports[_0x1b8a6f(419)]=close;