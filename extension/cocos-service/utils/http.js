const _0x3591=["pipe","post","response","fs-extra","paramEncode","complete","length","content-length","statusMessage","downloading","TLSv1_method","use strict","push","createWriteStream","error","__esModule","__importDefault","ALL","sort","test","Url is invalid!"];!function(e,t){!function(t){for(;--t;)e.push(e.shift())}(++t)}(_0x3591,499);const _0x34b9=function(e,t){return _0x3591[e-=388]},_0x4ddef4=_0x34b9,_0x3e5c=["string","keys",_0x4ddef4(406),_0x4ddef4(400),"boolean","headers","statusCode",_0x4ddef4(408),_0x4ddef4(394),_0x4ddef4(402),_0x4ddef4(401),"GET",_0x4ddef4(393),_0x4ddef4(390),_0x4ddef4(399),_0x4ddef4(396),_0x4ddef4(391),"default",_0x4ddef4(395),_0x4ddef4(397),_0x4ddef4(398),_0x4ddef4(392),_0x4ddef4(407),_0x4ddef4(403),"defineProperty","data","get",_0x4ddef4(389)];!function(e,t){!function(t){const n=_0x34b9;for(;--t;)e[n(405)](e.shift())}(++t)}(_0x3e5c,393);const _0x3050=function(e,t){return _0x3e5c[e-=135]},_0x5095ab=_0x3050;_0x4ddef4(404);var __importDefault=this&&this[_0x4ddef4(388)]||function(e){return e&&e[_0x3050(141)]?e:{default:e}};Object[_0x5095ab(158)](exports,_0x4ddef4(408),{value:!0});const fs_extra_1=require(_0x5095ab(149)),request_1=__importDefault(require("request")),agentOptions={ciphers:_0x5095ab(161),secureProtocol:_0x5095ab(157)};exports[_0x5095ab(151)]={post:function(e,t){return new Promise((n,o)=>{const r=_0x3050;request_1[r(151)][r(142)]({url:e,json:!0,form:t,agentOptions:agentOptions},(e,t,s)=>{const _=r;try{e||200!==t[_(140)]?o({status:t[_(140)],msg:e}):n(s)}catch(e){}})})},get:function(e,t){return new Promise((n,o)=>{const r=_0x3050;request_1[r(151)][r(160)]({url:e,json:!0,form:t,agentOptions:agentOptions},(e,t,s)=>{const _=r;try{e||200!==t.statusCode?o({status:t[_(140)],msg:e}):n(s)}catch(e){}})})},download:function(e,t,n){const o=_0x5095ab;if(!/^(https?|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/[o(150)](e))return n&&n(new Error(o(155)),null);let r=0,s=0,_=0,d=request_1[o(151)]({method:o(145),uri:e,agentOptions:agentOptions}),f=fs_extra_1[o(136)](t);d[o(146)](f),d.on(o(152),e=>{const t=o;if(200!==e[t(140)])return n&&n(new Error(e[t(144)]),null);r=parseInt(e[t(139)][t(137)],10)}),d.on(o(159),e=>{const t=o;var d=(s+=e[t(148)])/r*100|0;_!==d&&(_=d,n&&n(null,{status:t(143),progress:_}))}),d.on(o(154),(e,t)=>n&&n(null,{status:o(154),progress:_})),d.on(o(156),e=>n&&n(e,null))},objectSortByKey:function(e){const t=_0x5095ab;let n={},o=Object[t(135)](e)[t(147)]();for(let t of o)n[t]=e[t];return n},paramEncode:function(e,t="",n=!1){const o=_0x5095ab;let r="";if(null==e)return r;let s=typeof e;if(o(162)===s||"number"===s||o(138)===s)r+="&"+t+"="+(n?encodeURIComponent(e):e);else for(var _ in e){var d=""===t?_:t+(e instanceof Array?"["+_+"]":"."+_);r+=this[o(153)](e[_],d,n)}return r}};