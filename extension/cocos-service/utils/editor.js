"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const path_1=require("path");exports.default={plugin:"cocos-service",isLogin:async function(){return await Editor.User.isLoggedIn()},getUserData:async function(){return Editor.User.getData()},getLang:function(){return Editor.I18n.getLanguage()},getCreatorVersion:function(){return Editor.App.version},getPackageInfo:function(t){return Editor.Package.getPackages({name:t}).find(t=>t.enable)||null},getServiceVersion:function(){let t=this.getPackageInfo(this.plugin);return null===t?"":t.version},readGlobalProfile:async function(t){return await Editor.Profile.getConfig(this.plugin,t,"global")},writeGlobalProfile:async function(t,e){return await Editor.Profile.setConfig(this.plugin,t,e,"global")},readProjectProfile:async function(t){return await Editor.Profile.getProject(this.plugin,t)},writeProjectProfile:async function(t,e){return await Editor.Profile.setProject(this.plugin,t,e)},pluginDevMode:async function(){return await this.readGlobalProfile(`${this.plugin}.dev`)||!1},getCreatorHomePath:function(){return Editor.App.home},getServiceHomePath:function(){return`${Editor.App.home}/.service`},getProjectInfo:function(){return{uuid:Editor.Project.uuid,name:path_1.basename(Editor.Project.path),path:Editor.Project.path,type:Editor.Project.type,tmpDir:Editor.Project.tmpDir}},getProjectPath:function(){return this.getProjectInfo().path},getProjectID:function(){return this.getProjectInfo().uuid},getProjectName:function(){return this.getProjectInfo().name},getPreviewRoot:function(){return path_1.join(this.getProjectInfo().tmpDir,"cs-scripts")},tr:function(t,e){return Editor.I18n.t(`${this.plugin}.${t}`,e)},registerI18n:function(t,e,r){Editor.I18n.register(t,`${this.plugin}.$plugins.${e}`,r)},isWin32:function(){return"win32"===process.platform},isMac:function(){return"darwin"===process.platform},dialogSelect:async function(t={}){return(await Editor.Dialog.select(t)).filePaths},dialogSave:async function(t={}){return(await Editor.Dialog.save(t)).filePath},dialogMsgBox:async function(t,e,r,i,n){let o={title:r,buttons:i,default:n};return"error"===t?(await Editor.Dialog.error(e,o)).response:"info"===t?(await Editor.Dialog.info(e,o)).response:"warn"===t?(await Editor.Dialog.warn(e,o)).response:new Promise((t,e)=>t(-1))},broadcastMsg(t,...e){Editor.Message.broadcast(t,...e)},sendMsg(t,e,...r){Editor.Message.send(t,e,...r)},requestMsg:(t,e,...r)=>Editor.Message.request(t,e,...r)};