const _0x5cdd=["../common-lib/update-toolbar","instance","getNewMsgCount","updateNewMsgCount","__esModule","bind","timer","setUp","__importDefault","getInstance","./service","default","updateToolbar","defineProperty"];!function(e,t){!function(t){for(;--t;)e.push(e.shift())}(++t)}(_0x5cdd,323);const _0x259f=function(e,t){return _0x5cdd[e-=233]},_0x1eb8fb=_0x259f;var __importDefault=this&&this[_0x1eb8fb(240)]||function(e){return e&&e[_0x1eb8fb(236)]?e:{default:e}};Object[_0x1eb8fb(245)](exports,"__esModule",{value:!0});const service_1=__importDefault(require(_0x1eb8fb(242))),update_toolbar_1=require(_0x1eb8fb(246));class NewMsgCountTimer{constructor(){const e=_0x1eb8fb;this[e(238)]=null,this[e(235)]=this[e(235)][e(237)](this)}static[_0x1eb8fb(241)](){const e=_0x1eb8fb;return NewMsgCountTimer[e(233)]||(NewMsgCountTimer.instance=new NewMsgCountTimer),NewMsgCountTimer[e(233)]}[_0x1eb8fb(239)](){const e=_0x1eb8fb;this[e(238)]||(this[e(235)](),this[e(238)]=setInterval(this.updateNewMsgCount,3e5))}cleanUp(){const e=_0x1eb8fb;this[e(238)]&&(clearInterval(this[e(238)]),this[e(238)]=null)}async[_0x1eb8fb(235)](){const e=_0x1eb8fb,t=await service_1[e(243)].getInstance();update_toolbar_1[e(244)]({newMsgCount:await t[e(234)]()})}}exports[_0x1eb8fb(243)]=NewMsgCountTimer,NewMsgCountTimer.instance=null;