const _0x50ca=["setUp","updateToolbar","updateNewMsgCount","__importDefault","timer","../common-lib/update-toolbar","getInstance","getNewMsgCount","__esModule","instance","cleanUp","./service","defineProperty"];!function(t,e){!function(e){for(;--e;)t.push(t.shift())}(++e)}(_0x50ca,230);const _0x53c0=function(t,e){return _0x50ca[t-=375]},_0x3f393d=_0x53c0;var __importDefault=this&&this[_0x3f393d(382)]||function(t){return t&&t[_0x3f393d(387)]?t:{default:t}};Object[_0x3f393d(378)](exports,_0x3f393d(387),{value:!0});const service_1=__importDefault(require(_0x3f393d(377))),update_toolbar_1=require(_0x3f393d(384));class NewMsgCountTimer{constructor(){const t=_0x3f393d;this[t(383)]=null,this.updateNewMsgCount=this[t(381)].bind(this)}static[_0x3f393d(385)](){const t=_0x3f393d;return NewMsgCountTimer.instance||(NewMsgCountTimer[t(375)]=new NewMsgCountTimer),NewMsgCountTimer[t(375)]}[_0x3f393d(379)](){const t=_0x3f393d;this[t(383)]||(this[t(381)](),this.timer=setInterval(this[t(381)],3e5))}[_0x3f393d(376)](){const t=_0x3f393d;this[t(383)]&&(clearInterval(this[t(383)]),this[t(383)]=null)}async[_0x3f393d(381)](){const t=_0x3f393d,e=await service_1.default.getInstance();update_toolbar_1[t(380)]({newMsgCount:await e[t(386)]()})}}exports.default=NewMsgCountTimer,NewMsgCountTimer[_0x3f393d(375)]=null;