const _0x1ce2=["instance","__importDefault","default","updateToolbar","__esModule","cleanUp","updateNewMsgCount","timer","./service","getInstance","defineProperty","setUp"];!function(e,t){!function(t){for(;--t;)e.push(e.shift())}(++t)}(_0x1ce2,284);const _0xca67=function(e,t){return _0x1ce2[e-=176]},_0x4be60a=_0xca67;var __importDefault=this&&this[_0x4be60a(181)]||function(e){return e&&e[_0x4be60a(184)]?e:{default:e}};Object[_0x4be60a(178)](exports,"__esModule",{value:!0});const service_1=__importDefault(require(_0x4be60a(176))),update_toolbar_1=require("../common-lib/update-toolbar");class NewMsgCountTimer{constructor(){const e=_0x4be60a;this[e(187)]=null,this[e(186)]=this.updateNewMsgCount.bind(this)}static getInstance(){const e=_0x4be60a;return NewMsgCountTimer.instance||(NewMsgCountTimer[e(180)]=new NewMsgCountTimer),NewMsgCountTimer[e(180)]}[_0x4be60a(179)](){const e=_0x4be60a;this[e(187)]||(this[e(186)](),this[e(187)]=setInterval(this[e(186)],3e5))}[_0x4be60a(185)](){const e=_0x4be60a;this[e(187)]&&(clearInterval(this[e(187)]),this[e(187)]=null)}async updateNewMsgCount(){const e=_0x4be60a,t=await service_1[e(182)][e(177)]();update_toolbar_1[e(183)]({newMsgCount:await t.getNewMsgCount()})}}exports[_0x4be60a(182)]=NewMsgCountTimer,NewMsgCountTimer[_0x4be60a(180)]=null;