const _0x2179=["__esModule","updateNewMsgCount","instance","getInstance","./service","defineProperty","default","__importDefault","timer","setUp","getNewMsgCount","updateToolbar"];!function(e,t){!function(t){for(;--t;)e.push(e.shift())}(++t)}(_0x2179,237);const _0x2ae2=function(e,t){return _0x2179[e-=142]},_0x4eb707=_0x2ae2;var __importDefault=this&&this[_0x4eb707(152)]||function(e){return e&&e[_0x4eb707(145)]?e:{default:e}};Object[_0x4eb707(150)](exports,_0x4eb707(145),{value:!0});const service_1=__importDefault(require(_0x4eb707(149))),update_toolbar_1=require("../common-lib/update-toolbar");class NewMsgCountTimer{constructor(){const e=_0x4eb707;this[e(153)]=null,this[e(146)]=this[e(146)].bind(this)}static[_0x4eb707(148)](){const e=_0x4eb707;return NewMsgCountTimer.instance||(NewMsgCountTimer[e(147)]=new NewMsgCountTimer),NewMsgCountTimer[e(147)]}[_0x4eb707(142)](){const e=_0x4eb707;this[e(153)]||(this.updateNewMsgCount(),this[e(153)]=setInterval(this[e(146)],3e5))}cleanUp(){const e=_0x4eb707;this.timer&&(clearInterval(this[e(153)]),this[e(153)]=null)}async[_0x4eb707(146)](){const e=_0x4eb707,t=await service_1[e(151)][e(148)]();update_toolbar_1[e(144)]({newMsgCount:await t[e(143)]()})}}exports[_0x4eb707(151)]=NewMsgCountTimer,NewMsgCountTimer.instance=null;