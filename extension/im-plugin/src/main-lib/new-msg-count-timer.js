const _0x1776=["./service","instance","updateToolbar","bind","default","getInstance","cleanUp","setUp","../common-lib/update-toolbar","__importDefault","getNewMsgCount","updateNewMsgCount","timer","__esModule","defineProperty"];!function(e,t){!function(t){for(;--t;)e.push(e.shift())}(++t)}(_0x1776,378);const _0x3dea=function(e,t){return _0x1776[e-=331]},_0x11eeb0=_0x3dea;var __importDefault=this&&this[_0x11eeb0(337)]||function(e){return e&&e[_0x11eeb0(341)]?e:{default:e}};Object[_0x11eeb0(342)](exports,"__esModule",{value:!0});const service_1=__importDefault(require(_0x11eeb0(343))),update_toolbar_1=require(_0x11eeb0(336));class NewMsgCountTimer{constructor(){const e=_0x11eeb0;this[e(340)]=null,this[e(339)]=this[e(339)][e(331)](this)}static[_0x11eeb0(333)](){const e=_0x11eeb0;return NewMsgCountTimer[e(344)]||(NewMsgCountTimer[e(344)]=new NewMsgCountTimer),NewMsgCountTimer[e(344)]}[_0x11eeb0(335)](){const e=_0x11eeb0;this[e(340)]||(this[e(339)](),this[e(340)]=setInterval(this.updateNewMsgCount,3e5))}[_0x11eeb0(334)](){const e=_0x11eeb0;this.timer&&(clearInterval(this[e(340)]),this[e(340)]=null)}async[_0x11eeb0(339)](){const e=_0x11eeb0,t=await service_1[e(332)][e(333)]();update_toolbar_1[e(345)]({newMsgCount:await t[e(338)]()})}}exports[_0x11eeb0(332)]=NewMsgCountTimer,NewMsgCountTimer.instance=null;