const _0xa0ba=["App","statusCode","join","__esModule","1026","path","defineProperty","info","postData","status","default","./node_modules","request","encodeParams","post","&fc81d0f39ca8157f9fb6324912aa2cf3573a5a41","push","assign","../common-lib/translate","info-title","session-expired","../common-lib/dialog","getLanguage","__importDefault","version","paths","ALL","md5"];!function(t,e){!function(e){for(;--e;)t.push(t.shift())}(++e)}(_0xa0ba,111);const _0x3359=function(t,e){return _0xa0ba[t-=263]},_0x5c91c9=_0x3359;var __importDefault=this&&this[_0x5c91c9(287)]||function(t){return t&&t[_0x5c91c9(267)]?t:{default:t}};Object[_0x5c91c9(270)](exports,_0x5c91c9(267),{value:!0}),exports[_0x5c91c9(272)]=exports[_0x5c91c9(277)]=void 0;const path_1=__importDefault(require(_0x5c91c9(269))),request_1=__importDefault(require(_0x5c91c9(276)));module[_0x5c91c9(289)][_0x5c91c9(280)](path_1[_0x5c91c9(274)][_0x5c91c9(266)](Editor.App[_0x5c91c9(269)],_0x5c91c9(275)));const md5_1=__importDefault(require(_0x5c91c9(263))),query_string_1=__importDefault(require("query-string")),translate_1=require(_0x5c91c9(282)),dialog_1=require(_0x5c91c9(285));let sessionExpiredWarnShown=!1;function encodeParams(t){const e=_0x5c91c9,r=function(t){const e=_0x3359,r={plugin_id:e(268),lang:Editor.I18n[e(286)](),client_type:1,version:Editor[e(264)][e(288)],cc_version:Editor[e(264)][e(288)],cs_require:"3x"};return Object[e(281)]({},t,r)}(t),c=query_string_1[e(274)].stringify(r);return r.sign=function(t){const r=e;return md5_1[r(274)](t+r(279))}(c),r}function postData(t,e){return new Promise((r,c)=>{const n=_0x3359;try{request_1[n(274)][n(278)]({url:t,json:!0,form:e,agentOptions:{ciphers:n(290)}},(t,e,o)=>{const s=n;t||200!==e[s(265)]?c(t?{err:t}:{res:e,body:o}):(o.status&&(0===o[s(273)]?sessionExpiredWarnShown=!1:406===o[s(273)]&&(sessionExpiredWarnShown||(dialog_1[s(271)](translate_1.tr(s(284)),{title:translate_1.tr(s(283))}),sessionExpiredWarnShown=!0))),r(o))})}catch(t){c({err:t})}})}exports[_0x5c91c9(277)]=encodeParams,exports[_0x5c91c9(272)]=postData;