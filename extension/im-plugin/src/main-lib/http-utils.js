const _0x215a=["__importDefault","assign","../common-lib/dialog","I18n","path","ALL","App","statusCode","info","TLSv1_method","version","./node_modules","encodeParams","query-string","status","default","getLanguage","__esModule","stringify"];!function(t,e){!function(e){for(;--e;)t.push(t.shift())}(++e)}(_0x215a,294);const _0x5cc0=function(t,e){return _0x215a[t-=126]},_0x3f5263=_0x5cc0;var __importDefault=this&&this[_0x3f5263(136)]||function(t){return t&&t[_0x3f5263(134)]?t:{default:t}};Object.defineProperty(exports,_0x3f5263(134),{value:!0}),exports.postData=exports[_0x3f5263(129)]=void 0;const path_1=__importDefault(require(_0x3f5263(140))),request_1=__importDefault(require("request"));module.paths.push(path_1[_0x3f5263(132)].join(Editor[_0x3f5263(142)].path,_0x3f5263(128)));const md5_1=__importDefault(require("md5")),query_string_1=__importDefault(require(_0x3f5263(130))),translate_1=require("../common-lib/translate"),dialog_1=require(_0x3f5263(138));let sessionExpiredWarnShown=!1;function encodeParams(t){const e=_0x3f5263,r=function(t){const e=_0x5cc0,r={plugin_id:"1026",lang:Editor[e(139)][e(133)](),client_type:1,version:Editor[e(142)][e(127)],cc_version:Editor[e(142)].version,cs_require:"3x"};return Object[e(137)]({},t,r)}(t),o=query_string_1[e(132)][e(135)](r);return r.sign=(s=o,md5_1[e(132)](s+"&fc81d0f39ca8157f9fb6324912aa2cf3573a5a41")),r;var s}function postData(t,e){return new Promise((r,o)=>{const s=_0x5cc0;try{request_1[s(132)].post({url:t,json:!0,form:e,agentOptions:{ciphers:s(141),secureProtocol:s(126)}},(t,e,n)=>{const i=s;t||200!==e[i(143)]?o(t?{err:t}:{res:e,body:n}):(n[i(131)]&&(0===n[i(131)]?sessionExpiredWarnShown=!1:406===n.status&&(sessionExpiredWarnShown||(dialog_1[i(144)](translate_1.tr("session-expired"),{title:translate_1.tr("info-title")}),sessionExpiredWarnShown=!0))),r(n))})}catch(t){o({err:t})}})}exports.encodeParams=encodeParams,exports.postData=postData;