const _0x28d9=["request","../common-lib/dialog","__importDefault","./node_modules","encodeParams","session-expired","version","push","sign","statusCode","md5","../common-lib/translate","ALL","__esModule","I18n","App","join","getLanguage","postData","post","status","1026","TLSv1_method","path","&fc81d0f39ca8157f9fb6324912aa2cf3573a5a41","defineProperty"];!function(t,e){!function(e){for(;--e;)t.push(t.shift())}(++e)}(_0x28d9,442);const _0x1062=function(t,e){return _0x28d9[t-=181]},_0x46b62c=_0x1062;var __importDefault=this&&this[_0x46b62c(183)]||function(t){return t&&t[_0x46b62c(194)]?t:{default:t}};Object[_0x46b62c(206)](exports,"__esModule",{value:!0}),exports[_0x46b62c(199)]=exports[_0x46b62c(185)]=void 0;const path_1=__importDefault(require(_0x46b62c(204))),request_1=__importDefault(require(_0x46b62c(181)));module.paths[_0x46b62c(188)](path_1.default[_0x46b62c(197)](Editor[_0x46b62c(196)][_0x46b62c(204)],_0x46b62c(184)));const md5_1=__importDefault(require(_0x46b62c(191))),query_string_1=__importDefault(require("query-string")),translate_1=require(_0x46b62c(192)),dialog_1=require(_0x46b62c(182));let sessionExpiredWarnShown=!1;function encodeParams(t){const e=_0x46b62c,r=function(t){const e=_0x1062,r={plugin_id:e(202),lang:Editor[e(195)][e(198)](),client_type:1,version:Editor.App[e(187)],cc_version:Editor[e(196)][e(187)],cs_require:"3x"};return Object.assign({},t,r)}(t),o=query_string_1.default.stringify(r);return r[e(189)]=function(t){const r=e;return md5_1.default(t+r(205))}(o),r}function postData(t,e){return new Promise((r,o)=>{const s=_0x1062;try{request_1.default[s(200)]({url:t,json:!0,form:e,agentOptions:{ciphers:s(193),secureProtocol:s(203)}},(t,e,n)=>{const i=s;t||200!==e[i(190)]?o(t?{err:t}:{res:e,body:n}):(n[i(201)]&&(0===n.status?sessionExpiredWarnShown=!1:406===n.status&&(sessionExpiredWarnShown||(dialog_1.info(translate_1.tr(i(186)),{title:translate_1.tr("info-title")}),sessionExpiredWarnShown=!0))),r(n))})}catch(t){o({err:t})}})}exports[_0x46b62c(185)]=encodeParams,exports[_0x46b62c(199)]=postData;