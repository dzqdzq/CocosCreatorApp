const _0x3c65=["paths","../common-lib/dialog","assign","encodeParams","./node_modules","md5","getLanguage","query-string","TLSv1_method","stringify","../common-lib/translate","status","1026","push","App","&fc81d0f39ca8157f9fb6324912aa2cf3573a5a41","defineProperty","info","post","default","postData","version","path","__esModule","info-title","ALL"];!function(t,e){!function(e){for(;--e;)t.push(t.shift())}(++e)}(_0x3c65,307);const _0x4d6e=function(t,e){return _0x3c65[t-=237]},_0x13db81=_0x4d6e;var __importDefault=this&&this.__importDefault||function(t){return t&&t[_0x4d6e(239)]?t:{default:t}};Object[_0x13db81(258)](exports,_0x13db81(239),{value:!0}),exports[_0x13db81(262)]=exports.encodeParams=void 0;const path_1=__importDefault(require("path")),request_1=__importDefault(require("request"));module[_0x13db81(242)][_0x13db81(255)](path_1[_0x13db81(261)].join(Editor[_0x13db81(256)][_0x13db81(238)],_0x13db81(246)));const md5_1=__importDefault(require(_0x13db81(247))),query_string_1=__importDefault(require(_0x13db81(249))),translate_1=require(_0x13db81(252)),dialog_1=require(_0x13db81(243));let sessionExpiredWarnShown=!1;function encodeParams(t){const e=_0x13db81,r=function(t){const e=_0x4d6e,r={plugin_id:e(254),lang:Editor.I18n[e(248)](),client_type:1,version:Editor[e(256)][e(237)],cc_version:Editor.App[e(237)],cs_require:"3x"};return Object[e(244)]({},t,r)}(t),o=query_string_1[e(261)][e(251)](r);return r.sign=function(t){const r=e;return md5_1[r(261)](t+r(257))}(o),r}function postData(t,e){return new Promise((r,o)=>{const n=_0x4d6e;try{request_1[n(261)][n(260)]({url:t,json:!0,form:e,agentOptions:{ciphers:n(241),secureProtocol:n(250)}},(t,e,s)=>{const i=n;t||200!==e.statusCode?o(t?{err:t}:{res:e,body:s}):(s.status&&(0===s[i(253)]?sessionExpiredWarnShown=!1:406===s.status&&(sessionExpiredWarnShown||(dialog_1[i(259)](translate_1.tr("session-expired"),{title:translate_1.tr(i(240))}),sessionExpiredWarnShown=!0))),r(s))})}catch(t){o({err:t})}})}exports[_0x13db81(245)]=encodeParams,exports[_0x13db81(262)]=postData;