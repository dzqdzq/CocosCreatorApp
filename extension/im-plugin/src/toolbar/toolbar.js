const _0x46f2=["-hide","innerText","./style-generator","-non-vip-btn-single-digit-msgs","contains","removeBroadcastListener","-vip-btn","remove","_onUpdateToolbar",":update-toolbar","call","close","join","addBroadcastListener","request","-msg-counter","send","template","-btn","addEventListener","openPanelBtn","add","title","toolbar","save-toolbar-info","style","ready","-toolbar","msgCounter","classList","methods","get-saved-toolbar-info","click","utf8","readFileSync","default","-non-vip-btn-double-digits-msgs","-non-vip-btn","show-panel","__importDefault","showToolbar","../constant/namespace","updateToolbar","buttonTitle","generateStyle","Message","setAttribute","isVip"];!function(e,t){!function(t){for(;--t;)e.push(e.shift())}(++t)}(_0x46f2,106);const _0x328f=function(e,t){return _0x46f2[e-=229]},_0x311d2e=_0x328f;var __importDefault=this&&this[_0x311d2e(258)]||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports[_0x311d2e(230)]=exports.ready=exports[_0x311d2e(249)]=exports.$=exports[_0x311d2e(244)]=exports[_0x311d2e(236)]=void 0;const fs_1=__importDefault(require("fs")),path_1=__importDefault(require("path")),style_generator_1=require(_0x311d2e(269)),namespace_1=require(_0x311d2e(260)),template=fs_1[_0x311d2e(254)][_0x311d2e(253)](path_1[_0x311d2e(254)][_0x311d2e(231)](__dirname,"./toolbar.html"),_0x311d2e(252));exports[_0x311d2e(236)]=template;const style=style_generator_1[_0x311d2e(263)]();exports[_0x311d2e(244)]=style;const selector={toolbar:"."+namespace_1.ns+_0x311d2e(246),openPanelBtn:"."+namespace_1.ns+_0x311d2e(237),msgCounter:"."+namespace_1.ns+_0x311d2e(234)};exports.$=selector;const methods={updateToolbar(e={}){const t=_0x311d2e;void 0!==e[t(259)]&&setElementVisibility(this.$[t(242)],e.showToolbar),void 0!==e.buttonTitle&&this.$.openPanelBtn[t(265)](t(241),e[t(262)]),void 0!==e[t(266)]&&(e[t(266)]?(this.$[t(239)].classList[t(274)](namespace_1.ns+"-non-vip-btn"),this.$[t(239)].classList[t(240)](namespace_1.ns+t(273))):(this.$[t(239)][t(248)][t(274)](namespace_1.ns+"-vip-btn"),this.$[t(239)][t(248)][t(240)](namespace_1.ns+t(256))));const s=e.newMsgCount;void 0!==s&&(this.$[t(242)][t(248)][t(274)](namespace_1.ns+t(270)),this.$[t(242)].classList[t(274)](namespace_1.ns+t(255)),0===s?(setElementVisibility(this.$[t(247)],!1),this.$[t(247)].innerText="0"):(setElementVisibility(this.$[t(247)],!0),this.$[t(247)][t(268)]=s>99?"99":s.toString(),e[t(266)]||(s>=10?this.$.toolbar.classList[t(240)](namespace_1.ns+"-non-vip-btn-double-digits-msgs"):this.$[t(242)][t(248)][t(240)](namespace_1.ns+"-non-vip-btn-single-digit-msgs"))));const n={showToolbar:getElementVisibility(this.$[t(242)]),isVip:this.$[t(239)][t(248)][t(271)](namespace_1.ns+t(273)),newMsgCount:parseInt(this.$[t(247)][t(268)])||0};Editor.Message[t(235)](namespace_1.ns,t(243),n)}};async function ready(){const e=_0x311d2e;this[e(275)]=(t=>{const s=e;methods[s(261)][s(229)](this,t)}),Editor[e(264)][e(232)](namespace_1.ns+e(276),this[e(275)]),this.$[e(239)][e(238)]("click",onClickShowPanel);const t=await Editor[e(264)][e(233)](namespace_1.ns,e(250));t&&this[e(275)](t)}function close(){const e=_0x311d2e;Editor[e(264)][e(272)](namespace_1.ns+e(276),this[e(275)]),this.$[e(239)].removeEventListener(e(251),onClickShowPanel)}function setElementVisibility(e,t){const s=_0x311d2e;t?e.classList[s(274)](namespace_1.ns+s(267)):e.classList[s(240)](namespace_1.ns+s(267))}function getElementVisibility(e){const t=_0x311d2e;return!e[t(248)][t(271)](namespace_1.ns+t(267))}function onClickShowPanel(){const e=_0x311d2e;Editor[e(264)][e(235)](namespace_1.ns,e(257))}exports[_0x311d2e(249)]=methods,exports[_0x311d2e(245)]=ready,exports[_0x311d2e(230)]=close;