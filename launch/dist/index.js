"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const electron_1=require("electron"),path_1=require("path"),_uncaughtExceptionFunc=(electron_1.app.disableDomainBlockingFor3DAPIs(),electron_1.app.commandLine.appendSwitch("ignore-gpu-blacklist"),electron_1.app.commandLine.appendSwitch("force_high_performance_gpu"),electron_1.app.allowRendererProcessReuse=!1,electron_1.app.commandLine.appendSwitch("enable-webgl2-compute-context"),"win32"===require("os").platform()&&electron_1.app.commandLine.appendSwitch("use-angle","OpenGL"),process.env.BROWSERSLIST_IGNORE_OLD_DATA=!0,e=>{global.Editor&&Editor.Metrics.trackException({code:-1,message:e.message}),process.send&&process.connected&&process.send({channel:"editor-error",message:e.message,stack:e.stack}),console.error(e)});process.on("uncaughtException",_uncaughtExceptionFunc),async function(){var e=require("@editor/creator");await e.init({env:{LAYOUT:(0,path_1.join)(__dirname,"./../../static/layout-native.json")}});const n=(0,path_1.join)(__dirname,"node_modules");await e.registerFindModulePath(e=>{switch(e[0]){case"@electron/remote":case"cc":e[1].splice(0,0,n)}return e});e=require("./launch").launch;await e()}();