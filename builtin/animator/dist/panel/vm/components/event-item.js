"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.methods=exports.components=exports.computed=exports.watch=exports.data=exports.props=exports.template=void 0;const defaultParams={string:"param",number:0,boolean:!1};function data(){return{isEmpty:!1}}function mounted(){}exports.template='\n<div @change="onConfirm" v-if="event">\n    <ui-section class="config" expand>\n        <div slot="header" class="header" :style="isEmpty ? {border: \'1px solid red\'} : {}" @click.stop>\n            <ui-input name="funcName" placeholder="please input function name"\n                :value="event.func"\n                :index="index"\n                @blur="updateFunName"\n                @change.stop="validateFunName"\n            ></ui-input>\n            <ui-button class="transparent icon del" \n                @mousedown="onMouseDown"\n                tooltip="i18n:animator.event.del_func" \n                name="delFunc"\n                :index="index"\n            >\n                <ui-icon value="del"></ui-icon>\n            </ui-button>\n        </div>\n        <div class="params">\n            <div class="line">\n                <ui-label value="i18n:animator.event.params"></ui-label>\n                <div>\n                    <ui-button \n                        class="transparent icon" \n                        tooltip="i18n:animator.event.add_params"\n                        name="addParams" \n                        :index="index"\n                        @mousedown="onMouseDown"\n                    >\n                        <ui-icon value="add"></ui-icon>\n                    </ui-button>\n                    <ui-button \n                        class="transparent icon" \n                        tooltip="i18n:animator.event.clear_params"\n                        name="clearParams" \n                        :index="index"\n                        @mousedown="onMouseDown"\n                    >\n                        <ui-icon value="clear"></ui-icon>\n                    </ui-button>\n                </div>\n            </div>\n            <div class="line" :key="paramIndex" v-for="(val, paramIndex) in event.params">\n                <span class="name">{{paramIndex + 1}}</span>\n                <ui-select :value="typeof(val)" name="changeParamType" \n                    :index="paramIndex"\n                >\n                    <option value="string">string</option>\n                    <option value="number">number</option>\n                    <option value="boolean">boolean</option>\n                </ui-select>\n                <ui-input v-if="typeof(val) === \'string\'"\n                    name="param"\n                    :value="val"\n                    :index="paramIndex"\n                ></ui-input>\n                <ui-num-input v-if="typeof(val) === \'number\'" \n                    name="param"\n                    :value="val"\n                    :index="paramIndex"\n                ></ui-num-input>\n                <ui-checkbox v-if="typeof(val) === \'boolean\'" \n                    name="param"\n                    :value="val"\n                    :index="paramIndex"\n                ></ui-checkbox>\n                <ui-button \n                    class="transparent icon operate" \n                    tooltip="i18n:animator.event.del_params"\n                    name="delParams" \n                    :index="paramIndex"\n                    @mousedown="onMouseDown"\n                >\n                    <ui-icon value="del"></ui-icon>\n                </ui-button>\n            </div>\n        </div>\n    </ui-section>\n</div>\n',exports.props=["event","index"],exports.data=data,exports.watch={},exports.computed={selectEvent(){return this.selectInfo?this.selectInfo.data:null}},exports.components={},exports.methods={onConfirm(n){const e=n.target.getAttribute("name");if(!e)return;const a=n.target.getAttribute("index"),t=n.target.value,i=this.event;let o;switch(e){case"changeParamType":(o=i.params).splice(a,1,defaultParams[t]);break;case"param":if((o=i.params)[a]===t)return;o.splice(a,1,t)}this.$emit("update",this.event,this.index)},async onMouseDown(n){const e=this,a=n.currentTarget.getAttribute("name"),t=n.currentTarget.getAttribute("index"),i=e.event;let o=!1;switch(a){case"delFunc":return void e.$emit("update",null,e.index);case"addParams":o=!0,i.params.push("param");break;case"delParams":o=!0,i.params.splice(t,1);break;case"clearParams":i.params.length&&(o=!0,i.params=[])}o&&e.$emit("update",e.event,e.index)},validateFunName(n){this.isEmpty=""===n.target.value},updateFunName(n){const e=this,a=n.target.value;if(!a)return e.$emit("showToast",Editor.I18n.t("animator.event.enter_func_name")),n.target.value=e.event.func,void(e.isEmpty=!1);a!==e.event.func&&e.$emit("update",Object.assign(e.event,{func:a}),e.index)}},exports.mounted=mounted;