"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.methods=exports.components=exports.computed=exports.watch=exports.data=exports.props=exports.template=void 0;const defaultParams={string:"param",number:0,boolean:!1};function data(){return{isEmpty:!1}}function mounted(){}exports.template='\n<div @change="onConfirm" v-if="event">\n    <ui-section class="config" expand>\n        <div slot="header" class="header" :style="isEmpty ? {border: \'1px solid red\'} : {}" @click.stop>\n            <ui-input name="funcName" placeholder="please input function name"\n                :value="event.func"\n                :index="index"\n                @blur="updateFunName"\n                @change.stop="validateFunName"\n            ></ui-input>\n            <span @mousedown="onMouseDown">\n                <ui-icon value="del"\n                    name="delFunc"\n                    tooltip="i18n:animator.event.del_func" \n                    :index="index"\n                ></ui-icon>\n            </span>\n        </div>\n        <div class="params">\n            <div class="line">\n                <span>params</span>\n                <span @mousedown="onMouseDown">\n                    <ui-icon value="add" \n                        name="addParams" \n                        tooltip="i18n:animator.event.add_params" \n                        :index="index"\n                    ></ui-icon>\n                    <ui-icon value="clear" \n                        name="clearParams" \n                        tooltip="i18n:animator.event.clear_params" \n                        :index="index"\n                    ></ui-icon>\n                </span>\n            </div>\n            <div class="line" :key="paramIndex" v-for="(val, paramIndex) in event.params">\n                <span class="name">{{paramIndex + 1}}</span>\n                <ui-select :value="typeof(val)" name="changeParamType" \n                    :index="paramIndex"\n                >\n                    <option value="string">string</option>\n                    <option value="number">number</option>\n                    <option value="boolean">boolean</option>\n                </ui-select>\n                <ui-input v-if="typeof(val) === \'string\'"\n                    name="param"\n                    :value="val"\n                    :index="paramIndex"\n                ></ui-input>\n                <ui-num-input v-if="typeof(val) === \'number\'" \n                    name="param"\n                    :value="val"\n                    :index="paramIndex"\n                ></ui-num-input>\n                <ui-checkbox v-if="typeof(val) === \'boolean\'" \n                    name="param"\n                    :value="val"\n                    :index="paramIndex"\n                ></ui-checkbox>\n                <span class="operate" @mousedown="onMouseDown">\n                    <ui-icon value="del"  \n                        name="delParams" \n                        tooltip="i18n:animator.event.del_params" \n                        :index="paramIndex"\n                    ></ui-icon>\n                </span>\n            </div>\n        </div>\n    </ui-section>\n</div>\n',exports.props=["event","index"],exports.data=data,exports.watch={},exports.computed={selectEvent(){return this.selectInfo?this.selectInfo.data:null}},exports.components={},exports.methods={onConfirm(e){const n=e.target.getAttribute("name");if(!n)return;const a=e.target.getAttribute("index"),t=e.target.value,i=this.event;let o;switch(n){case"changeParamType":(o=i.params).splice(a,1,defaultParams[t]);break;case"param":if((o=i.params)[a]===t)return;o.splice(a,1,t)}this.$emit("update",this.event,this.index)},async onMouseDown(e){const n=this,a=e.target.getAttribute("name"),t=e.target.getAttribute("index"),i=n.event;let o=!1;switch(a){case"delFunc":return void n.$emit("update",null,n.index);case"addParams":o=!0,i.params.push("param");break;case"delParams":o=!0,i.params.splice(t,1);break;case"clearParams":i.params.length&&(o=!0,i.params=[])}o&&n.$emit("update",n.event,n.index)},validateFunName(e){this.isEmpty=""===e.target.value},updateFunName(e){const n=this,a=e.target.value;if(!a)return n.$emit("showToast",Editor.I18n.t("animator.event.enter_func_name")),e.target.value=n.event.func,void(n.isEmpty=!1);a!==n.event.func&&n.$emit("update",Object.assign(n.event,{func:a}),n.index)}},exports.mounted=mounted;