"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.methods=exports.components=exports.computed=exports.watch=exports.data=exports.props=exports.template=void 0;const animation_ctrl_1=require("../../share/animation-ctrl"),animation_editor_1=require("../../share/animation-editor"),utils_1=require("../../utils");function data(){return{}}function mounted(){}exports.template='\n<div class="events" :style="\'transform: translateX(\' + offset + \'px)\'">\n    <template\n        v-if="events"\n        v-for="(info, index) in events"\n    >\n        <ui-icon value="event"\n            :style="queryKeyStyle(info.x)"\n            :index="index"\n            name="event"\n            @mousedown="onMouseDown($event, info)"\n            @click.right="onPopMenu($event, info.frame)"\n            @dblclick="openEventEditor(info.frame)"\n        ></ui-icon>\n    </template>\n    <template\n        v-if="selectEvent"\n        v-for="(info, index) in selectEvent"\n    >\n        <ui-icon value="event" class="preview"\n            name="event"\n            :style="queryKeyStyle(info.x)"\n        ></ui-icon>\n    </template>\n</div>\n',exports.props=["events","offset","selectInfo"],exports.data=data,exports.watch={},exports.computed={selectEvent(){return this.selectInfo?this.selectInfo.data:null}},exports.components={},exports.methods={t:(e,t="event.")=>Editor.I18n.t(`animator.${t}${e}`),display:e=>e>=0,onPopMenu(e,t){const n=this,o=[{label:n.t("edit",""),click(){n.openEventEditor(t)}},{label:n.t("delete",""),click(){animation_ctrl_1.animationCtrl.deleteEvent(n.selectEvent?n.selectEvent.map(e=>e.frame):[t])},accelerator:"Delete"},{label:n.t("copy",""),click(){animation_ctrl_1.animationCtrl.copyEvents(n.selectEvent?n.selectEvent.map(e=>e.frame):[t])},accelerator:"CmdOrCtrl+C"}];animation_ctrl_1.animationCtrl.copyEventInfo&&o.push({label:n.t("paste",""),click(){animation_ctrl_1.animationCtrl.pasteEvent(t)},accelerator:"CmdOrCtrl+V"}),Editor.Menu.popup({x:e.pageX,y:e.pageY,menu:o})},onMouseDown(e,t){const n=this;if(e.stopPropagation(),animation_editor_1.animationEditor.isLock)return;let o={};const a=JSON.parse(JSON.stringify(t));let i=n.selectInfo&&n.selectInfo.frames.indexOf(t.frame);const r=utils_1.checkCtrlOrCommand(e);r&&n.selectInfo?(o=JSON.parse(JSON.stringify(n.selectInfo)),-1!==i?(o.data.splice(i,1),o.frames.splice(i,1)):(o.data.push(a),o.frames.push(t.frame))):"number"!=typeof i||-1===i?o={startX:e.x,data:[a],offset:0,offsetFrame:0,frames:[t.frame]}:(n.selectInfo.startX=e.x,o=n.selectInfo),animation_editor_1.animationEditor.startDragEvent(o,r)},openEventEditor(e){animation_editor_1.animationEditor.openEventEditor(e)},queryKeyStyle:e=>`transform: translateX(${e-6|0}px);`},exports.mounted=mounted;