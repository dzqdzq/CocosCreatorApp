"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useCurveEditor=exports.generateOperateHandler=void 0;const vue_js_1=require("vue/dist/vue.js");function generateOperateHandler(e){return(...r)=>{var t;const u=r[0];null===(t=e[u])||void 0===t||t.apply(void 0,r)}}function useCurveEditor(e){const{size:r,configure:t}=e,u=(0,vue_js_1.ref)(!1),n=(0,vue_js_1.ref)(),s=(0,vue_js_1.ref)(!1);function v(){const e=(0,vue_js_1.unref)(n);if(!e)throw new Error("curve editor element is not ready");return e}const o=(e,t)=>{const u=(0,vue_js_1.unref)(n);u&&(void 0===e&&(e=(0,vue_js_1.unref)(r.width)),void 0===t&&(t=(0,vue_js_1.unref)(r.height)),u.resize(e,t))};return(0,vue_js_1.onMounted)(()=>{(0,vue_js_1.watchEffect)(()=>{const e=(0,vue_js_1.unref)(r.width),t=(0,vue_js_1.unref)(r.height);o(e,t)})}),{element:n,getElement:v,visible:u,show:()=>{u.value||(u.value=!0,(0,vue_js_1.nextTick)(()=>{if(!u.value)return;const e=v();s.value||(t(e),s.value=!0),o()}))},hide:()=>{u.value&&(u.value=!1)},resize:o,paint:e=>{const r=(0,vue_js_1.unref)(n);r&&r.curveCtrl.paint(e)}}}exports.generateOperateHandler=generateOperateHandler,exports.useCurveEditor=useCurveEditor;