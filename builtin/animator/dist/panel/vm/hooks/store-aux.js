"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useAuxCurveStore=void 0;const vue_js_1=require("vue/dist/vue.js"),pinia_1=require("pinia"),animation_editor_1=require("../../share/animation-editor");exports.useAuxCurveStore=(0,pinia_1.defineStore)("animator_aux_curve",()=>{const e=(0,vue_js_1.ref)(!1),u=(0,vue_js_1.ref)([]),r=(0,vue_js_1.ref)(null),a=(0,vue_js_1.ref)(""),l=(0,vue_js_1.ref)(),s=(0,vue_js_1.ref)(null),t=(0,vue_js_1.ref)({size:{w:0,h:0},height:0,top:0}),n=(0,vue_js_1.ref)([]),i=(0,vue_js_1.computed)(()=>{var e;return""==a.value?null:null!==(e=u.value.find(e=>e.displayName===a.value))&&void 0!==e?e:null}),v=(0,vue_js_1.computed)(()=>{const e=u.value,r={};for(const u of e)r[u.displayName]=u;return r});return{reset:()=>{u.value=[],r.value=null,a.value="",n.value=[],s.value=null},enabled:e,updateEnableState:async()=>{var u;const r=null!==(u=await Editor.Profile.getConfig("animator","enableAuxiliaryCurve"))&&void 0!==u&&u;e.value=r},curves:u,calcCurves:(e,r)=>{if(e.length<1)u.value=[];else{for(const u of e)(0,animation_editor_1.calcFrames)(u.keyframes,r,!1);u.value=e}},selectedCurve:i,selectedCurveName:a,selectedFrameDump:l,renaming:n,switchRename:(e,u)=>{const r=n.value,a=r.indexOf(e),l=a>-1;l||!1===u?l&&!0!==u&&r.splice(a,1):r.push(e)},copyKeyframeSnap:s,setCopyKeyframe:e=>{s.value=e},scrollInfo:t,selectKeyInfo:r,curveNameMap:v}});