"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useAuxCurveStore = void 0;
const vue_js_1 = require("vue/dist/vue.js");
const pinia_1 = require("pinia");
const animation_editor_1 = require("../../share/animation-editor");
exports.useAuxCurveStore = (0, pinia_1.defineStore)('animator_aux_curve', () => {
    const enabled = (0, vue_js_1.ref)(false);
    const curves = (0, vue_js_1.ref)([]);
    // const rawCurves = ref<IPropAuxCurveData[]>([]);
    const selectKeyInfo = (0, vue_js_1.ref)(null);
    const selectedCurveName = (0, vue_js_1.ref)('');
    // related to currentClip, currentFrame, selectedCurveName
    const selectedFrameDump = (0, vue_js_1.ref)();
    /**
     * FIXME: 临时处理方案，用于在 clip updates 时强制刷新 dump 数据的标识对象。
     * 后续应转为使用事件驱动，或者把 dump 的更新逻辑集成在 store 里
     */
    const selectedFrameDumpRenderKey = (0, vue_js_1.ref)({});
    const forceDumpUpdate = () => {
        selectedFrameDumpRenderKey.value = {};
    };
    const copyKeyframeSnap = (0, vue_js_1.ref)(null);
    const scrollInfo = (0, vue_js_1.ref)({
        size: {
            w: 0,
            h: 0,
        },
        height: 0,
        top: 0,
    });
    // 处于重命名状态的辅助曲线名称
    const renaming = (0, vue_js_1.ref)([]);
    const selectedCurve = (0, vue_js_1.computed)(() => {
        if (selectedCurveName.value == '') {
            return null;
        }
        return curves.value.find((curve) => curve.displayName === selectedCurveName.value) ?? null;
    });
    const curveNameMap = (0, vue_js_1.computed)(() => {
        const auxCurves = curves.value;
        // const currFrame = this.currentFrame;
        const keyframeMap = {};
        for (const dumpData of auxCurves) {
            keyframeMap[dumpData.displayName] = dumpData;
        }
        return keyframeMap;
    });
    const calcCurves = (dumpCurves, chartWidth) => {
        if (dumpCurves.length < 1) {
            curves.value = [];
            return;
        }
        // rawCurves.value = dumpCurves;
        for (const dumpCurve of dumpCurves) {
            // FIXME: `calcFrames` will mutate dumpCurve.keyframes[i].x
            (0, animation_editor_1.calcFrames)(dumpCurve.keyframes, chartWidth, false);
        }
        curves.value = dumpCurves;
    };
    const switchRename = (name, editing) => {
        const arr = renaming.value;
        const nameIndex = arr.indexOf(name);
        const isEditing = nameIndex > -1;
        if (!isEditing && editing !== false) {
            arr.push(name);
        }
        else if (isEditing && editing !== true) {
            arr.splice(nameIndex, 1);
        }
    };
    const updateEnableState = async () => {
        const _enabled = (await Editor.Profile.getConfig('animator', 'enableAuxiliaryCurve')) ?? false;
        enabled.value = _enabled;
    };
    const setCopyKeyframe = (snap) => {
        copyKeyframeSnap.value = snap;
    };
    const reset = () => {
        curves.value = [];
        selectKeyInfo.value = null;
        selectedCurveName.value = '';
        renaming.value = [];
        copyKeyframeSnap.value = null;
    };
    return {
        reset,
        enabled,
        updateEnableState,
        curves,
        calcCurves,
        selectedCurve,
        selectedCurveName,
        selectedFrameDump,
        selectedFrameDumpRenderKey,
        forceDumpUpdate: forceDumpUpdate,
        // curve renaming
        renaming,
        switchRename,
        // keyframe copy, paste
        copyKeyframeSnap: copyKeyframeSnap,
        setCopyKeyframe,
        scrollInfo,
        selectKeyInfo,
        curveNameMap: curveNameMap,
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUtYXV4LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc291cmNlL3BhbmVsL3ZtL2hvb2tzL3N0b3JlLWF1eC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw0Q0FBMEU7QUFDMUUsaUNBQW9DO0FBV3BDLG1FQUEyRTtBQUU5RCxRQUFBLGdCQUFnQixHQUFHLElBQUEsbUJBQVcsRUFBQyxvQkFBb0IsRUFBRSxHQUFHLEVBQUU7SUFDbkUsTUFBTSxPQUFPLEdBQUcsSUFBQSxZQUFHLEVBQUMsS0FBSyxDQUFDLENBQUM7SUFDM0IsTUFBTSxNQUFNLEdBQUcsSUFBQSxZQUFHLEVBQXNCLEVBQUUsQ0FBQyxDQUFDO0lBQzVDLGtEQUFrRDtJQUNsRCxNQUFNLGFBQWEsR0FBRyxJQUFBLFlBQUcsRUFBd0IsSUFBSSxDQUFDLENBQUM7SUFDdkQsTUFBTSxpQkFBaUIsR0FBRyxJQUFBLFlBQUcsRUFBQyxFQUFFLENBQUMsQ0FBQztJQUVsQywwREFBMEQ7SUFDMUQsTUFBTSxpQkFBaUIsR0FBRyxJQUFBLFlBQUcsR0FBTyxDQUFDO0lBQ3JDOzs7T0FHRztJQUNILE1BQU0sMEJBQTBCLEdBQUcsSUFBQSxZQUFHLEVBQVUsRUFBRSxDQUFDLENBQUM7SUFDcEQsTUFBTSxlQUFlLEdBQUcsR0FBRyxFQUFFO1FBQ3pCLDBCQUEwQixDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDMUMsQ0FBQyxDQUFDO0lBRUYsTUFBTSxnQkFBZ0IsR0FBRyxJQUFBLFlBQUcsRUFBNkIsSUFBSSxDQUFDLENBQUM7SUFFL0QsTUFBTSxVQUFVLEdBQUcsSUFBQSxZQUFHLEVBQUM7UUFDbkIsSUFBSSxFQUFFO1lBQ0YsQ0FBQyxFQUFFLENBQUM7WUFDSixDQUFDLEVBQUUsQ0FBQztTQUNQO1FBQ0QsTUFBTSxFQUFFLENBQUM7UUFDVCxHQUFHLEVBQUUsQ0FBQztLQUNULENBQUMsQ0FBQztJQUVILGlCQUFpQjtJQUNqQixNQUFNLFFBQVEsR0FB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QUM7SUFFRixPQUFPO1FBQ0gsS0FBSztRQUVMLE9BQU87UUFDUCxpQkFBaUI7UUFFakIsTUFBTTtRQUNOLFVBQVU7UUFFVixhQUFhO1FBQ2IsaUJBQWlCO1FBQ2pCLGlCQUFpQjtRQUNqQiwwQkFBMEI7UUFDMUIsZUFBZSxFQUFFLGVBQWU7UUFFaEMsaUJBQWlCO1FBQ2pCLFFBQVE7UUFDUixZQUFZO1FBRVosdUJBQXVCO1FBQ3ZCLGdCQUFnQixFQUFFLGdCQUFnQjtRQUNsQyxlQUFlO1FBRWYsVUFBVTtRQUNWLGFBQWE7UUFDYixZQUFZLEVBQUUsWUFBWTtLQUM3QixDQUFDO0FBQ04sQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVnVlLCB7IGNvbXB1dGVkLCByZWYsIHNoYWxsb3dSZWYsIG1hcmtSYXcgfSBmcm9tICd2dWUvZGlzdC92dWUuanMnO1xuaW1wb3J0IHsgZGVmaW5lU3RvcmUgfSBmcm9tICdwaW5pYSc7XG5cbmltcG9ydCB7XG4gICAgSVByb3BDdXJ2ZUR1bXBEYXRhLFxuICAgIElTZWxlY3RLZXlCYXNlLFxuICAgIElSYXdLZXlGcmFtZSxcbiAgICBJQ29weUF1eEtleVNuYXBzaG90LFxuICAgIElBbmltQ29weUF1eFNyYyxcbn0gZnJvbSAnLi4vLi4vLi4vLi4vQHR5cGVzL3ByaXZhdGUnO1xuaW1wb3J0IHsgSVByb3BBdXhDdXJ2ZURhdGEgfSBmcm9tICcuLi8uLi8uLi8uLi9AdHlwZXMvcHJpdmF0ZSc7XG5cbmltcG9ydCB7IGNhbGNGcmFtZXMsIGFuaW1hdGlvbkVkaXRvciB9IGZyb20gJy4uLy4uL3NoYXJlL2FuaW1hdGlvbi1lZGl0b3InO1xuXG5leHBvcnQgY29uc3QgdXNlQXV4Q3VydmVTdG9yZSA9IGRlZmluZVN0b3JlKCdhbmltYXRvcl9hdXhfY3VydmUnLCAoKSA9PiB7XG4gICAgY29uc3QgZW5hYmxlZCA9IHJlZihmYWxzZSk7XG4gICAgY29uc3QgY3VydmVzID0gcmVmPElQcm9wQXV4Q3VydmVEYXRhW10+KFtdKTtcbiAgICAvLyBjb25zdCByYXdDdXJ2ZXMgPSByZWY8SVByb3BBdXhDdXJ2ZURhdGFbXT4oW10pO1xuICAgIGNvbnN0IHNlbGVjdEtleUluZm8gPSByZWY8SVNlbGVjdEtleUJhc2UgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBzZWxlY3RlZEN1cnZlTmFtZSA9IHJlZignJyk7XG5cbiAgICAvLyByZWxhdGVkIHRvIGN1cnJlbnRDbGlwLCBjdXJyZW50RnJhbWUsIHNlbGVjdGVkQ3VydmVOYW1lXG4gICAgY29uc3Qgc2VsZWN0ZWRGcmFtZUR1bXAgPSByZWY8YW55PigpO1xuICAgIC8qKlxuICAgICAqIEZJWE1FOiDkuLTml7blpITnkIbmlrnmoYjvvIznlKjkuo7lnKggY2xpcCB1cGRhdGVzIOaXtuW8uuWItuWIt+aWsCBkdW1wIOaVsOaNrueahOagh+ivhuWvueixoeOAglxuICAgICAqIOWQjue7reW6lOi9rOS4uuS9v+eUqOS6i+S7tumpseWKqO+8jOaIluiAheaKiiBkdW1wIOeahOabtOaWsOmAu+i+kembhuaIkOWcqCBzdG9yZSDph4xcbiAgICAgKi9cbiAgICBjb25zdCBzZWxlY3RlZEZyYW1lRHVtcFJlbmRlcktleSA9IHJlZjx1bmtub3duPih7fSk7XG4gICAgY29uc3QgZm9yY2VEdW1wVXBkYXRlID0gKCkgPT4ge1xuICAgICAgICBzZWxlY3RlZEZyYW1lRHVtcFJlbmRlcktleS52YWx1ZSA9IHt9O1xuICAgIH07XG5cbiAgICBjb25zdCBjb3B5S2V5ZnJhbWVTbmFwID0gcmVmPElDb3B5QXV4S2V5U25hcHNob3QgfCBudWxsPihudWxsKTtcblxuICAgIGNvbnN0IHNjcm9sbEluZm8gPSByZWYoe1xuICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICB3OiAwLFxuICAgICAgICAgICAgaDogMCxcbiAgICAgICAgfSxcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgfSk7XG5cbiAgICAvLyDlpITkuo7ph43lkb3lkI3nirbmgIHnmoTovoXliqnmm7Lnur/lkI3np7BcbiAgICBjb25zdCByZW5hbWluZyA9IHJlZjxzdHJpbmdbXT4oW10pO1xuXG4gICAgY29uc3Qgc2VsZWN0ZWRDdXJ2ZSA9IGNvbXB1dGVkPElQcm9wQXV4Q3VydmVEYXRhIHwgbnVsbD4oKCkgPT4ge1xuICAgICAgICBpZiAoc2VsZWN0ZWRDdXJ2ZU5hbWUudmFsdWUgPT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJ2ZXMudmFsdWUuZmluZCgoY3VydmUpID0+IGN1cnZlLmRpc3BsYXlOYW1lID09PSBzZWxlY3RlZEN1cnZlTmFtZS52YWx1ZSkgPz8gbnVsbDtcbiAgICB9KTtcblxuICAgIGNvbnN0IGN1cnZlTmFtZU1hcCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgY29uc3QgYXV4Q3VydmVzID0gY3VydmVzLnZhbHVlO1xuICAgICAgICAvLyBjb25zdCBjdXJyRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICBjb25zdCBrZXlmcmFtZU1hcDogUmVjb3JkPHN0cmluZywgSVByb3BBdXhDdXJ2ZURhdGE+ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgZHVtcERhdGEgb2YgYXV4Q3VydmVzKSB7XG4gICAgICAgICAgICBrZXlmcmFtZU1hcFtkdW1wRGF0YS5kaXNwbGF5TmFtZV0gPSBkdW1wRGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBrZXlmcmFtZU1hcDtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNhbGNDdXJ2ZXMgPSAoZHVtcEN1cnZlczogSVByb3BBdXhDdXJ2ZURhdGFbXSwgY2hhcnRXaWR0aDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGlmIChkdW1wQ3VydmVzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIGN1cnZlcy52YWx1ZSA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmF3Q3VydmVzLnZhbHVlID0gZHVtcEN1cnZlcztcblxuICAgICAgICBmb3IgKGNvbnN0IGR1bXBDdXJ2ZSBvZiBkdW1wQ3VydmVzKSB7XG4gICAgICAgICAgICAvLyBGSVhNRTogYGNhbGNGcmFtZXNgIHdpbGwgbXV0YXRlIGR1bXBDdXJ2ZS5rZXlmcmFtZXNbaV0ueFxuICAgICAgICAgICAgY2FsY0ZyYW1lcyhkdW1wQ3VydmUua2V5ZnJhbWVzLCBjaGFydFdpZHRoLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJ2ZXMudmFsdWUgPSBkdW1wQ3VydmVzO1xuICAgIH07XG5cbiAgICBjb25zdCBzd2l0Y2hSZW5hbWUgPSAobmFtZTogc3RyaW5nLCBlZGl0aW5nPzogYm9vbGVhbikgPT4ge1xuICAgICAgICBjb25zdCBhcnIgPSByZW5hbWluZy52YWx1ZTtcbiAgICAgICAgY29uc3QgbmFtZUluZGV4ID0gYXJyLmluZGV4T2YobmFtZSk7XG4gICAgICAgIGNvbnN0IGlzRWRpdGluZyA9IG5hbWVJbmRleCA+IC0xO1xuXG4gICAgICAgIGlmICghaXNFZGl0aW5nICYmIGVkaXRpbmcgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBhcnIucHVzaChuYW1lKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0VkaXRpbmcgJiYgZWRpdGluZyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgYXJyLnNwbGljZShuYW1lSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVwZGF0ZUVuYWJsZVN0YXRlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBfZW5hYmxlZCA9IChhd2FpdCBFZGl0b3IuUHJvZmlsZS5nZXRDb25maWcoJ2FuaW1hdG9yJywgJ2VuYWJsZUF1eGlsaWFyeUN1cnZlJykpID8/IGZhbHNlO1xuICAgICAgICBlbmFibGVkLnZhbHVlID0gX2VuYWJsZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IHNldENvcHlLZXlmcmFtZSA9IChzbmFwOiBJQ29weUF1eEtleVNuYXBzaG90KSA9PiB7XG4gICAgICAgIGNvcHlLZXlmcmFtZVNuYXAudmFsdWUgPSBzbmFwO1xuICAgIH07XG5cbiAgICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICAgICAgY3VydmVzLnZhbHVlID0gW107XG4gICAgICAgIHNlbGVjdEtleUluZm8udmFsdWUgPSBudWxsO1xuICAgICAgICBzZWxlY3RlZEN1cnZlTmFtZS52YWx1ZSA9ICcnO1xuICAgICAgICByZW5hbWluZy52YWx1ZSA9IFtdO1xuICAgICAgICBjb3B5S2V5ZnJhbWVTbmFwLnZhbHVlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzZXQsXG5cbiAgICAgICAgZW5hYmxlZCxcbiAgICAgICAgdXBkYXRlRW5hYmxlU3RhdGUsXG5cbiAgICAgICAgY3VydmVzLFxuICAgICAgICBjYWxjQ3VydmVzLFxuXG4gICAgICAgIHNlbGVjdGVkQ3VydmUsXG4gICAgICAgIHNlbGVjdGVkQ3VydmVOYW1lLFxuICAgICAgICBzZWxlY3RlZEZyYW1lRHVtcCxcbiAgICAgICAgc2VsZWN0ZWRGcmFtZUR1bXBSZW5kZXJLZXksXG4gICAgICAgIGZvcmNlRHVtcFVwZGF0ZTogZm9yY2VEdW1wVXBkYXRlLFxuXG4gICAgICAgIC8vIGN1cnZlIHJlbmFtaW5nXG4gICAgICAgIHJlbmFtaW5nLFxuICAgICAgICBzd2l0Y2hSZW5hbWUsXG5cbiAgICAgICAgLy8ga2V5ZnJhbWUgY29weSwgcGFzdGVcbiAgICAgICAgY29weUtleWZyYW1lU25hcDogY29weUtleWZyYW1lU25hcCxcbiAgICAgICAgc2V0Q29weUtleWZyYW1lLFxuXG4gICAgICAgIHNjcm9sbEluZm8sXG4gICAgICAgIHNlbGVjdEtleUluZm8sXG4gICAgICAgIGN1cnZlTmFtZU1hcDogY3VydmVOYW1lTWFwLFxuICAgIH07XG59KTtcbmV4cG9ydCB0eXBlIEF1eEN1cnZlU3RvcmUgPSBSZXR1cm5UeXBlPHR5cGVvZiB1c2VBdXhDdXJ2ZVN0b3JlPjtcbiJdfQ==