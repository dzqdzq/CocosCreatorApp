"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.methods=void 0;const cc_1=require("cc"),util_1=require("util");function getAnimationComp(e,t){const n=cce.Node.query(e);if(!n)return console.debug(`can not get node from uuid ${e}`),null;if(t)return n.getComponent(t);for(const e of["cc.Animation","cc.SkeletalAnimation"]){const t=n.getComponent(e);if(t)return t}return null}exports.methods={async createAniCompFromAsset(e,t,n){if(!e||!t)return!1;n=n||"cc.Animation";const o=cce.Node.query(e);let r=o.getComponent(n);r||(r=o.addComponent(n));const c=await util_1.promisify(cc_1.assetManager.loadAny)(t);return r.defaultClip=c,Editor.Message.broadcast("scene:change-node",e),!0},async addClipFromAsset(e,t,n){if(!e||!t)return!1;const o=getAnimationComp(e,n);if(!o)return console.debug(`get animaton component from ${e} failed!`),!1;const r=await util_1.promisify(cc_1.assetManager.loadAny)(t);return o.defaultClip=r,Editor.Message.broadcast("scene:change-node",e),!0}};