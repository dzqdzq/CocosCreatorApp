"use strict";function fastRemove(e,t){const s=e.indexOf(t);s>=0&&(e[s]=e[e.length-1],--e.length)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncDelegate=exports.fastRemove=void 0,exports.fastRemove=fastRemove;class AsyncDelegate{constructor(){this._delegates=[]}add(e){this._delegates.includes(e)||this._delegates.push(e)}hasListener(e){return this._delegates.includes(e)}remove(e){fastRemove(this._delegates,e)}dispatch(...e){return Promise.all(this._delegates.map(e=>e(...arguments)).filter(Boolean))}}exports.AsyncDelegate=AsyncDelegate;