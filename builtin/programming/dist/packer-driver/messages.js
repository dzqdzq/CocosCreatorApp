"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,r,t,a){void 0===a&&(a=t),Object.defineProperty(e,a,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,a){void 0===a&&(a=t),e[a]=r[t]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&__createBinding(r,e,t);return __setModuleDefault(r,e),r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.messages=exports.initialize=void 0;const asserts_1=require("../utils/asserts");let packerDriver=null;async function initialize(){asserts_1.asserts(null===packerDriver);const{PackerDriver:e}=await Promise.resolve().then(()=>__importStar(require("./packer-driver")));packerDriver=await e.create()}exports.initialize=initialize,exports.messages={async"packer-driver/pull-asset-db"(){asserts_1.assertsNonNullable(packerDriver),await packerDriver.pullAssetDb()},async"packer-driver/get-loader-context"(e){var r;return asserts_1.assertsNonNullable(packerDriver),null===(r=packerDriver.getQuickPackLoaderContext(e))||void 0===r?void 0:r.serialize()},"packer-driver/ready":async e=>(asserts_1.assertsNonNullable(packerDriver),packerDriver.isReady(e))};