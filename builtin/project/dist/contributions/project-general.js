"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ready=exports.methods=exports.template=exports.$=exports.style=void 0;const fs_1=require("fs"),path_1=require("path"),Vue=require("vue/dist/vue");exports.style="\n.general > ui-prop { --left-width: 40%; }\n",exports.$={general:".general"},exports.template=fs_1.readFileSync(path_1.join(__dirname,"../../static/contributions/project-general.html"),"utf8");const component={data:{renderPipeline:null,renderPipelines:[]},methods:{async refresh(){this.renderPipeline=await Editor.Profile.getProject("project","general.renderPipeline");const e=await Editor.Package.getPackages({name:"asset-db",enable:!0});e&&e[0]||await new Promise(e=>{setTimeout(e,1e4)});const t=await Editor.Message.request("asset-db","query-assets",{pattern:"db://**/*.rpp"}),r=await Promise.all(t.map(e=>new Promise(t=>{Editor.Message.request("asset-db","query-asset-meta",e.uuid).then(t).catch(()=>{t(null)})})));this.renderPipelines=t.map((e,t)=>{const s=r[t];return{uuid:e.uuid,name:e.name,contributed:s&&s.userData&&s.userData.contributed?s.userData.contributed:""}})},_onRenderPipelineChanged(e){Editor.Profile.setProject("project","general.renderPipeline",e.target.value)}}};function ready(){component.el=this.$.general,new Vue(component).refresh()}exports.methods={},exports.ready=ready;