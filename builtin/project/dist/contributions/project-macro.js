"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.run=void 0;const path_1=require("path"),type2UI={string:"ui-input",number:"ui-num-input",boolean:"ui-checkbox"},ReadonlyKeyList=["SUPPORT_TEXTURE_FORMATS","KEY","RAD","DEG","FLT_EPSILON","ORIENTATION_PORTRAIT","ORIENTATION_LANDSCAPE","ORIENTATION_AUTO","REPEAT_FOREVER"];async function run(){const{macro:e}=require(path_1.join("../../../../../resources/3d/engine","bin/.cache/dev/cocos/core/platform/macro")),o={label:"Macro Config",content:{}},n={},t=Editor.Package.getPackages().find(e=>"project"===e.name);Object.keys(e).forEach(t=>{if(ReadonlyKeyList.includes(t))return;const i=e[t],r=typeof i;["string","number","boolean"].includes(r)&&(n[`macroConfig.${t}`]={label:t,default:i,description:t},o.content[`macroConfig.${t}`]={ui:type2UI[r]})}),t&&t.info.contributions&&(Object.assign(t.info.contributions.profile.project,n),t.info.contributions.project.macroConfig=o)}exports.run=run;