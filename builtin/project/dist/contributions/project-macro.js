"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.run=void 0;const path_1=require("path"),type2UI={string:"ui-input",number:"ui-num-input",boolean:"ui-checkbox"},ReadonlyKeyList=["SUPPORT_TEXTURE_FORMATS","KEY","RAD","DEG","FLT_EPSILON","ORIENTATION_PORTRAIT","ORIENTATION_LANDSCAPE","ORIENTATION_AUTO","REPEAT_FOREVER"];async function run(){const e=(await Editor.Message.request("engine","query-engine-info")).typescript,{macro:n}=require((0,path_1.join)(e.path,"bin/.cache/dev/cocos/core/platform/macro")),o={label:"Macro Config",content:{}},t={},i=Editor.Package.getPackages().find(e=>"project"===e.name);Object.keys(n).forEach(e=>{if(ReadonlyKeyList.includes(e))return;const i=n[e],r=typeof i;["string","number","boolean"].includes(r)&&(t[`macroConfig.${e}`]={label:e,default:i,description:e},o.content[`macroConfig.${e}`]={ui:type2UI[r]})}),i&&i.info.contributions&&(Object.assign(i.info.contributions.profile.project,t),i.info.contributions.project.macroConfig=o)}exports.run=run;