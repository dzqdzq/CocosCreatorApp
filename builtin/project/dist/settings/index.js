"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.beforeClose=exports.ready=exports.methods=exports.$=exports.template=exports.style=void 0;const fs_1=require("fs"),path_1=require("path"),Vue=require("vue/dist/vue.js");Vue.config.productionTip=!1,Vue.config.devtools=!1;let $vm,panel=null;async function ready(e,t){panel=this;const o=require("./components/home");o.el=panel.$.settings,$vm=new Vue(o),Editor.Package.getPackages({enable:!0}).forEach(panel.attach),Editor.Package.on("enable",panel.attach),e&&($vm.tab=e),t&&($vm.subTab=t)}async function beforeClose(){}async function close(){panel=this,Editor.Package.removeListener("enable",panel.attach)}exports.style=(0,fs_1.readFileSync)((0,path_1.join)(__dirname,"./index.css"),"utf8"),exports.template=(0,fs_1.readFileSync)((0,path_1.join)(__dirname,"../../static/settings/index.html"),"utf8"),exports.$={settings:".settings"},exports.methods={changeTab(e,t){e&&t&&($vm.tab=e,$vm.subTab=t)},refreshTab(e,t){panel=this;const o=$vm.tab,n=$vm.subTab;e===o&&t===n&&(panel.changeTab(-1,-1),setTimeout(()=>{panel.changeTab(o,n)},0))},attach(e){if(e.invalid)return;if(e.name,e.info,!e.info.contributions||!e.info.contributions.project)return;const t=e.info.contributions.project,o=e.info.contributions.profile;try{const n={title:e.info.title||e.name,tabs:{}};for(const s in t){$vm.tab||($vm.tab=e.name,$vm.subTab=s);const a=n.tabs[s]={label:t[s].label,content:{},custom:t[s].custom?(0,path_1.join)(e.path,t[s].custom):""};if(t[s].content)for(const e in t[s].content)a.content[e]={label:o&&o.project&&o.project[e].label||t[s].content[e].label||e,description:o&&o.project&&o.project[e].description||t[s].content[e].description,render:t[s].content[e]}}$vm.$set($vm.data,e.name,n)}catch(e){console.error(e),$vm.tab="",$vm.subTab=""}}},exports.ready=ready,exports.beforeClose=beforeClose,exports.close=close;