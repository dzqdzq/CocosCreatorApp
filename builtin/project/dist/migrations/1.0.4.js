"use strict";const{join:join}=require("path"),{outputJSONSync:outputJSONSync}=require("fs-extra");exports.migrateProject=async function(t){if(!t.physics||!t.physics.defaultMaterial||"string"==typeof t.physics.defaultMaterial)return;const i={__type__:"cc.PhysicMaterial",_name:"custom-physics-material",_objFlags:0,_native:"",_friction:.8,_rollingFriction:.1,_spinningFriction:.1,_restitution:.1};Object.keys(t.physics.defaultMaterial).forEach(e=>{i[`_${e}`]=t.physics.defaultMaterial[e]});const e={ver:"1.0.1",importer:"physics-material",imported:!1,uuid:Editor.Utils.UUID.generate(!1),files:[".json"]};let s=join(Editor.Project.path,"assets","custom-physics-material.pmtl");s=Editor.Utils.File.getName(s),outputJSONSync(s,i),outputJSONSync(s+".meta",e),t.physics.defaultMaterial=e.uuid};