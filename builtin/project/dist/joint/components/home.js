"use strict";async function mounted(){this.layouts=await Editor.Profile.getProject("project","custom_joint_texture_layouts")||[],this.joint=this.layouts[0]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.methods=exports.components=exports.computed=exports.watch=exports.data=void 0,exports.data={joint:null,layouts:[],info:"Valid on all devices",blocks:[],animation:0,size:0,pixels:0,doc:Editor.Utils.Url.getDocUrl("animation/joint-texture-layout.html")},exports.watch={layouts:{deep:!0,handler(){this.save()}},blocks(){const t=this;t.animation=0,t.size=0,t.pixels=0,t.blocks.forEach(e=>{t.pixels+=e.pixels}),t.size=12*Math.ceil(Math.sqrt(t.pixels)/12)},size(t){const e=this;e.joint.textureLength=t,e.info=t<1024?"Valid on all devices":t<2048?"May exceeds max texture size limit on devices with no float texture support":"May exceeds max texture size limit on many mobile devices"}},exports.computed={},exports.components={layout:require("./layout")},exports.methods={removeLayout(t){const e=this;e.layouts[t]===e.joint&&(e.joint=null),e.layouts.splice(t,1)},removeContent(t){this.joint.contents.splice(t,1)},addLayout(){this.layouts.push({textureLength:0,contents:[]})},addContent(){this.joint.contents.push({skeleton:"",clips:[]})},save(){const t=this;void 0===t._timer&&(t._timer=setTimeout(()=>{t._timer=void 0,Editor.Profile.setProject("project","custom_joint_texture_layouts",JSON.parse(JSON.stringify(t.layouts)))},400))}},exports.mounted=mounted;