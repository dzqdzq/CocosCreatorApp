"use strict";const{existsSync:existsSync,readFile:readFile}=require("fs-extra"),{join:join}=require("path"),{decodeCCONBinary:decodeCCONBinary}=require("cc/editor/serialization"),{deserialize:deserialize}=require("cc");exports.load=function(){},exports.unload=function(){},exports.methods={async queryAnimationState(e){const i=join(Editor.Project.path,"library",e.substr(0,2),e),r=i+".json",a=i+".cconb";if(existsSync(r)){const e=await readFile(r,"utf8"),i=deserialize(e);return{sample:i.sample,duration:i.duration,hash:i.hash}}if(existsSync(a)){const e=await readFile(a),i=decodeCCONBinary(e),r=deserialize(i);return{sample:r.sample,duration:r.duration,hash:r.hash}}return null}};