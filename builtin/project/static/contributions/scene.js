"use strict";const{existsSync,readFile}=require("fs-extra"),join=require("path")["join"],decodeCCONBinary=require("cc/editor/serialization")["decodeCCONBinary"],deserialize=require("cc")["deserialize"];exports.load=function(){},exports.unload=function(){},exports.methods={async queryAnimationState(e){const i=join(Editor.Project.path,"library",e.substr(0,2),e);var e=i+".json";return existsSync(e)?(e=await readFile(e,"utf8"),{sample:(e=deserialize(e)).sample,duration:e.duration,hash:e.hash}):(e=[".bin",".cconb"].find(e=>existsSync(i+e)))?(e=await readFile(i+e),e=decodeCCONBinary(e),{sample:(e=deserialize(e)).sample,duration:e.duration,hash:e.hash}):null}};