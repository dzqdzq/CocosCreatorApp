"use strict";const{join:join}=require("path"),{existsSync:existsSync,outputJSONSync:outputJSONSync}=require("fs-extra");exports.migrateGlobal=async function(e){const t=join(Editor.App.home,"profiles",Editor.App.version,"./packages"),i=join(t,"./preferences.json");if(existsSync(i))try{const t=require(i);t.native&&(t.native.wechatgame_app_path&&(e.wechat_devtools=t.native.wechatgame_app_path),t.native.android_sdk_root&&(e.android_sdk=t.native.android_sdk_root),t.native.android_ndk_root&&(e.android_ndk=t.native.android_ndk_root),t.native.bytedance_app_path&&(e.bytedance_devtools=t.native.bytedance_app_path)),t.edit&&(t.edit.script_editor&&(e.script_editor=t.edit.script_editor),t.edit.preview_browser&&(e.browser=t.edit.preview_browser))}catch(e){console.error(e)}};