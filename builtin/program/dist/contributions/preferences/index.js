"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.$=exports.template=exports.style=void 0,exports.ready=ready,exports.exportConfig=exportConfig,exports.importConfig=importConfig,exports.close=close;const fs_1=require("fs"),path_1=require("path"),program_1=require("./program"),Vue=require("vue/dist/vue.js"),vueTemplate=(Vue.config.productionTip=!1,(Vue.config.devtools=!1,fs_1.readFileSync)((0,path_1.join)(__dirname,"../../../static/template/index.html"),"utf8")),ProgramPreferenceVM=Vue.extend({name:"ProgramPreferenceVM",components:{program:program_1.ProgramComponent},data(){return{config:null}},async mounted(){var e=await Editor.Message.request("program","query-program-config");this.config=e},template:vueTemplate});async function ready(){var e=this;e.vm?.$destroy(),e.vm=new ProgramPreferenceVM,e.vm.$mount(e.$.container)}async function exportConfig(){var r={},e=await Editor.Message.request("program","query-program-config");for(const o in e)if(e[o].properties)for(const i in e[o].properties){let e="global";var t=await Editor.Message.request("preferences","query-config",o,i,"local");null!=t&&(e="local"),r[o+"."+i]={type:e,value:await Editor.Message.request("preferences","query-config",o,i)||{}}}return r}async function importConfig(e){var r=await Editor.Message.request("program","query-program-config");for(const t in r)if(r[t].properties)for(const o in r[t].properties)e[t+"."+o]&&e[t+"."+o].value&&await Editor.Message.request("preferences","set-config",t,o,e[t+"."+o].value,e[t+"."+o].type)}function close(){this.vm?.$destroy(),this.vm=null}exports.style=(0,fs_1.readFileSync)((0,path_1.join)(__dirname,"../../../dist/index.css"),"utf8"),exports.template='<div class="container"></div>',exports.$={container:".container"};