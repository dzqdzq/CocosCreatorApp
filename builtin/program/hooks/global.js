"use strict";const{join:join}=require("path"),{existsSync:existsSync,outputJSONSync:outputJSONSync}=require("fs-extra");exports.run=async function(){const o=join(Editor.App.home,"profiles",Editor.App.version,"./packages"),t=join(o,"./preferences.json");if(existsSync(t))try{const o=require(t);o.native&&(o.native.wechatgame_app_path&&await Editor.Profile.setConfig("program","wechat_devtools",o.native.wechatgame_app_path,"global"),o.native.android_sdk_root&&await Editor.Profile.setConfig("program","android_sdk",o.native.android_sdk_root,"global"),o.native.android_ndk_root&&await Editor.Profile.setConfig("program","android_ndk",o.native.android_ndk_root,"global"),o.native.bytedance_app_path&&await Editor.Profile.setConfig("program","bytedance_devtools",o.native.bytedance_app_path,"global")),o.edit&&(o.edit.script_editor&&await Editor.Profile.setConfig("program","script_editor",o.edit.script_editor,"global"),o.edit.preview_browser&&await Editor.Profile.setConfig("program","browser",o.edit.preview_browser,"global"))}catch(o){console.error(o)}};