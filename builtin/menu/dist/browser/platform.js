"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPlatform=exports.extension=exports.darwin=exports.win32=void 0;const ps=require("path"),fse=require("fs-extra"),i18n=require("@base/electron-i18n"),menu=require("@base/electron-menu"),windows=require("@base/electron-windows"),setting=require("@editor/setting"),project=require("@editor/project"),{app:app}=require("electron");function win32(){Editor.Menu.add("",{label:"Cocos Creator",order:-99}),Editor.Menu.add("",{label:"i18n:menu.file",order:-89}),Editor.Menu.add("",{label:"i18n:menu.edit",order:-79}),Editor.Menu.add("",{label:"i18n:menu.node",order:-69}),Editor.Menu.add("",{label:"i18n:menu.project",order:-59}),Editor.Menu.add("",{label:"i18n:menu.panel",order:-49}),Editor.Menu.add("",{label:"i18n:menu.extension",order:-29}),Editor.Menu.add("",{label:"i18n:menu.develop",order:-19}),Editor.Menu.add("",{label:"i18n:menu.help",role:"help",order:-9}),Editor.Menu.addGroup("Cocos Creator","about",0),Editor.Menu.addGroup("Cocos Creator","layout",1),Editor.Menu.addGroup("Cocos Creator","default",2),Editor.Menu.addGroup("Cocos Creator","display",3),Editor.Menu.addGroup("Cocos Creator","quit",99),Editor.Menu.add("Cocos Creator",{label:"i18n:menu.layout",group:"layout"}),Editor.Menu.add("Cocos Creator/i18n:menu.layout",{label:"i18n:menu.default_layout",click(){const e=require.resolve("@editor/creator/static/layout/default.json");Editor.Layout.apply(fse.readJSONSync(e))}}),Editor.Menu.add("Cocos Creator",{label:"i18n:menu.close",group:"quit",role:"close"}),file(),edit(),node(),develop(),help(),extension(),projectMenu(),Editor.Menu.apply()}function darwin(){Editor.Menu.add("",{label:"Cocos Creator",order:-99}),Editor.Menu.add("",{label:"i18n:menu.file",order:-89}),Editor.Menu.add("",{label:"i18n:menu.edit",order:-79}),Editor.Menu.add("",{label:"i18n:menu.node",order:-69}),Editor.Menu.add("",{label:"i18n:menu.project",order:-59}),Editor.Menu.add("",{label:"i18n:menu.panel",order:-49}),Editor.Menu.add("",{label:"i18n:menu.extension",order:-29}),Editor.Menu.add("",{label:"i18n:menu.develop",order:-19}),Editor.Menu.add("",{label:"i18n:menu.help",role:"help",order:-9}),Editor.Menu.addGroup("Cocos Creator","about",0),Editor.Menu.addGroup("Cocos Creator","layout",1),Editor.Menu.addGroup("Cocos Creator","default",2),Editor.Menu.addGroup("Cocos Creator","display",3),Editor.Menu.addGroup("Cocos Creator","quit",99),Editor.Menu.add("Cocos Creator",{label:"i18n:menu.layout",group:"layout"}),Editor.Menu.add("Cocos Creator/i18n:menu.layout",{label:"i18n:menu.default_layout",click(){const e=require.resolve("@editor/creator/static/layout/default.json");Editor.Layout.apply(fse.readJSONSync(e))}}),Editor.Menu.add("Cocos Creator",{label:"i18n:menu.hide",group:"display",role:"hide"}),Editor.Menu.add("Cocos Creator",{label:"i18n:menu.hide_other",group:"display",role:"hideOthers"}),Editor.Menu.add("Cocos Creator",{label:"i18n:menu.show_all",group:"display",role:"unhide"}),Editor.Menu.add("Cocos Creator",{label:"i18n:menu.close",group:"quit",role:"close"}),file(),edit(),node(),develop(),help(),extension(),projectMenu(),Editor.Menu.apply()}function file(){Editor.Menu.addGroup("i18n:menu.file","project",0),Editor.Menu.addGroup("i18n:menu.file","scene",1),Editor.Menu.addGroup("i18n:menu.file","default",99),Editor.Menu.add("i18n:menu.file",{label:"i18n:menu.new_project",group:"project",enabled:!!process.send,click(){Editor.Project.create()}}),Editor.Menu.add("i18n:menu.file",{label:"i18n:menu.open_project",group:"project",enabled:!!process.send,click(){Editor.Project.open()}})}function edit(){Editor.Menu.addGroup("i18n:menu.edit","undo",0),Editor.Menu.addGroup("i18n:menu.edit","edit",1),Editor.Menu.addGroup("i18n:menu.edit","default",99)}function node(){Editor.Menu.addGroup("i18n:menu.node","operation",0),Editor.Menu.addGroup("i18n:menu.node","default",1),Editor.Menu.addGroup("i18n:menu.node","create",99)}function projectMenu(){Editor.Menu.addGroup("i18n:menu.project","preview",0),Editor.Menu.addGroup("i18n:menu.project","setting",2),Editor.Menu.addGroup("i18n:menu.project","build",99)}function develop(){Editor.Menu.addGroup("i18n:menu.develop","engine",1),Editor.Menu.addGroup("i18n:menu.develop","tools",2),Editor.Menu.addGroup("i18n:menu.develop","default",98),Editor.Menu.addGroup("i18n:menu.develop","operation",99),Editor.Menu.add("i18n:menu.develop",{label:"i18n:menu.reload",group:"operaton",role:"reload"}),Editor.Menu.add("i18n:menu.develop",{label:"i18n:menu.toggle_devtools",group:"operation",role:"toggledevtools"}),setting.dev&&Editor.Menu.add("i18n:menu.develop",{label:"Devtron",group:"tools",click(){try{require("devtron").install()}catch(e){console.warn(e)}}})}function help(){Editor.Menu.addGroup("i18n:menu.help","doc",1),Editor.Menu.addGroup("i18n:menu.help","engine",2),Editor.Menu.addGroup("i18n:menu.help","user",99);const e=require("./manual");[{label:"i18n:menu.help_menu.docs",group:"doc",click(){e.openManual()}},{label:"i18n:menu.help_menu.api",group:"doc",click(){e.openAPI()}},{label:"i18n:menu.help_menu.forum",group:"doc",click(){e.openForum()}},{label:"i18n:menu.help_menu.release_notes",group:"engine",click(){e.openReleaseNotes()}},{label:"i18n:menu.help_menu.engine_repo",group:"engine",click(){e.openEngineRepo()}}].forEach(e=>{Editor.Menu.add("i18n:menu.help",e)})}function extension(){Editor.Menu.addGroup("i18n:menu.extension","management",-99),Editor.Menu.addGroup("i18n:menu.extension","help",-89),Editor.Menu.addGroup("i18n:menu.extension","default",0),Editor.Menu.addGroup("i18n:menu.extension","create",99)}function getPlatform(e){switch(e){case"win32":return win32;case"darwin":default:return darwin}}exports.win32=win32,exports.darwin=darwin,exports.extension=extension,exports.getPlatform=getPlatform;