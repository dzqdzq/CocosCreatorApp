"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.unload=exports.load=exports.methods=void 0;const ejs_1=__importDefault(require("ejs")),path_1=require("path"),metrics_1=__importDefault(require("./libs/metrics")),google_metrics_observer_v4_1=require("./observers/google-metrics-observer-v4");function load(){metrics_1.default.register(),metrics_1.default.sync()}function unload(){}exports.methods={async init(){await metrics_1.default.init()},trackEvent(e){metrics_1.default.trackEvent(e)},close(){metrics_1.default.close()},trackException(e){metrics_1.default.trackException(e)},trackProcessMemory(e){metrics_1.default.trackProcessMemory(e)},trackTimeStart(e){metrics_1.default.trackTimeStart()},trackTimeEnd(e){return metrics_1.default.trackTimeEnd(e)},trackProcessMemoryStart(e){metrics_1.default.trackProcessMemoryStart(e)},trackProcessMemoryEnd(e){return metrics_1.default.trackProcessMemoryEnd(e)},_trackEventWithTimer(e){metrics_1.default._trackEventWithTimer(e)},_sendEventGroup(){metrics_1.default._sendEventGroup()},async _trackCrashEvent(e){return metrics_1.default._trackCrashEvent(e)},async"query-google-v4-data"(){return{htmlUrl:await google_metrics_observer_v4_1.googleG4MetricsObserver.getHtmlUrl(),firstTimestamp:google_metrics_observer_v4_1.googleG4MetricsObserver.time,reportEvents:google_metrics_observer_v4_1.googleG4MetricsObserver.getReportEvents()}},async"query-google-metrics-v4-html"(){var e=google_metrics_observer_v4_1.GoogleG4MetricsObserver.googleG4ID,r=(0,path_1.join)(__dirname,"..","template","google-metrics-v4-report.ejs");return await ejs_1.default.renderFile(r,{googleG4ID:e})}},exports.load=load,exports.unload=unload;