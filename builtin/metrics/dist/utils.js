"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding(t,e,n);return __setModuleDefault(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMainDisplay=exports.valueInvalid=exports.formatBytes=exports.getClientID=void 0;const path_1=require("path");module.paths.push((0,path_1.join)(Editor.App.path,"node_modules"));const windows=__importStar(require("@base/electron-windows")),electron_1=require("electron"),md5=require("md5"),getmac=require("getmac");async function getClientID(){return new Promise(e=>{try{const t=getmac.default();return e(md5(t))}catch(t){console.debug(t);const n=require("os").networkInterfaces();for(const t in n){if(!t)continue;const r=n[t];for(let t=0;t<r.length;++t){const n=r[t];if(!n.internal&&n.mac)return e(md5(n.mac))}}return e(md5("00:00:00:00:00:00"))}})}function formatBytes(e,t=3){if(0===e)return"0 Bytes";const n=t<0?0:t,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}function valueInvalid(e){return void 0===e||null===e}function getMainDisplay(){const e=windows.uuids[0],t=windows.uuid2win[e];let n=null;if(t){const e=t.getBounds(),r=electron_1.screen.getAllDisplays();for(let t=0;t<r.length;t++){const i=r[t].bounds;if(e.x>i.x&&e.y>i.y&&e.x<i.x+i.width&&e.y<i.y+i.height){n=r[t];break}}if(!n)for(let t=0;t<r.length;t++){const i=r[t].bounds;if(e.x+e.width>i.x&&e.y>i.y&&e.x+e.width<i.x+i.width&&e.y<i.y+i.height){n=r[t];break}}}return n||(n=electron_1.screen.getPrimaryDisplay()),n}exports.getClientID=getClientID,exports.formatBytes=formatBytes,exports.valueInvalid=valueInvalid,exports.getMainDisplay=getMainDisplay;