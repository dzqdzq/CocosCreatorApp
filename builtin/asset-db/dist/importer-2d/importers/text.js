"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const asset_db_1=require("@editor/asset-db"),fs_extra_1=require("fs-extra"),path_1=require("path");class TextImporter extends asset_db_1.Importer{get version(){return"1.0.1"}get name(){return"text"}async validate(e){return".ts"!==e.extname||".d"===path_1.extname(e.basename)}async import(e){let t=!1;if(!await e.existsInLibrary(".json")){const r=await fs_extra_1.readFile(e.source,"utf8"),a=new cc.TextAsset;a.name=e.basename,a.text=r,await e.saveToLibrary(".json",EditorExtends.serialize(a)),t=!0}return t}}exports.default=TextImporter;