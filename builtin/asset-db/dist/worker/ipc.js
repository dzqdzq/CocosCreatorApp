"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ipcAddListener=exports.ipcSend=exports.setReady=void 0;let isReady=!0;const waitQueue=[];function waitReady(){if(!isReady)return new Promise(e=>{waitQueue.push(()=>{e()})})}function setReady(){for(isReady=!0;waitQueue.length>0;){waitQueue.shift()()}}function ipcSend(e,...t){Worker.Ipc.send(e,...t)}function ipcAddListener(e,t){Worker.Ipc.on(e,async(...e)=>(await waitReady(),await t(...e)))}exports.setReady=setReady,exports.ipcSend=ipcSend,exports.ipcAddListener=ipcAddListener;