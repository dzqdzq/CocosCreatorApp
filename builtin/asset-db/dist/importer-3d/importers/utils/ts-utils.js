"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCompilerOptions=void 0;const fs_1=__importDefault(require("fs")),path_1=__importDefault(require("path")),typescript_1=__importDefault(require("typescript"));function getCompilerOptions(){let t={};const e=_getTsConfigPath(),r=_tryReadTsConfig(e);if(r&&r.config){t=typescript_1.default.parseJsonConfigFileContent(r.config,{useCaseSensitiveFileNames:!0,readDirectory:(t,e,r,i,n)=>fs_1.default.readdirSync(t).filter(t=>!!e.includes(path_1.default.extname(t))),fileExists:t=>fs_1.default.existsSync(t),readFile(t){try{return fs_1.default.readFileSync(t).toString()}catch(t){return}}},path_1.default.dirname(e),void 0,path_1.default.basename(e)).options}return t}function _getProjectPath(){return path_1.default.dirname(Manager.AssetWorker.assets.options.target)}function _getTsConfigPath(){const t=_getProjectPath();return path_1.default.join(t,"tsconfig.json")}function _tryReadTsConfig(t){const e=typescript_1.default.readConfigFile(t,t=>fs_1.default.readFileSync(t).toString());return e.error?null:e}exports.getCompilerOptions=getCompilerOptions;