"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const gltf_1=__importDefault(require("./gltf")),fbx_to_gltf_1=require("./gltf/fbx-to-gltf"),fbx_converter_1=require("./utils/fbx-converter"),model_convert_routine_1=require("./utils/model-convert-routine");class FbxImporter extends gltf_1.default{get version(){return super.version}get name(){return"fbx"}async getGltfFilePath(e){var t;const r=e.userData;let o;if(r.legacyFbxImporter)o=await fbx_to_gltf_1.fbxToGlTf(e,this.assetDB,this.version);else{const i={};i.unitConversion=null===(t=r.fbx)||void 0===t?void 0:t.unitConversion;const n=fbx_converter_1.createFbxConverter(i),s=await model_convert_routine_1.modelConvertRoutine("fbx.FBX-glTF-conv",e,this.assetDB,this.version,n);if(!s)throw new Error(`Failed to import ${e.source}`);o=s}return r.meshOptimizer?await this.getOptimizerPath(e,o,r.meshOptimizerOptions||{}):o}}exports.default=FbxImporter;