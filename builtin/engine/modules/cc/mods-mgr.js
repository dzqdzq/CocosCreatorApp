"use strict";const{join:join}=require("path"),createModsMgr=(()=>{const e=require("path"),{pathToFileURL:n}=require("url"),{EmbeddedCommonJs:r}=require("@editor/lib-programming/dist/embedded-commonjs");return i=>{const o=e.join(i,"bin",".cache","dev","editor");console.time("Setup mods mgr.");const t=e.join(o,"import-map.json"),a=n(t).href,d=require(t),s=new r({importMap:d,importMapUrl:a}),m=require(e.join(o,"bundled","index.js"));return s.addNamedWrappers(m),console.timeEnd("Setup mods mgr."),s}})();let enginePath;if(!(enginePath=require("./location").get())){enginePath=require("@base/electron-base-ipc").sendSync("packages-engine:query-engine-info").path}console.debug(`Engine location: ${enginePath}`),module.exports=createModsMgr(enginePath);