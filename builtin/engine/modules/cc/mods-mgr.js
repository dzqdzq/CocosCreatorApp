"use strict";const{join:join}=require("path"),createModsMgr=(()=>{const e=require("path"),{pathToFileURL:n}=require("url"),{EmbeddedCommonJs:r}=require("@editor/lib-programming/dist/embedded-commonjs");return i=>{console.time("Setup mods mgr.");const o=e.join(i,"import-map.json"),t=n(o).href,a=require(o),s=new r({importMap:a,importMapUrl:t}),d=require(e.join(i,"bundled","index.js"));return s.addNamedWrappers(d),console.timeEnd("Setup mods mgr."),s}})();let enginePath;if(!(enginePath=require("./location").get())){const e=require("@base/electron-base-ipc").sendSync("packages-engine:query-engine-info");require("./location").set(e.path),enginePath=require("./location").get()}console.debug(`Engine location: ${enginePath}`),module.exports=createModsMgr(enginePath);