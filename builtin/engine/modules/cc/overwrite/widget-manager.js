"use strict";module.exports=function(t){const{Widget:e,UITransform:o,Label:i}=t,n=global.cc,s=1,r=2,c=4,g=8,l=16,a=32;e.prototype.setLockTop=function(t){this._setLock(s,t)},e.prototype.getLockTop=function(){return this._lockFlags&s},e.prototype.setLockBottom=function(t){this._setLock(c,t)},e.prototype.getLockBottom=function(){return this._lockFlags&c},e.prototype.setLockLeft=function(t){this._setLock(g,t)},e.prototype.getLockLeft=function(){return this._lockFlags&g},e.prototype.setLockRight=function(t){this._setLock(a,t)},e.prototype.getLockRight=function(){return this._lockFlags&a},e.prototype.setLockHorizontalCenter=function(t){this._setLock(l,t)},e.prototype.getLockHorizontalCenter=function(){return this._lockFlags&l},e.prototype.setLockVerticalCenter=function(t){this._setLock(r,t)},e.prototype.getLockVerticalCenter=function(){return this._lockFlags&r},e.prototype._setLock=function(t,e){e!==(this._lockFlags&t)>0&&(e?this._lockFlags|=t:this._lockFlags&=~t)},e.prototype._adjustWidgetToAllowMovingInEditor=function(t){if(!(t&n.internal.TransformBit.POSITION))return;if(n._widgetManager.isAligning)return;const e=this,o=e.node.getPosition(),i=this._lastPos,s=new n.Vec3(o);s.subtract(i);let r=e.node.parent;const c=new n.Vec3(1,1,1);if(e.target&&(r=e.target,n.internal.computeInverseTransForTarget(e.node,r,new n.Vec3,c)),!r)return;const g=n.internal.getReadonlyNodeSize(r),l=new n.Vec3;0!==g.width&&0!==g.height&&n.Vec3.set(l,s.x/g.width,s.y/g.height,l.z),e.isAlignTop&&!e.getLockTop()&&(e._top-=(e._isAbsTop?s.y:l.y)*c.y),e.isAlignBottom&&!e.getLockBottom()&&(e._bottom+=(e._isAbsBottom?s.y:l.y)*c.y),e.isAlignLeft&&!e.getLockLeft()&&(e._left+=(e._isAbsLeft?s.x:l.x)*c.x),e.isAlignRight&&!e.getLockRight()&&(e._right-=(e._isAbsRight?s.x:l.x)*c.x),e.isAlignHorizontalCenter&&!e.getLockHorizontalCenter()&&(e._horizontalCenter+=(e._isAbsHorizontalCenter?s.x:l.x)*c.x),e.isAlignVerticalCenter&&!e.getLockVerticalCenter()&&(e._verticalCenter+=(e._isAbsVerticalCenter?s.y:l.y)*c.y),this._recursiveDirty(),e.node.getPosition(e._lastPos)},e.prototype._adjustWidgetToAllowResizingInEditor=function(){if(n._widgetManager.isAligning)return;const t=this,e=t.node.getComponent(o);if(!e)return;const s=e.contentSize,r=this._lastSize,c=new n.Vec3(s.width-r.width,s.height-r.height,0);let g=t.node.parent;const l=new n.Vec3(1,1,1);if(t.target&&(g=t.target,n.internal.computeInverseTransForTarget(t.node,g,new n.Vec3,l)),!g)return;const a=n.internal.getReadonlyNodeSize(g),h=new n.Vec3;0!==a.width&&0!==a.height&&n.Vec3.set(h,c.x/a.width,c.y/a.height,h.z);const p=e.anchorPoint;t.isAlignTop&&!t.getLockTop()&&(t._top-=(t._isAbsTop?c.y:h.y)*(1-p.y)*l.y),t.isAlignBottom&&!t.getLockBottom()&&(t._bottom-=(t._isAbsBottom?c.y:h.y)*p.y*l.y),t.isAlignLeft&&!t.getLockLeft()&&(t._left-=(t._isAbsLeft?c.x:h.x)*p.x*l.x),t.isAlignRight&&!t.getLockRight()&&(t._right-=(t._isAbsRight?c.x:h.x)*(1-p.x)*l.x);const _=t.node.getComponent(i);_&&0===_.overflow&&t.isAlignRight&&t.isAlignLeft||this._recursiveDirty()}};