"use strict";const ipc=require("@base/electron-base-ipc"),fse=require("fs-extra"),ps=require("path");exports.style="\n:host {\n    padding: 0 4px;\n}\n.warning {\n    color: var(--color-warn-fill);\n    max-width: 600px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    cursor: default;\n}\n",exports.template=`\n<ui-label class="custom" value="i18n:engine.version"></ui-label>\n<span>${Editor.App.version}</span>\n<ui-label class="custom"></ui-label>\n<ui-label class="warning"></ui-label>\n`,exports.$={custom:".custom",message:".warning"},exports.ready=async function(){const e=await Editor.Message.request("engine","query-engine-info"),n=fse.readJSONSync(ps.join(e.typescript.path,"package.json"));"custom"===e.typescript.type&&(this.$.custom.innerHTML="(Custom)");let s="";n.version!==Editor.App.version&&this.$.message&&(s=Editor.I18n.t("engine.footer.version_warning",{engineVersion:Editor.I18n.t(`engine.footer.${"custom"===e.typescript.type?"custom":"internal"}`)}),this.$.message.setAttribute("tooltip",Editor.I18n.t("engine.footer.version_warning_tip")),this.$.message.addEventListener("click",()=>{Editor.Message.request("preferences","open-settings","engine")})),this.$.message.innerHTML=s};