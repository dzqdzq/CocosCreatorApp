"use strict";async function migrateProject(e){var i,s,e=e["modules"];e&&e.cache&&e.includeModules&&!e.configs&&(await Editor.Profile.getConfig("engine","physics-2d-box2d")&&(e.cache["physics-2d"]._option="physics-2d-box2d-wasm",-1!==(i=e.includeModules.findIndex(e=>"physics-2d-box2d"===e)))&&e.includeModules.splice(i,1,"physics-2d-box2d-wasm"),i={name:"zh"===Editor.I18n.getLanguage()?"迁移生成的配置":"Migrated Configuration",cache:e.cache,flags:null!=(i=e.flags)?i:{},includeModules:e.includeModules,noDeprecatedFeatures:e.noDeprecatedFeatures},e.includeModules.includes("2d")?(Object.assign(i.cache,{"rich-text":{_value:!0},mask:{_value:!0},graphics:{_value:!0},"affine-transform":{_value:!0}}),i.includeModules.push("rich-text","mask","graphics","affine-transform")):null!=(s=null==(s=i.cache)?void 0:s.graphics)&&s._value&&(i.cache.graphics._value=!1),i.includeModules.includes("spine")&&(i.cache.spine={_value:!0,_option:"spine-3.8"},s=i.includeModules.indexOf("spine"),i.includeModules.splice(s,1,"spine-3.8")),i.includeModules.includes("custom-pipeline")?(e.graphics={pipeline:"custom-pipeline"},i.includeModules.splice(i.includeModules.indexOf("custom-pipeline"),1),i.includeModules.includes("custom-pipeline-post-process")?(e.graphics["custom-pipeline-post-process"]=!0,i.includeModules.splice(i.includeModules.indexOf("custom-pipeline-post-process"),1)):e.graphics["custom-pipeline-post-process"]=!1):i.includeModules.includes("legacy-pipeline")&&(e.graphics={pipeline:"legacy-pipeline"},i.includeModules.splice(i.includeModules.indexOf("legacy-pipeline"),1)),e.configs={migrationsConfig:i},e.globalConfigKey="migrationsConfig",delete e.cache,delete e.flags,delete e.includeModules,delete e.noDeprecatedFeatures)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.migrateProject=void 0,exports.migrateProject=migrateProject;