"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.data=exports.watch=exports.methods=exports.template=exports.style=void 0;const fs_1=require("fs"),path_1=require("path");exports.style=fs_1.readFileSync(path_1.join(__dirname,"./style.css"),"utf8");const{mapSync:mapSync,split:split}=require("event-stream"),Hljs=require("highlight.js");function data(){return{info:null,code:""}}function mounted(){this.info=this.infos[0]}exports.template='\n<section class="asset-json">\n    <ui-code language="json" ref="code"\n        v-show="metas.length === 1"\n    >\n        {{code}}\n    </ui-code>\n</section>\n',exports.methods={refresh(){const e=this;if(!e.info||"json"!==e.info.importer)return;if(!e.$refs.code)return;const t=fs_1.createReadStream(e.info.file,{encoding:"utf-8"});let s=400,o="";const n=t.pipe(split()).pipe(mapSync(e=>{o+=e+"\n",--s<=0&&(o+="...\n",t.close(),n.push(null),n.end())})).on("close",t=>{if(t)throw t;e.code=o})}},exports.watch={info(){this.refresh()},infos(){this.info=this.infos[0]}},exports.data=data,exports.mounted=mounted;