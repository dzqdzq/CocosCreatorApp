"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,o,i){void 0===i&&(i=o),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,i){void 0===i&&(i=o),e[i]=t[o]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding(t,e,o);return __setModuleDefault(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerMacroConfig=void 0;const lodash=require("lodash"),type2UI={string:"ui-input",number:"ui-num-input",boolean:"ui-checkbox"},ReadonlyKeyList=["SUPPORT_TEXTURE_FORMATS","KEY","RAD","DEG","FLT_EPSILON","ORIENTATION_PORTRAIT","ORIENTATION_LANDSCAPE","ORIENTATION_AUTO","REPEAT_FOREVER"];async function registerMacroConfig(e){const{macro:t}=await Promise.resolve().then(()=>__importStar(require("cc/editor/macro"))),o=Editor.Package.getPackages({name:"engine"});if(o.length<=0)return;const i=o[0];if(!i.info.contributions)return;const n=i.info.contributions.project.macroConfig;n.content={};const r={},c={};Object.keys(t).forEach(e=>{if(ReadonlyKeyList.includes(e))return;const o=t[e],i=typeof o;["string","number","boolean"].includes(i)&&(r[`macroConfig.${e}`]={label:e,default:o,description:e},c[e]=o,n.content[`macroConfig.${e}`]={ui:type2UI[i]})}),await Editor.Profile.setProject("engine","macroConfig",c,"default"),i.info.contributions.profile.project||(i.info.contributions.profile.project={}),Object.assign(i.info.contributions.profile.project,r),i.info.contributions.project.macroConfig=n}exports.registerMacroConfig=registerMacroConfig;