"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerMacroConfig=void 0;const lodash=require("lodash"),type2UI={string:"ui-input",number:"ui-num-input",boolean:"ui-checkbox"},ReadonlyKeyList=["SUPPORT_TEXTURE_FORMATS","KEY","RAD","DEG","FLT_EPSILON","ORIENTATION_PORTRAIT","ORIENTATION_LANDSCAPE","ORIENTATION_AUTO","REPEAT_FOREVER"];async function registerMacroConfig(o){const{macro:e}=require("cc/mods-mgr").syncImport("cc/editor/exports/macro"),i={label:"Macro Config",content:{}},n={},t={},r=Editor.Package.getPackages({name:"engine"});if(Object.keys(e).forEach(o=>{if(ReadonlyKeyList.includes(o))return;const r=e[o],c=typeof r;["string","number","boolean"].includes(c)&&(n[`macroConfig.${o}`]={label:o,default:r,description:o},t[o]=r,i.content[`macroConfig.${o}`]={ui:type2UI[c]})}),r.length<=0)return;const c=r[0];c.info.contributions&&(await Editor.Profile.setProject("engine","macroConfig",t,"default"),c.info.contributions.profile.project||(c.info.contributions.profile.project={}),Object.assign(c.info.contributions.profile.project,n),c.info.contributions.project.macroConfig=i)}exports.registerMacroConfig=registerMacroConfig;