"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.beforeClose=exports.ready=exports.methods=exports.$=exports.template=exports.style=void 0;const fs_1=require("fs"),path_1=require("path"),Vue=require("vue/dist/vue.js");Vue.config.productionTip=!1,Vue.config.devtools=!1;let $vm,panel=null;async function ready(e){panel=this;const t=require("./components/home");t.el=panel.$.settings,$vm=new Vue(t),e&&($vm.tab=e),Editor.Package.getPackages({enable:!0}).forEach(panel.attach),Editor.Package.on("enable",panel.attach)}async function beforeClose(){}async function close(){panel=this,Editor.Package.removeListener("enable",panel.attach)}exports.style=fs_1.readFileSync(path_1.join(__dirname,"./index.css"),"utf8"),exports.template=fs_1.readFileSync(path_1.join(__dirname,"../../static/settings/index.html"),"utf8"),exports.$={settings:".settings"},exports.methods={changeTab(e){e&&($vm.tab=e)},attach(e){if(!e.invalid&&(e.name,e.info,e.info.contributions&&e.info.contributions.preferences&&e.info.contributions.profile))try{const t=e.info.contributions.preferences,o=e.info.contributions.profile,r={title:e.info.title||e.name,properties:null,custom:t.custom?path_1.join(e.path,t.custom):"",laboratory:t.laboratory?t.laboratory.map(t=>o.editor&&o.editor[t]?{path:t,label:o.editor[t].label,description:o.editor[t].description}:(console.warn(`The data is not defined.\n  package: ${e.name}\n  key: ${t}`),null)):null};for(let n in t.properties)o.editor&&o.editor[n]?(r.properties=r.properties||{},r.properties[n]={label:o.editor[n].label,description:o.editor[n].description,render:t.properties[n]}):console.warn(`The data is not defined.\n  package: ${e.name}\n  key: ${n}`);$vm.$set($vm.data,e.name,r)}catch(t){console.log(`${e.name}: register default preferences failed.`),console.error(t)}}},exports.ready=ready,exports.beforeClose=beforeClose,exports.close=close;