"use strict";async function mounted(){const e=this;await e.refreshPackagesConfigs(),e.preferencesPackagesChanged=(()=>{const t=e.tab;e.tab="",e.$nextTick(()=>{e.tab=t,e.refreshPackagesConfigs()})}),Editor.Message.__protected__.addBroadcastListener("preferences:packages-changed",e.preferencesPackagesChanged)}function beforeDestroy(){Editor.Message.__protected__.removeBroadcastListener("project:packages-changed",this.preferencesPackagesChanged)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.beforeDestroy=exports.mounted=exports.methods=exports.components=exports.computed=exports.watch=exports.data=void 0,exports.data={tab:"general",data:{},args:[]},exports.watch={tab(){this.handleCustomConfig()}},exports.computed={},exports.components={general:require("./general"),laboratory:require("./laboratory"),item:require("./item")},exports.methods={t:e=>e.startsWith("i18n:")?Editor.I18n.t(e.substr(5)):e,changeTab(e){this.tab=e},inform(e,t,a){t.message&&Editor.Message.send(e,t.message,t.path,a)},async refreshPackagesConfigs(){const e=this;e.data=await Editor.Message.request("preferences","query-preferences-configs"),e.data[e.tab]||"laboratory"===e.tab||(e.tab="general"),e.handleCustomConfig()},handleCustomConfig(){const e=this;if(e.data[e.tab]&&e.data[e.tab].custom){const t=Editor.Module.__protected__.requireFile(e.data[e.tab].custom),a=document.createElement("ui-panel"),r={};t&&(Object.keys(t).forEach(e=>{r[e]=t[e]}),t.ready&&(r.ready=(()=>(a.ready=!0,t.ready.call(a.panelObject,...e.args))))),a.config=r,e.$nextTick(()=>{const t=e.$refs[e.tab];t&&(t.innerHTML="",t.appendChild(a))})}}},exports.mounted=mounted,exports.beforeDestroy=beforeDestroy;