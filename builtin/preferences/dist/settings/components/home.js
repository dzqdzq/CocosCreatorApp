"use strict";async function mounted(){await this.refreshPackagesData(),this.handleCustomConfig(),Editor.Message.addBroadcastListener("preferences:packages-changed",this.refreshPackagesData)}function beforeDestroy(){Editor.Message.removeBroadcastListener("project:packages-changed",this.refreshPackagesData)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.beforeDestroy=exports.mounted=exports.methods=exports.components=exports.computed=exports.watch=exports.data=void 0,exports.data={tab:"general",data:{},args:[]},exports.watch={tab(){this.handleCustomConfig()}},exports.computed={},exports.components={general:require("./general"),laboratory:require("./laboratory"),item:require("./item")},exports.methods={t:e=>e.startsWith("i18n:")?Editor.I18n.t(e.substr(5)):e,changeTab(e){this.tab=e},inform(e,t,a){t.message&&Editor.Message.send(e,t.message,t.path,a)},async refreshPackagesData(){const e=this;e.data=await Editor.Message.request("preferences","query-preferences-data"),e.data[e.tab]||(e.tab="general")},handleCustomConfig(){const e=this;if(e.data[e.tab]&&e.data[e.tab].custom){const t=Editor.Module.requireFile(e.data[e.tab].custom),a=document.createElement("ui-panel"),s={};t&&(Object.keys(t).forEach(e=>{s[e]=t[e]}),t.ready&&(s.ready=(()=>(a.ready=!0,t.ready.call(a.panelObject,...e.args))))),a.config=s,e.$nextTick(()=>{const t=e.$refs[e.tab];t&&(t.innerHTML="",t.appendChild(a))})}}},exports.mounted=mounted,exports.beforeDestroy=beforeDestroy;