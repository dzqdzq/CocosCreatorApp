"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.methods=exports.watch=exports.data=exports.props=exports.template=void 0;const fs_1=require("fs"),path_1=require("path");function data(){return{type:"global"}}async function mounted(){this.refresh()}exports.template=fs_1.readFileSync(path_1.join(__dirname,"../../../static/settings/item.html"),"utf8"),exports.props=["item","tab","path"],exports.data=data,exports.watch={tab(){this.refresh()}},exports.methods={t:t=>t.startsWith("i18n:")?Editor.I18n.t(t.substr(5)):t,async refresh(){const t=this;if(!t.tab)return;const e=await Editor.Profile.getConfig(t.tab,t.path,"local");t.type=void 0!==e&&null!==e?"local":"global"},popup(t,e){const r=this;r.tab&&Editor.Menu.popup({x:t,y:e,menu:[{label:Editor.I18n.t("preferences.menu.move_local"),enabled:"global"===r.type,async click(){const t=await Editor.Profile.getConfig(r.tab,r.path);await Editor.Profile.setConfig(r.tab,r.path,t),r.refresh()}},{label:Editor.I18n.t("preferences.menu.move_global"),enabled:"local"===r.type,async click(){const t=await Editor.Profile.getConfig(r.tab,r.path,"local");await Editor.Profile.setConfig(r.tab,r.path,t,"global"),await Editor.Profile.removeConfig(r.tab,r.path,r.type),r.refresh()}}]})},getRenderText(){const t=this;return t.item.render.attributes=t.item.render.attributes||{},t.item.render.attributes.path=t.path,JSON.stringify(t.item.render)}},exports.mounted=mounted;