"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.methods=exports.watch=exports.data=exports.props=exports.template=void 0;const fs_1=require("fs"),path_1=require("path");function data(){return{type:"global"}}async function mounted(){this.refresh()}exports.template=(0,fs_1.readFileSync)((0,path_1.join)(__dirname,"../../../static/settings/item.html"),"utf8"),exports.props=["item","tab","path"],exports.data=data,exports.watch={tab(){this.refresh()}},exports.methods={t:t=>t.startsWith("i18n:")?Editor.I18n.t(t.substr(5)):t,async refresh(){const t=this;if(!t.tab)return;const e=await Editor.Profile.getConfig(t.tab,t.path,"local");t.type=void 0!==e&&null!==e?"local":"global"},popup(t,e,r){const o=this;o.tab&&Editor.Menu.popup({x:t,y:e,menu:[{label:Editor.I18n.t("preferences.menu.copyConfigKey"),click(){const t=`'${o.tab}', '${r}'`;Editor.Clipboard.write("text",t)}},{label:Editor.I18n.t("preferences.menu.copyTabKey"),click(){Editor.Clipboard.write("text",`'${o.tab}'`)}},{label:Editor.I18n.t("preferences.menu.move_local"),enabled:"global"===o.type,async click(){const t=await Editor.Profile.getConfig(o.tab,r);await Editor.Profile.setConfig(o.tab,r,t),o.refresh()}},{label:Editor.I18n.t("preferences.menu.move_global"),enabled:"local"===o.type,async click(){const t=await Editor.Profile.getConfig(o.tab,r,"local");await Editor.Profile.setConfig(o.tab,r,t,"global"),await Editor.Profile.removeConfig(o.tab,r,o.type),o.refresh()}}]})},getRenderText(){const t=this;return t.item.render.attributes=t.item.render.attributes||{},t.item.render.attributes.path=t.path,JSON.stringify(t.item.render)}},exports.mounted=mounted;