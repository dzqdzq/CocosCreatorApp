"use strict";async function update(e){const t=this,r=t.$.section,o=Object.keys(t.$propList),s=[];for(const o in e.value){const a=e.value[o];if(!a.visible)continue;e.values&&(a.values=e.values.map(e=>e[o].value));const p=`${a.type||a.name}:${a.path}`;s.push(p);let n=t.$propList[p];if(n)n.isConnected&&n.parentElement||t.appendChildByDisplayOrder(r,n,a.displayOrder);else if((n=document.createElement("ui-prop")).setAttribute("type","dump"),t.$propList[p]=n,a.group&&e.groups){const o=a.group.id||"default",s=a.group.name;!t.$groups[o]&&e.groups[o]&&"tab"===e.groups[o].style&&(t.$groups[o]=t.createTabGroup(e.groups[o])),t.$groups[o]&&(t.$groups[o].isConnected||t.appendChildByDisplayOrder(r,t.$groups[o],e.groups[o].displayOrder),"tab"===e.groups[o].style&&t.appendToTabGroup(t.$groups[o],s)),t.appendChildByDisplayOrder(t.$groups[o].tabs[s],n,a.displayOrder)}else t.appendChildByDisplayOrder(r,n,a.displayOrder);n.render(a)}for(const e of o)if(!s.includes(e)){const r=t.$propList[e];r&&r.parentElement&&r.parentElement.removeChild(r)}}async function ready(){this.$propList={},this.$groups={}}async function close(){const e=this;for(const t in e.$groups)e.$groups[t].remove();e.$groups=void 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.ready=exports.update=exports.methods=exports.style=exports.$=exports.template=void 0,exports.template="\n<section></section>\n",exports.$={section:"section"},exports.style="\n    .tab-group {\n        margin-top: 10px;\n        margin-bottom: 10px;\n    }\n    .tab-content {\n        display: none;\n        border: 1px dashed var(--color-normal-border);\n        padding: 10px;\n        margin-top: -9px;\n        border-top-right-radius: calc(var(--size-normal-radius) * 1px);\n        border-bottom-left-radius: calc(var(--size-normal-radius) * 1px);\n        border-bottom-right-radius: calc(var(--size-normal-radius) * 1px);\n    }\n",exports.methods={createTabGroup(e){const t=document.createElement("div");return t.setAttribute("class","tab-group"),t.dump=e,t.tabs={},t.$header=document.createElement("ui-tab"),t.$header.setAttribute("class","tab-header"),t.appendChild(t.$header),t.$header.addEventListener("change",e=>{const r=Object.keys(t.tabs)[e.target.value||0];t.querySelectorAll(".tab-content").forEach(e=>{e.getAttribute("name")===r?e.style.display="block":e.style.display="none"})}),setTimeout(()=>{const e=t.$header.shadowRoot.querySelector("ui-button");e&&e.dispatch("confirm")}),t},appendToTabGroup(e,t){if(e.tabs[t])return;const r=document.createElement("div");e.tabs[t]=r,r.setAttribute("class","tab-content"),r.setAttribute("name",t),e.appendChild(r);const o=document.createElement("ui-label");o.value=t;const s=document.createElement("ui-button");s.setAttribute("name",t),s.appendChild(o),e.$header.appendChild(s)},appendChildByDisplayOrder(e,t,r=0){const o=Array.from(e.children).find(e=>{if(e.dump&&e.dump.displayOrder>r)return e});o?o.before(t):e.appendChild(t)}},exports.update=update,exports.ready=ready,exports.close=close;