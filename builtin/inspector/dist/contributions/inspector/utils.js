"use strict";function translate(e,a,t,s){if(e&&"object"===typeof e)if(Array.isArray(e))e.forEach((e,l)=>{if(null!==e&&void 0!==e){if("object"==typeof e){let o;e.name=`[${l}]`,e.path=`${a}.${l}`,t&&(o=t.map(e=>{if(e[l])return e[l].value}),e.values=o),collectAssets(e,s),translate(e.value,e.path,o,s),delete e.displayName}}else console.warn(`data in node dump (${a} ${l}) is ${e}!`)});else for(const l of Object.keys(e)){const o=e[l];if(null!==o&&void 0!==o){if("object"==typeof o){let e;if(o.name=l,o.path=`${a}.${l}`,collectAssets(o,s),t)try{e=t.map(e=>{if(e[l])return e[l].value}),o.values=e}catch(a){e=void 0}translate(o.value,o.path,e,s)}}else console.warn(`data in node dump (${a} ${l}) is ${o}!`)}}function collectAssets(e,a){e.visible&&e.extends&&e.value.uuid&&e.extends.includes("cc.Asset")&&(a[e.type]||(a[e.type]={}),void 0===a[e.type][e.value.uuid]&&(a[e.type][e.value.uuid]=0),a[e.type][e.value.uuid]++)}function translationDump(e,a,t){if(e.active.path="active",e.name.path="name",e.isScene)return translationSceneDump(e,a,t);e.position.path="position",e.rotation.path="rotation",e.scale.path="scale",e.layer.path="layer",a&&(e.active.values=a.map(e=>e.active.value),e.name.values=a.map(e=>e.name.value),e.position.values=a.map(e=>e.position.value),e.rotation.values=a.map(e=>e.rotation.value),e.scale.values=a.map(e=>e.scale.value),e.layer.values=a.map(e=>e.layer.value));for(let s=0;s<e.__comps__.length;s++){const l=e.__comps__[s];if(l.path=`__comps__.${s}`,!(!a||a.every(e=>e.__comps__[s]&&e.__comps__[s].type===l.type)))break;translate(l.value,l.path,a?a.map(e=>e.__comps__[s].value):void 0,t)}return e}function translationSceneDump(e,a,t){e.autoReleaseAssets.path="autoReleaseAssets",Object.keys(e._globals).forEach(s=>{const l=e._globals[s];l.name=l.type,l.path=`_globals.${s}`,translate(l.value,l.path,a?a.map(e=>e._globals[s].value):void 0,t)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.translationDump=void 0,exports.translationDump=translationDump;