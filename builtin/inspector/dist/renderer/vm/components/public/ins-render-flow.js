"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.data=exports.watch=exports.methods=exports.computed=exports.components=exports.props=exports.template=void 0;const{orderBy:orderBy}=require("lodash");function data(){return{flows:[],flow:{},flowIndex:-1}}async function mounted(){const e=this;"RenderFlow"!==e.type&&(e.flow=e.value.value),await e.loadAll()}exports.template='\n<ui-section class="asset-render-flow" no-border\n    :expand-key="\'flows\'+value.name"\n    :expand="$root.expand(\'flows\'+value.name, true)"\n>\n    <div slot="header" class="header">\n        <div class="prop-name">{{value.name}}</div>\n        <ui-select class="prop-content"\n            :value="flowIndex"\n            @confirm="flowIndex = $event.target.value"\n        >\n            <option\n                v-for="(flow, index) in flows"\n                :key="index + \' - \' + flow.name"\n                :value="index"\n            >{{flow.name}}</option>\n        </ui-select>\n    </div>\n\n    <div class="content"\n        v-if="orderFlow.length"\n    >\n        <ins-prop auto="true"\n            v-for="(item,index) in orderFlow"\n            :key="index"\n            :dump="item"\n            :dumps="[item]"\n        ></ins-prop>\n    </div>\n</ui-section>\n',exports.props=["value"],exports.components={"ins-prop":require("./ins-prop")},exports.computed={orderFlow(){return orderBy(this.flow,"displayOrder")}},exports.methods={async loadAll(){this.flows=await Editor.Message.request("scene","query-all-render-flows"),this.show()},show(){const e=this;e.flowIndex=e.flows.findIndex(o=>o.name===e.value.type),-1===e.flowIndex?e.flow={}:e.flow=e.value.value}},exports.watch={async flowIndex(e){const o=this;if(-1===e)return;const n=o.flows[e].name;o.value.type!==n&&(await Editor.Message.request("scene","select-render-flow",n,Number(o.value.name)),o.$root.$refs.asset._onConfirm())},"value.value"(){this.show()}},exports.data=data,exports.mounted=mounted;