"use strict";function data(){return{components:{}}}function mounted(){const e=this;e.dump&&e.dump.value&&e.dump.value.target.value.uuid&&e.updateComponent(e.dump.value.target.value.uuid)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.data=exports.watch=exports.methods=exports.components=exports.props=exports.template=void 0,exports.template='\n<div class="click-event">\n\n    <template\n        v-if="dump"\n    >\n        <div class="prop-name"\n            v-if="name && !$parent.$parent.dump.isArray"\n        >\n            <ui-label\n                :tooltip="title"\n            >{{name}}</ui-label>\n            <ui-icon value="lock"\n                v-if="readonly || dump.readonly"\n            ></ui-icon>\n        </div>\n        <ins-resize-line></ins-resize-line>\n        <div class="prop-content">\n            <div class="ins-prop line">\n\n                <ui-node\n                    :droppable="dump.value.target.type"\n                    :value="dump.value.target.value.uuid"\n                    :disabled="readonly || dump.readonly"\n                    :invalid="isTargetInvalid(dumps)"\n\n                    @confirm="dump.value.target.value.uuid = $event.target.value"\n                ></ui-node>\n\n                <ui-select path="_componentId"\n                    :disabled="readonly || dump.readonly"\n                    :value="dump.value._componentId.value"\n                    :invalid="dumps && dumps.some(item => dump.value._componentId.value !== item.value._componentId.value)"\n\n                    @confirm="dump.value._componentId.value = $event.target.value"\n                >\n                    <option\n                        v-for="(item, uuid) in components"\n                        :key="uuid"\n                        :value="uuid"\n                    >{{item.type}}</option>\n                </ui-select>\n\n                <ui-select path="handler"\n                    :disabled="readonly || dump.readonly"\n                    :value="dump.value.handler.value"\n                    :invalid="dumps && dumps.some(item => dump.value.handler.value !== item.value.handler.value)"\n                    \n                    @confirm="dump.value.handler.value = $event.target.value"\n                >\n                    <template\n                        v-if="components[dump.value._componentId.value]"\n                    >\n                        <option\n                            v-for="item in components[dump.value._componentId.value].funcs"\n                            :value="item"\n                        >{{item}}</option>\n                    </template>\n                </ui-select>\n\n                <ui-button class="transparent"\n                    @confirm.stop="updateComponent(dump.value.target.value.uuid)"\n                >\n                    <ui-icon value="refresh"></ui-icon>\n                </ui-button>\n            </div>\n\n            <ins-prop auto="true"\n                :dump="dump.value.customEventData"\n                :dumps="dumps ? dumps.map(item => item.value.customEventData) : null"\n                :readonly="readonly || dump.readonly"\n            ></ins-prop>\n        </div>\n    </template>\n</div>\n',exports.props=["title","name","dump","dumps","readonly"],exports.components={"ins-prop":require("./ins-prop"),"ins-resize-line":require("./ins-resize-line")},exports.methods={isTargetInvalid(e){if(!e)return!1;const n=this.dump;return e.some(e=>null===e.value.target||null===n.value.target?e.value.target!==n.value.target:e.value.target.value.uuid!==n.value.target.value.uuid)},async updateComponent(e){const n=this;if(!e)return void(n.components={});const t=await Editor.Message.request("scene","query-component-function-of-node",e),u={};(await Editor.Message.request("scene","query-node",e)).__comps__.forEach(e=>{u[e.cid]={funcs:t[e.type],type:e.type}}),n.components=u}},exports.watch={async"dump.value.target.value.uuid"(e){this.updateComponent(e)}},exports.data=data,exports.mounted=mounted;