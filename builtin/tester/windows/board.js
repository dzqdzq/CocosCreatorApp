"use strict";const codeMap={Enter:"Enter",Escape:"Escape"},keyCodeMap={Enter:13,Escape:27};function wait(e){return new Promise(t=>{setTimeout(()=>{t()},e||200)})}exports.keydown=async function(e,t){void 0!==e.length&&(e=e[0]);const a=new KeyboardEvent("",{bubbles:!0,cancelable:!0,code:codeMap[t]||`Key${t.toLocaleUpperCase()}`,composed:!0,eventPhase:2,isTrusted:!0,key:codeMap[t]||t,keyCode:keyCodeMap[t]||t.charCodeAt(0),which:keyCodeMap[t]||t.charCodeAt(0)});if(a.initEvent("keydown",!0,!0),e.dispatchEvent(a),e.tagName.startsWith("UI-")){const t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),e.dispatchEvent(t)}await wait(20)},exports.keypress=async function(e,t){void 0!==e.length&&(e=e[0]);const a=new KeyboardEvent("",{bubbles:!0,cancelable:!0,code:codeMap[t]||`Key${t.toLocaleUpperCase()}`,composed:!0,eventPhase:2,isTrusted:!0,key:codeMap[t]||t,keyCode:keyCodeMap[t]||t.charCodeAt(0),which:keyCodeMap[t]||t.charCodeAt(0)});a.initEvent("keypress",!0,!0),e.dispatchEvent(a),await wait(20)},exports.keyup=async function(e,t){void 0!==e.length&&(e=e[0]);const a=new KeyboardEvent("",{bubbles:!0,cancelable:!0,code:codeMap[t]||`Key${t.toLocaleUpperCase()}`,composed:!0,eventPhase:2,isTrusted:!0,key:codeMap[t]||t,keyCode:keyCodeMap[t]||t.charCodeAt(0),which:keyCodeMap[t]||t.charCodeAt(0)});if(a.initEvent("keyup",!0,!0),e.dispatchEvent(a),e.tagName.startsWith("UI-")){const t=document.createEvent("HTMLEvents");t.initEvent("confirm",!0,!0),e.dispatchEvent(t)}await wait(20)},exports.input=async function(e,t){void 0!==e.length&&(e=e[0]);for(let a=0;a<t.length;a++)await exports.keydown(e,t[a]),await exports.keypress(e,t[a]),e.value+=t[a],await exports.keyup(e,t[a]);await wait(200)},exports.enter=async function(e){void 0!==e.length&&(e=e[0]),exports.keydown(e,"Enter"),exports.keyup(e,"Enter"),await wait(200)},exports.esc=async function(e){void 0!==e.length&&(e=e[0]),exports.keydown(e,"Escape"),exports.keyup(e,"Escape"),await wait(200)};