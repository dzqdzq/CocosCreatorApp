"use strict";async function onBeforeBuild(){if(window.Build.isCommand)return;if(!await checkSceneSaved())throw new Error("Build task has been canceled!")}async function checkSceneSaved(){if(await Editor.Message.request("scene","query-is-ready")){if(await Editor.Message.request("scene","query-dirty")){const e=Editor.I18n.t,s=await Editor.Dialog.warn(e("builder.is_save_scene.message"),{title:e("builder.is_save_scene.title"),default:0,cancel:1,buttons:[e("builder.is_save_scene.save"),e("builder.is_save_scene.ignore"),e("builder.is_save_scene.cancel")]});if(2===s.response)return!1;0===s.response&&await Editor.Message.request("scene","save-scene")}return!0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.onBeforeBuild=exports.throwError=void 0,exports.throwError=!0,exports.onBeforeBuild=onBeforeBuild;