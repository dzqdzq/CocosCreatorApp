"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.update=exports.close=exports.ready=exports.template=exports.right=exports.bottom=exports.height=exports.width=exports.type=void 0;let timer=null;function generateMethodParams(e,t,n){return{uuid:e,name:t,args:n}}async function ready(e,t,n){clearTimeout(timer);const o=e.parentElement;if(!o)return;const i=t.nodes.length>1;if(!n[exports.type])return void(e.hidden=!0);const u=n[exports.type][0].uuid,a=e.querySelector(".scene-particle .play"),r=e.querySelector(".scene-particle .pause"),l=e.querySelector(".scene-particle .reset"),s=e.querySelector(".scene-particle .stop");a.addEventListener("confirm",()=>{n[exports.type].forEach(e=>{o.callSceneMethod("executeComponentMethod",[generateMethodParams(e.uuid,"play")])})}),r.addEventListener("confirm",()=>{n[exports.type].forEach(e=>{o.callSceneMethod("executeComponentMethod",[generateMethodParams(e.uuid,"pause")])})}),l.addEventListener("confirm",()=>{n[exports.type].forEach(e=>{o.callSceneMethod("executeComponentMethod",[generateMethodParams(e.uuid,"stop")]),o.callSceneMethod("executeComponentMethod",[generateMethodParams(e.uuid,"play")])})}),s.addEventListener("confirm",()=>{n[exports.type].forEach(e=>{o.callSceneMethod("executeComponentMethod",[generateMethodParams(e.uuid,"stop")])})});const c=e.querySelector(".scene-particle .speed"),p=e.querySelector(".scene-particle .total"),d=e.querySelector(".scene-particle .time");i&&(null===c||void 0===c||c.setAttribute("invalid",""),null===p||void 0===p||p.setAttribute("invalid",""),null===d||void 0===d||d.setAttribute("invalid","")),c.addEventListener("confirm",e=>{o.callSceneMethod("setParticlePlaySpeed",[u,Number(e.target.value)])}),async function e(){const t=await o.callSceneMethod("queryParticlePlayInfo",[u]);t&&(c.setAttribute("value",t.speed),p.setAttribute("value",t.particle),d.setAttribute("value",t.time),a.disabled=!!t.isPlaying,r.disabled=!t.isPlaying,timer=setTimeout(()=>{e()},300))}()}async function close(){clearTimeout(timer)}function update(e){}exports.type="cc.ParticleSystem",exports.width=200,exports.height=160,exports.bottom=10,exports.right=10,exports.template='\n<style>\n    .scene-particle ui-prop { --left-width: 60%; margin-bottom: 4px; }\n    .scene-particle .buttons { display: flex; justify-content: space-around; margin-bottom: 4px; }\n    .scene-particle .buttons i { cursor: pointer; }\n</style>\n<div class="scene-particle">\n    <div class="buttons">\n        <ui-button class="play"><ui-icon value="play"></ui-icon></ui-button>\n        <ui-button class="pause"><ui-icon value="pause"></ui-icon></ui-button>\n        <ui-button class="reset"><ui-icon value="refresh"></ui-icon></ui-button>\n        <ui-button class="stop"><ui-icon value="stop"></ui-icon></ui-button>\n    </div>\n    <ui-prop>\n        <ui-label slot="label" value="Playback Speed"></ui-label>\n        <ui-num-input slot="content" class="speed"></ui-num-input>\n    </ui-prop>\n    <ui-prop>\n        <ui-label slot="label" value="Playback Time"></ui-label>\n        <ui-num-input slot="content" class="time" disabled></ui-num-input>\n    </ui-prop>\n    <ui-prop>\n        <ui-label slot="label" value="Particle"></ui-label>\n        <ui-num-input slot="content" class="total" disabled></ui-num-input>\n    </ui-prop>\n</div>\n',exports.ready=ready,exports.close=close,exports.update=update,exports.default=module.exports;