"use strict";Object.defineProperty(exports,"__esModule",{value:!0});let timer=null;const type="cc.ParticleSystem",width=200,height=160,bottom=10,right=10,template='\n<style>\n    .scene-particle ui-prop { --left-width: 60%; margin-bottom: 4px; }\n    .scene-particle .buttons { display: flex; justify-content: space-around; margin-bottom: 4px; }\n    .scene-particle .buttons i { cursor: pointer; }\n</style>\n<div class="scene-particle">\n    <div class="buttons">\n        <ui-button class="play"><ui-icon value="play"></ui-icon></ui-button>\n        <ui-button class="pause"><ui-icon value="pause"></ui-icon></ui-button>\n        <ui-button class="reset"><ui-icon value="refresh"></ui-icon></ui-button>\n        <ui-button class="stop"><ui-icon value="stop"></ui-icon></ui-button>\n    </div>\n    <ui-prop>\n        <ui-label slot="label" value="Playback Speed"></ui-label>\n        <ui-num-input slot="content" class="speed"></ui-num-input>\n    </ui-prop>\n    <ui-prop>\n        <ui-label slot="label" value="Playback Time"></ui-label>\n        <ui-num-input slot="content" class="time" disabled></ui-num-input>\n    </ui-prop>\n    <ui-prop>\n        <ui-label slot="label" value="Particle"></ui-label>\n        <ui-num-input slot="content" class="total" disabled></ui-num-input>\n    </ui-prop>\n</div>\n';async function ready(e,t,i){null!==timer&&clearTimeout(timer);const n=e.parentElement;if(!n)return;const l=t.nodes.length>1;if(t.modes.includes("animation")||!i[type]||!i[type][0].enabled)return void(e.hidden=!0);const u=i[type][0].uuid,a=e.querySelector(".scene-particle .play"),c=e.querySelector(".scene-particle .pause"),o=e.querySelector(".scene-particle .reset"),s=e.querySelector(".scene-particle .stop");a.addEventListener("confirm",()=>{n.callSceneMethod("playParticle",[])}),c.addEventListener("confirm",()=>{n.callSceneMethod("pauseParticle",[])}),o.addEventListener("confirm",()=>{n.callSceneMethod("restartParticle",[])}),s.addEventListener("confirm",()=>{n.callSceneMethod("stopParticle",[])});const r=e.querySelector(".scene-particle .speed"),p=e.querySelector(".scene-particle .total"),d=e.querySelector(".scene-particle .time");l&&(null===r||void 0===r||r.setAttribute("invalid",""),null===p||void 0===p||p.setAttribute("invalid",""),null===d||void 0===d||d.setAttribute("invalid","")),r.addEventListener("confirm",e=>{n.callSceneMethod("setParticlePlaySpeed",[u,Number(e.target.value)])}),async function e(){const t=await n.callSceneMethod("queryParticlePlayInfo",[u]);t&&(r.setAttribute("value",t.speed),p.setAttribute("value",t.particle),d.setAttribute("value",t.time),a.disabled=!!t.isPlaying,c.disabled=!t.isPlaying,timer=setTimeout(()=>{e()},300))}()}async function close(){null!==timer&&clearTimeout(timer)}function update(e){}const configs={ready:ready,update:update,type:type,template:template,width:200,height:160,bottom:10,right:10,close:close};module.exports=configs,exports.default=module.exports;