"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.ready=exports.methods=exports.$=exports.template=exports.position=void 0;let panel=void 0;function ready(){panel=this,Editor.Message.addBroadcastListener("scene:ready",panel.sceneReady),Editor.Message.addBroadcastListener("scene:dimension-changed",panel.dimensionChanged),panel.$.dimension.addEventListener("click",panel.eventChangeIs2D),document.body.addEventListener("keydown",panel.eventDocumentKeyDown),panel.sceneReady()}function close(){Editor.Message.removeBroadcastListener("scene:ready",panel.sceneReady),Editor.Message.removeBroadcastListener("scene:dimension-changed",panel.dimensionChanged),panel.$.dimension.removeEventListener("click",panel.eventChangeIs2D),document.body.removeEventListener("keydown",panel.eventDocumentKeyDown)}exports.position="left",exports.template='\n<style>\n    .camera-dimension {\n        margin-right: 8px;\n        background-color: var(--color-default-fill-emphasis);\n        border-radius: calc(var(--size-normal-radius) * 2px);\n        box-shadow: inset 0 0 0 calc(var(--size-normal-border) * 1px) var(--color-default-border-normal);\n        overflow: hidden;\n    }\n</style>\n<div class="camera-dimension">\n    <ui-button type="icon" class="dimension transparent" tooltip="i18n:scene.tooltips.edit_mode">\n        <ui-icon class="icon" value="3D"></ui-icon>\n    </ui-button>\n</div>\n',exports.$={dimension:".dimension",icon:".icon"},exports.methods={dimensionChanged(e){panel.is2D=e,panel.$.icon.value=panel.is2D?"2D":"3D"},async sceneReady(){const e=await Editor.Message.request("scene","query-is2D");panel.dimensionChanged(e)},eventChangeIs2D(){Editor.Message.send("scene","change-is2D",!panel.is2D)},eventDocumentKeyDown(e){const n=function e(n){return n&&n.shadowRoot?e(n.shadowRoot.activeElement):n}(document.activeElement);if((!n||"INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName)&&!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey))switch(e.key){case"2":panel.$.dimension.click()}}},exports.ready=ready,exports.close=close,exports.default=module.exports;