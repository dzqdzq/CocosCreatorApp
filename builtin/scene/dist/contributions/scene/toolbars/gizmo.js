"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.ready=exports.methods=exports.$=exports.template=exports.position=void 0;const Vue=require("vue/dist/vue.js");let panel=void 0,vm=void 0;function ready(e){(panel=this).menuName="gizmo-settings",panel.$scene=e.nextElementSibling,vm=new Vue({el:panel.$.container,data:{is2D:!1,showMenu:!1,mouseOver:!1,showColorPanel:!1,gizmo:{}},methods:{toolbarMenu(){Editor.Message.broadcast("scene:toolbar-menu-active",panel.menuName)},setGridVisible(e){panel.$scene.callSceneMethod("setGridVisible",[e]),Editor.Profile.setConfig("scene","gizmos-infos.gridVisible",e)},set3DIcon(e){panel.$scene.callSceneMethod("setIconGizmo3D",[e]),Editor.Profile.setConfig("scene","gizmos-infos.is3DIcon",e)},setIconSize(e){panel.$scene.callSceneMethod("setIconGizmoSize",[e]),Editor.Profile.setConfig("scene","gizmos-infos.iconSize",e)},setGridLineColor(e){panel.$scene.callSceneMethod("setGridLineColor",[e]),Editor.Profile.setConfig("scene","gizmos-infos.gridColor",e)}}}),Editor.Message.addBroadcastListener("scene:ready",panel.sceneReady),Editor.Message.addBroadcastListener("scene:dimension-changed",panel.dimensionChanged),Editor.Message.addBroadcastListener("scene:toolbar-menu-active",panel.toolbarMenuActive),panel.sceneReady()}function close(){Editor.Message.removeBroadcastListener("scene:ready",panel.sceneReady),Editor.Message.removeBroadcastListener("scene:dimension-changed",panel.dimensionChanged),Editor.Message.removeBroadcastListener("scene:toolbar-menu-active",panel.toolbarMenuActive)}exports.position="right",exports.template='\n<style>\n.gizmo-settings {\n    position: relative;\n    width: 24px;\n    height: 24px;\n    box-sizing: border-box;\n    background-color: var(--color-default-fill-emphasis);\n    border-top: 1px solid var(--color-default-border-normal);\n    border-bottom: 1px solid var(--color-default-border-normal);\n    border-right: 1px solid var(--color-default-border-normal);\n    border-radius: 0 calc(var(--size-normal-radius) * 2px) calc(var(--size-normal-radius) * 2px) 0;\n}\n\n.gizmo-settings > ui-button {\n    margin-top: -1px;\n    margin-right: -1px;\n    border-radius: 0 calc(var(--size-normal-radius) * 2px) calc(var(--size-normal-radius) * 2px) 0;\n}\n\n.gizmo-settings[style-2d] {\n    border-right: none;\n    margin-right: 0;\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n}\n\n.gizmo-settings[style-2d] > ui-button {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n}\n\n.gizmo-settings .popup {\n    position: absolute;\n    top: 30px;\n    right: -1px;\n    z-index: 2;\n    padding: 10px 10px 5px 10px;\n    width: 166px;\n    background-color: var(--color-normal-fill);\n    border-radius: calc(var(--size-normal-radius) * 2px);\n    border: 1px solid var(--color-normal-fill-weakest);\n}\n.gizmo-settings .popup ui-prop {\n    margin-bottom: 5px;\n    --left-width: 60%;\n}\n</style>\n<div class="gizmo-settings"\n    :style-2d="is2D"\n>\n    <ui-button type="icon" class="transparent" \n        @click.stop="toolbarMenu"\n    >\n        <ui-icon value="setting"></ui-icon>\n    </ui-button>\n\n    <div class="popup"\n        v-show="showMenu"\n        @click.stop\n    >\n        <ui-prop>\n            <ui-checkbox slot="label"\n                :value="gizmo.is3DIcon"\n                @confirm="set3DIcon($event.target.value)"\n            >\n                <ui-label value="i18n:scene.gizmos.icon3d"></ui-label>\n            </ui-checkbox>\n            <ui-num-input slot="content" min="0" max="8" step="1"\n                :value="gizmo.iconSize"\n                @change="setIconSize($event.target.value)"\n            ></ui-num-input>\n        </ui-prop>\n        <ui-prop>\n            <ui-checkbox slot="label"\n                :value="gizmo.gridVisible"\n                @confirm="setGridVisible($event.target.value)"\n            >\n                <ui-label value="i18n:scene.gizmos.showGrid"></ui-label>\n            </ui-checkbox>\n            <ui-color slot="content"\n                :value="JSON.stringify(gizmo.gridColor)"\n                @change="setGridLineColor($event.target.value)"\n            ></ui-color>\n        </ui-prop>\n    </div>\n</div>\n',exports.$={container:".gizmo-settings"},exports.methods={dimensionChanged(e){vm.is2D=e},async sceneReady(){const e=await Editor.Message.request("scene","query-is2D");panel.dimensionChanged(e)},toolbarMenuActive(e){e!==panel.menuName||vm.showMenu?vm.showMenu&&(vm.showMenu=!1):(vm.showMenu=!0,panel.gizmoConfig())},async gizmoConfig(){const e=await Editor.Profile.getConfig("scene","gizmos-infos");vm.$set(vm,"gizmo",e)}},exports.ready=ready,exports.close=close,exports.default=module.exports;