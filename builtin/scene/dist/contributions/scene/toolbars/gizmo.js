"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.ready=exports.$=exports.template=exports.position=void 0;const Vue=require("vue/dist/vue");async function ready(e){const i=e.nextElementSibling,n=await Editor.Profile.getConfig("scene","gizmos-infos"),o=new Vue({el:this.$.settings,data:{is3D:!0,flags:{show:!1,showColorPanel:!1,mouseOver:!1},gizmo:{show3DIcons:n.is3DIcon,iconSize:n.iconSize,showGrid:n.gridVisible,gridColor:n.gridColor}},methods:{visiblePopup(e){o.flags.show?o.flags.show=!o.flags.show:Editor.Message.broadcast("scene:toolbar-menu-active","gizmo")},hidePopup(){o.flags.show=!1},setGridVisible(e){i.callSceneMethod("setGridVisible",[e]),Editor.Profile.setConfig("scene","gizmos-infos.gridVisible",e)},set3DIcon(e){i.callSceneMethod("setIconGizmo3D",[e]),Editor.Profile.setConfig("scene","gizmos-infos.is3DIcon",e)},setIconSize(e){i.callSceneMethod("setIconGizmoSize",[e]),Editor.Profile.setConfig("scene","gizmos-infos.iconSize",e)},setGridLineColor(e){i.callSceneMethod("setGridLineColor",[e]),Editor.Profile.setConfig("scene","gizmos-infos.gridColor",e)}}});document.addEventListener("click",e=>{o.flags.show=!1}),Editor.Message.addBroadcastListener("scene:toolbar-menu-active",e=>{o.flags.show="gizmo"===e}),Editor.Message.addBroadcastListener("scene:dimension-changed",e=>{o.is3D=!e}),o.is3D=!await i.callSceneMethod("queryIs2D")}async function close(){}exports.position="right",exports.template='\n<style>\n    .settings .button {\n        box-sizing: border-box;\n        width: calc(var(--size-normal-line) * 1px);\n        height: calc(var(--size-normal-line) * 1px);\n        cursor: pointer; \n        background-color: var(--color-default-fill-emphasis);\n        border-top:  calc(var(--size-normal-border) * 1px) solid var(--color-default-border-normal);\n        border-right:  calc(var(--size-normal-border) * 1px) solid var(--color-default-border-normal);\n        border-bottom:  calc(var(--size-normal-border) * 1px) solid var(--color-default-border-normal);\n        text-align: center;\n    }\n    \n    .settings[is3D] .button{\n        border-radius: 0 calc(var(--size-normal-radius) * 2px) calc(var(--size-normal-radius) * 2px) 0;\n    }\n\n    .settings .button .arrow {\n        font-size: 9px;\n        margin-left: -2px;\n        vertical-align: middle;\n    }\n    .settings .popup {\n        opacity: 0;\n        pointer-events: none;\n        transition: opacity 0.2s;\n        position: absolute;\n        width: 160px;\n        top: 28px;\n        right: 10px;\n        z-index: 10;\n        padding: calc(var(--size-small-line) * 0.5px);\n        background: var(--color-normal-fill);\n        border-radius: calc(var(--size-normal-radius) * 1px);\n    }\n    .settings .popup[show] { opacity: 1; pointer-events: all; }\n    .settings .popup > div { position: relative; display: flex; margin-bottom: 5px; padding-left: calc(var(--size-small-line) * 1px); }\n    .settings .popup > div > span { flex: none; width: 50px; white-space: nowrap; text-overflow: ellipsis; }\n    .settings .popup > div > * { flex: 1; }\n    .settings .popup > div > .slider { flex: none; position: absolute; left: 0; }\n</style>\n<div class="settings" :is3D="is3D">\n    <div class="button"\n    @click.stop="visiblePopup"\n    >\n       <ui-button type="icon" transparent>\n         <ui-icon value="setting"></ui-icon>\n       </ui-button>\n    </div>\n\n    <div class="popup"\n        :show="flags.show"\n        @click.stop\n    >\n        <div>\n            <ui-checkbox class="slider"\n                :value="gizmo.show3DIcons"\n                @confirm="set3DIcon($event.target.value)"\n            ></ui-checkbox>\n            <ui-label value="i18n:scene.gizmos.icon3d"></ui-label>\n            <ui-num-input min="0" max="8" step="1"\n                :value="gizmo.iconSize"\n                @change="setIconSize($event.target.value)"\n            ></ui-num-input>\n        </div>\n        <div>\n            <ui-checkbox class="slider"\n                :value="gizmo.showGrid"\n                @confirm="setGridVisible($event.target.value)"\n            ></ui-checkbox>\n            <ui-label value="i18n:scene.gizmos.showGrid"></ui-label>\n            <ui-color\n                :value="JSON.stringify(gizmo.gridColor)"\n                @change="setGridLineColor($event.target.value)"\n            ></ui-color>\n        </div>\n    </div>\n</div>\n',exports.$={settings:".settings"},exports.ready=ready,exports.close=close,exports.default=module.exports;