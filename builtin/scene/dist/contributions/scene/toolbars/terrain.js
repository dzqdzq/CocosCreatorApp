"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.update=exports.ready=exports.$=exports.template=exports.position=exports.vm=void 0;const terrain_1=__importDefault(require("../public/terrain")),Vue=require("vue/dist/vue");async function ready(e){const t=e.nextElementSibling;terrain_1.default.init(t),removeListener(),exports.vm=new Vue({el:this.$.terrainTools,data:{show:!1,align:!1,mode:0},methods:{changeToolMode(e){terrain_1.default.changeMode(e)}}}),terrain_1.default.on("mode-changed",listeners.changeMode),terrain_1.default.on("component-changed",listeners.component)}function removeListener(){terrain_1.default.off("mode-changed",listeners.changeMode),terrain_1.default.off("component-changed",listeners.component)}exports.vm=null,exports.position="left",exports.template='\n<style>\n    .terrain-tools { padding-left: 5px; overflow: hidden; font-size: 0; display: flex; }\n    .terrain-tools > svg { fill: var(--color-normal-contrast); width: 14px; height: 14px; padding: 7px 3px; cursor: pointer; vertical-align: sub; }\n    .terrain-tools > svg[disabled] { opacity: 0.4; }\n    .terrain-tools > svg[active] { fill: var(--color-active-contrast); }\n</style>\n\n<div class="terrain-tools"\n    v-if="show"\n>\n    <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="200" height="200"\n        :active="mode === 0"\n        @click="changeToolMode(0)"\n    >\n        <title><ui-label i18n="">scene.terrain.manage</ui-label></title>\n        <path d="M281.611519 767.961602l-204.789761 0c-42.340283 0-76.79616-34.455877-76.79616-76.79616l0-614.369282c0-42.340283 34.455877-76.79616 76.79616-76.79616l716.764162 0c42.340283 0 76.79616 34.455877 76.79616 76.79616l0 358.382081c0 14.130493-11.468227 25.59872-25.59872 25.59872s-25.59872-11.468227-25.59872-25.59872l0-358.382081c0-14.130493-11.468227-25.59872-25.59872-25.59872l-716.764162 0c-14.130493 0-25.59872 11.468227-25.59872 25.59872l0 614.369282c0 14.130493 11.468227 25.59872 25.59872 25.59872l204.789761 0c14.130493 0 25.59872 11.468227 25.59872 25.59872s-11.468227 25.59872-25.59872 25.59872z"></path><path d="M665.59232 1023.948803c-10.137093 0-19.762212-6.092495-23.755612-16.075996l-86.882056-217.179541-151.698015 173.354532c-7.014049 8.037998-18.277486 10.853857-28.260987 7.116444s-16.587971-13.311334-16.587971-23.960402l0-767.961602c0-10.137093 5.9901-19.301435 15.256837-23.39723s20.069397-2.355082 27.59542 4.454177l563.171841 511.974401c7.833208 7.116444 10.495475 18.328684 6.655667 28.158592s-13.311334 16.383181-23.858007 16.383181l-218.152292 0 88.366782 220.865757c5.273336 13.106545-1.126344 28.005-14.284086 33.278336l-127.9936 51.19744c-3.123044 1.228739-6.348483 1.843108-9.522724 1.843108zM563.19744 716.764162c1.433528 0 2.867057 0.102395 4.300585 0.358382 8.80596 1.484726 16.127194 7.474826 19.455027 15.717614l92.872156 232.231588 80.482376-32.20319-92.872156-232.231588c-3.174241-7.884406-2.20149-16.843958 2.559872-23.858007s12.696965-11.263437 21.19574-11.263437l189.788911 0-471.374831-428.522574 0 641.964702 134.342083-153.541123c4.914954-5.580521 11.929004-8.754762 19.250237-8.754762z"></path>\n    </svg>\n    <svg viewBox="0 0 1280 1024" xmlns="http://www.w3.org/2000/svg" width="200" height="200"\n        :active="mode === 1"\n        @click="changeToolMode(1)"\n    >\n        <title><ui-label i18n="">scene.terrain.bulge</ui-label></title>\n        <path d="M1269.84666 925.4l-576-896C682.06666 11.08 661.78666 0 640.00666 0s-42.06 11.08-53.84 29.4l-576 896a64.002 64.002 0 0 0-2.34 65.28A64.008 64.008 0 0 0 64.00666 1024h1152c23.42 0 44.96-12.78 56.18-33.34a63.966 63.966 0 0 0-2.34-65.26zM640.00666 182.36L810.78666 448H640.00666l-128 128-76.12-76.12L640.00666 182.36z"></path>\n    </svg>\n    <svg viewBox="0 0 1280 1024" xmlns="http://www.w3.org/2000/svg" width="200" height="200"\n        :active="mode === 2"\n        @click="changeToolMode(2)"\n    >\n        <title><ui-label i18n="">scene.terrain.sunken</ui-label></title>\n        <path d="M1269.84666 925.4l-576-896C682.06666 11.08 661.78666 0 640.00666 0s-42.06 11.08-53.84 29.4l-576 896a64.002 64.002 0 0 0-2.34 65.28A64.008 64.008 0 0 0 64.00666 1024h1152c23.42 0 44.96-12.78 56.18-33.34a63.966 63.966 0 0 0-2.34-65.26zM122.62666 928l263.54-409.96L512.00666 643.88 659.88666 496h219.8L1157.40666 928H122.62666zM640.00666 123.18L817.96666 400h-197.84L512.00666 508.12l-72.72-72.72L640.00666 123.18z"></path>\n    </svg>\n    <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="200" height="200"\n        :active="mode === 3"\n        @click="changeToolMode(3)"\n    >\n        <title><ui-label i18n="">scene.terrain.smooth</ui-label></title>\n        <path d="M512.305969 63.761186S295.04476 263.912715 226.226395 539.882024c-60.433394 242.342444 73.752748 420.35679 283.81295 420.35679 152.965857 0 302.288744-129.634476 302.288745-298.946626 0-309.086567-300.022121-274.716782-300.022121-597.531002z"></path>\n    </svg>\n    <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="200" height="200"\n        :active="mode === 4"\n        @click="changeToolMode(4)"\n    >\n        <title><ui-label i18n="">scene.terrain.paint</ui-label></title>\n        <path d="M290.154379 996.477156c-90.108251 0-157.651576-30.15581-200.753233-89.629343-36.832883-50.822502-55.508221-123.242905-55.508221-215.245296l0-28.931936 23.956621 16.223496c4.366448 2.956332 10.549264 7.500834 18.377556 13.255908 13.666254 10.044774 32.383548 23.803125 49.342802 34.719756 26.349111 16.959254 33.997302 17.700127 34.782178 17.727757 7.058766 0 12.540617-3.640923 15.011902-9.988492 23.170722-60.489676 54.076616-99.586113 97.232508-122.960473 44.586474-24.150026 99.846032-29.643134 152.919808-31.981389l9.813506-0.432859 4.503571 8.729825c24.503067 47.494711 51.991118 68.593238 108.934015 83.612303l11.266601 2.970658 0.710175 49.559742c0.813528 38.768979-5.114484 75.423807-17.623379 108.844987-12.259208 32.760125-30.54876 61.698201-54.358025 86.011956-24.286126 24.800849-53.602825 44.077891-87.137593 57.295937C367.588983 989.67524 330.08481 996.477156 290.154379 996.477156zM65.349357 722.234165c3.596921 70.76981 20.004613 126.71396 48.909943 166.599366 37.001729 51.057863 96.181573 76.94444 175.895079 76.94444 70.805626 0 133.549645-24.25338 176.674838-68.292386 42.814108-43.721781 64.676022-103.487979 63.22088-172.836417l-0.38067-26.536376c-27.40414-8.118911-47.75463-17.786085-64.979944-30.747281-18.434861-13.872962-33.659611-31.993668-47.430242-56.564273-113.952308 6.02318-172.543751 28.579919-213.257012 134.865617-7.124258 18.305925-23.850198 29.629831-43.679825 29.629831C142.069693 775.296685 112.590288 756.695025 65.349357 722.234165z"></path><path d="M586.016761 645.708258c-97.464799 0-148.982126-52.446489-148.982126-151.668305 0-47.713698 19.724227-93.097328 54.115502-124.512828l340.671936-309.222667c23.160489-21.131273 51.492768-32.783661 79.749322-32.783661 28.303626 0 46.160319 2.032286 59.446927 12.752442 16.777105 13.536294 19.088754 36.529985 19.088754 59.360969 0 32.686447-13.004175 62.628386-25.724895 87.60729l-0.099261 0.191358c-53.617152 101.719706-185.4282 344.830653-251.4161 405.605831C675.441443 627.988688 632.762411 645.708258 586.016761 645.708258zM911.571395 58.221006c-20.581758 0-41.566698 8.803503-59.086723 24.789593L511.818875 392.226103c-28.003797 25.580608-44.085054 62.702064-44.085054 101.81385 0 82.529645 37.585013 120.969119 118.28294 120.969119 38.72907 0 74.369801-14.951527 105.933681-44.440142l0.085958-0.078795c64.177672-59.050907 203.709565-318.870398 245.039879-397.275095 11.051707-21.711488 22.331611-47.422056 22.331611-73.579809 0-19.978007-2.436492-31.248701-7.66661-35.469839C945.624978 59.232033 931.259806 58.221006 911.571395 58.221006z"></path>\n    </svg>\n</div>\n',exports.$={terrainTools:".terrain-tools"},exports.ready=ready;const listeners={changeMode(e){exports.vm.mode=e},component(e){if(!e||e&&!e.value._asset.value.uuid)return exports.vm.changeToolMode(0),void(exports.vm.show=!1);exports.vm.show=!0}};async function update(e,t,n){if(-1!==t.indexOf("cc.Terrain")&&1===e.nodes.length){const e=n["cc.Terrain"][0];terrain_1.default.select(e.uuid)}else exports.vm.show=!1,terrain_1.default.close()}async function close(){removeListener(),terrain_1.default.close()}exports.update=update,exports.close=close,exports.default=module.exports;