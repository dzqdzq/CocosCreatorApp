"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.ready=exports.methods=exports.$=exports.template=exports.position=void 0;const Vue=require("vue/dist/vue");let panel=void 0,vm=void 0;function ready(e){(panel=this).menuName="camera-3d",panel.$scene=e.nextElementSibling,vm=new Vue({el:panel.$.container,data:{is2D:!1,showMenu:!1,camera:{}},methods:{toolbarMenu(){Editor.Message.broadcast("scene:toolbar-menu-active",panel.menuName)},setFov(e){e-=0,panel.$scene.callSceneMethod("setCameraProperty",[{fov:e}])},setFar(e){e-=0,panel.$scene.callSceneMethod("setCameraProperty",[{far:e}])},setNear(e){e-=0,panel.$scene.callSceneMethod("setCameraProperty",[{near:e}])},setColor(e){panel.$scene.callSceneMethod("setCameraProperty",[{clearColor:e}])},setWheelSpeed(e){e-=0,panel.$scene.callSceneMethod("setCameraWheelSpeed",[e])},setWanderSpeed(e){e-=0,panel.$scene.callSceneMethod("setCameraWanderSpeed",[e])},setEnableAcceleration(e){panel.$scene.callSceneMethod("setCameraEnableAcceleration",[e])}}}),Editor.Message.addBroadcastListener("scene:ready",panel.sceneReady),Editor.Message.addBroadcastListener("scene:dimension-changed",panel.dimensionChanged),Editor.Message.addBroadcastListener("scene:toolbar-menu-active",panel.toolbarMenuActive),panel.sceneReady()}function close(){Editor.Message.removeBroadcastListener("scene:ready",panel.sceneReady),Editor.Message.removeBroadcastListener("scene:dimension-changed",panel.dimensionChanged),Editor.Message.removeBroadcastListener("scene:toolbar-menu-active",panel.toolbarMenuActive)}exports.position="right",exports.template='\n<style>\n.camera3d {\n    position: relative;\n    width: 24px;\n    height: 24px;\n    box-sizing: border-box;\n    background-color: var(--color-default-fill-emphasis);\n    border-top: 1px solid var(--color-default-border-normal);\n    border-bottom: 1px solid var(--color-default-border-normal);\n    border-left: 1px solid var(--color-default-border-normal);\n    border-radius: calc(var(--size-normal-radius) * 2px) 0 0 calc(var(--size-normal-radius) * 2px);\n}\n\n.camera3d > ui-button {\n    margin-top: -1px;\n    margin-left: -1px;\n    border-radius: calc(var(--size-normal-radius) * 2px) 0 0 calc(var(--size-normal-radius) * 2px);\n}\n\n.camera3d[style-2d] {\n    border-left: none;\n    margin-left: 0;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n}\n\n.camera3d[style-2d] > ui-button {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n}\n\n.camera3d .popup {\n    position: absolute;\n    top: 30px;\n    right: 0;\n    z-index: 2;\n    padding: 10px 10px 5px 10px;\n    width: 210px;\n    background-color: var(--color-normal-fill);\n    border-radius: calc(var(--size-normal-radius) * 2px);\n    border: 1px solid var(--color-normal-fill-weakest);\n}\n\n.camera3d .popup ui-prop {\n    margin-bottom: 5px;\n    --left-width: 40%;\n    --left-width: 40%;\n}\n.camera3d .popup ui-prop ui-slider {\n    --ui-slider-bar-width: 55%;\n}\n</style>\n<div class="camera3d"\n    :style-2d="is2D"\n>\n    <ui-button type="icon" class="transparent" \n        @click.stop="toolbarMenu"\n    >\n        <ui-icon value="camera"></ui-icon>\n    </ui-button>\n    <div class="popup"\n        v-show="showMenu"\n        @click.stop\n    >\n        <ui-prop>\n            <ui-label slot="label" value="i18n:scene.editor_camera.fov" tooltip="i18n:scene.editor_camera.fovTip"></ui-label>\n            <ui-slider slot="content" min="0.01" max="179"\n                :value="camera.fov"\n                @change="setFov($event.target.value)"\n            >\n            </ui-slider>\n        </ui-prop>\n        <ui-prop>\n            <ui-label slot="label" value="i18n:scene.editor_camera.far" tooltip="i18n:scene.editor_camera.farTip"></ui-label>\n            <ui-num-input slot="content" min="0.01"\n                :value="camera.far"\n                @change="setFar($event.target.value)"\n            >\n            </ui-num-input>\n        </ui-prop>\n        <ui-prop>\n            <ui-label slot="label" value="i18n:scene.editor_camera.near" tooltip="i18n:scene.editor_camera.nearTip"></ui-label>\n            <ui-num-input slot="content" min="0.01"\n                :value="camera.near"\n                @change="setNear($event.target.value)"\n            >\n            </ui-num-input>\n        </ui-prop>\n        <ui-prop>\n            <ui-label slot="label" value="i18n:scene.editor_camera.color" tooltip="i18n:scene.editor_camera.colorTip"></ui-label>\n            <ui-color slot="content"\n                :value="JSON.stringify(camera.color)"\n                @change="setColor($event.target.value)"\n            ></ui-color>\n        </ui-prop>\n        <ui-prop>\n            <ui-label slot="label" value="i18n:scene.editor_camera.wheel" tooltip="i18n:scene.editor_camera.wheelTip"></ui-label>\n            <ui-num-input slot="content" min="0.000001" max="100" step="0.01"\n                :value="camera.wheelSpeed"\n                @change="setWheelSpeed($event.target.value)"\n            ></ui-num-input>\n        </ui-prop>\n        <ui-prop>\n            <ui-label slot="label" value="i18n:scene.editor_camera.wander" tooltip="i18n:scene.editor_camera.wanderTip"></ui-label>\n            <ui-num-input slot="content" min="0.01" max="100" step="0.1"\n                :value="camera.wanderSpeed"\n                @change="setWanderSpeed($event.target.value)"\n            ></ui-num-input>\n        </ui-prop>\n        <ui-prop>\n            <ui-label slot="label" value="i18n:scene.editor_camera.enableAcceleration" tooltip="i18n:scene.editor_camera.enableAccelerationTip"></ui-label>\n            <ui-checkbox slot="content"\n                :value="camera.enableAcceleration"\n                @change="setEnableAcceleration($event.target.value)"\n            ></ui-checkbox>\n        </ui-prop>\n    </div>\n</div>\n',exports.$={container:".camera3d"},exports.methods={dimensionChanged(e){vm.is2D=e},async sceneReady(){const e=await Editor.Message.request("scene","query-is2D");panel.dimensionChanged(e)},toolbarMenuActive(e){e!==panel.menuName||vm.showMenu?vm.showMenu&&(vm.showMenu=!1):(vm.showMenu=!0,panel.cameraConfig())},async cameraConfig(){const e=await panel.$scene.callSceneMethod("getCameraProperty"),n=await panel.$scene.callSceneMethod("getCameraWheelSpeed"),a=await panel.$scene.callSceneMethod("getCameraWanderSpeed"),r=await panel.$scene.callSceneMethod("getCameraEnableAcceleration");vm.$set(vm,"camera",{fov:e.fov,far:e.far,near:e.near,color:e.clearColor,wheelSpeed:n,wanderSpeed:a,enableAcceleration:r})}},exports.ready=ready,exports.close=close,exports.default=module.exports;