"use strict";function update(e){this._dump=e,this.refreshSocketPathList(),this.$.select.value=e.value.path.value,this.$.node.value=e.value.target.value.uuid}function ready(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ready=exports.update=exports.methods=exports.$=exports.template=exports.listeners=void 0,exports.listeners={change(e){const t=this,a=e.target.getAttribute("local"),u=e.target.value;switch(a){case"path":t._dump.value.path.value=u,"values"in t._dump&&t._dump.values.forEach(e=>{e.path.value=u});break;case"target":t._dump.value.target.value={uuid:u},"values"in t._dump&&t._dump.values.forEach(e=>{e.target.value={uuid:u}})}}},exports.template='\n<ui-label slot="label"></ui-label>\n<ui-prop>\n    <ui-label slot="label">Path</ui-label>\n    <ui-select slot="content" local="path"></ui-select>\n</ui-prop>\n<ui-prop dump="cc.Asset">\n    <ui-label slot="label">Target</ui-label>\n    <ui-node droppable="cc.Node" slot="content" local="target"></ui-node>\n</ui-prop>\n',exports.$={label:"ui-label",select:"ui-select",node:"ui-node"},exports.methods={findComponent(){let e=this.$this;do{if((e=e.parentElement||e.getRootNode().host)&&e.dump&&-1!==e.dump.extends.indexOf("cc.Component"))break}while(e);return e},async refreshSocketPathList(){const e=this.findComponent().dump.value.uuid.value,t=await Editor.Message.request("scene","execute-component-method",{uuid:e,name:"querySockets",args:[]});let a="";if(t)for(const e of t)a+=`<option value="${e}">${e}</option>`;this.$.select.innerHTML=a}},exports.update=update,exports.ready=ready;