"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ready=exports.update=exports.$=exports.template=exports.listeners=void 0;const lodash_1=require("lodash"),tagName={select:"UI-SELECT",radio:"UI-RADIO-GROUP"};function updateContent(e,t,n){var o;let l=e.querySelector("[slot=content]");if(null!=l&&l.tagName!==t&&(null===(o=l.parentElement)||void 0===o||o.removeChild(l)),null==l||l.tagName!==t){const t=n(!1);e.insertAdjacentHTML("beforeend",t),l=e.lastElementChild}else l.innerHTML=n(!0);return l}function renderSelect(e,t){var n,o;const l=e.$this;let a="";if(t.enumList)for(const e of t.enumList)a+=`<option value="${e.value}">${(0,lodash_1.escape)(e.name)}</option>`;const r=updateContent(l,tagName.select,e=>e?a:`<ui-select slot="content">${a}</ui-select>`);return r.value!==(null===(n=t.value)||void 0===n?void 0:n.toString())&&(r.value=null===(o=t.value)||void 0===o?void 0:o.toString()),r}function renderRadioGroup(e,t){var n,o;const l=e.$this;let a="";if(t.enumList)for(const e of t.enumList)a+=`<ui-radio-button value="${e.value}">${(0,lodash_1.escape)(e.name)}</ui-radio-button>`;const r=updateContent(l,tagName.radio,e=>e?a:`<ui-radio-group slot="content">\n${a}</ui-radio-group>`);return r.innerHTML=a,r.value!==(null===(n=t.value)||void 0===n?void 0:n.toString())&&(r.value=null===(o=t.value)||void 0===o?void 0:o.toString()),r}function renderContent(e,t){return!0===t.radioGroup?renderRadioGroup(e,t):renderSelect(e,t)}function update(e){const t=this;t._dump=e;const n=t.$this.renderInfo.panel,o=t.$.label;n.setLabel(e,o);const l=renderContent(t,e);t.$.content!==l&&(t.$.content=l),n.setInvalid(e,l),n.setReadonly(e,l)}function ready(){}exports.listeners={change(e){const t=this;let n=e.target.value;isFinite(n)&&(n-=0),t._dump.value=n,"values"in t._dump&&t._dump.values.forEach((e,o)=>{t._dump.values[o]=n})}},exports.template='\n<ui-label slot="label"></ui-label>\n<ui-select slot="content"></ui-select>\n',exports.$={label:"ui-label",content:'[slot="content"]'},exports.update=update,exports.ready=ready;