"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ready=exports.update=exports.methods=exports.$=exports.template=void 0;const modeTransformMap={"0 -> 2":["color","colorMin"],"2 -> 0":["colorMin","color"],"1 -> 3":["gradient","gradientMin"],"3 -> 1":["gradientMin","gradient"]};function update(e){this._dump=e;const t=this.$this,o=this.$.label;t.setLabel(o,e),this.updateProps()}function ready(){const e=this;e.$.mode.addEventListener("click",()=>{Editor.Menu.popup({menu:e._dump.value.mode.enumList.map(t=>({label:t.name,type:"radio",enabled:!e._dump.readonly,checked:t.value===e._dump.value.mode.value,click(){const o=modeTransformMap[`${e._dump.value.mode.value} -> ${t.value}`];e._dump.value.mode.value=t.value,o&&(e._dump.value[o[1]].value=e._dump.value[o[0]].value),"values"in e._dump&&(e._dump.values.forEach(e=>{e.mode.value=t.value,o&&(e[o[1]].value=e[o[0]].value)}),e._dump.value.mode.values=e._dump.value.mode.values.map(e=>t.value)),e.$.mode.dump=e._dump.value.mode,e.updateProps();const a=document.createEvent("HTMLEvents");if(a.initEvent("change-dump",!0,!0),o){Array.from(e.$.section.querySelectorAll("ui-prop"))[0].dispatchEvent(a)}e.$.mode.dispatchEvent(a)}}))})})}exports.template='\n<ui-label slot="label"></ui-label>\n<section slot="content"></section>\n<ui-icon value="arrow-triangle" slot="content" style="flex: none;"></ui-icon>\n',exports.$={label:"ui-label",section:"section",mode:"ui-icon"},exports.methods={updateProps(){const e=this,t=e._dump;if(t.values&&t.values.some(e=>e.mode.value!==t.value.mode.value))return void(e.$.section.innerText="Cannot edit different types");const o=Array.from(e.$.section.querySelectorAll("ui-prop"));switch(o.length||(e.$.section.innerText=""),t.value.mode.value){case 0:o[0]||(o[0]=document.createElement("ui-prop"),o[0].setAttribute("type","dump"),o[0].setAttribute("no-label",""),e.$.section.appendChild(o[0])),o[0].render(t.value.color),o[1]&&e.$.section.removeChild(o[1]);break;case 1:o[0]||(o[0]=document.createElement("ui-prop"),o[0].setAttribute("type","dump"),o[0].setAttribute("no-label",""),e.$.section.appendChild(o[0])),o[0].render(t.value.gradient),o[1]&&e.$.section.removeChild(o[1]);break;case 2:o[0]||(o[0]=document.createElement("ui-prop"),o[0].setAttribute("type","dump"),o[0].setAttribute("no-label",""),e.$.section.appendChild(o[0])),o[0].render(t.value.colorMin),o[1]||(o[1]=document.createElement("ui-prop"),o[1].setAttribute("type","dump"),o[1].setAttribute("no-label",""),o[1].style.marginTop="4px",e.$.section.appendChild(o[1])),o[1].render(t.value.colorMax);break;case 3:o[0]||(o[0]=document.createElement("ui-prop"),o[0].setAttribute("type","dump"),o[0].setAttribute("no-label",""),e.$.section.appendChild(o[0])),o[0].render(t.value.gradientMin),o[1]||(o[1]=document.createElement("ui-prop"),o[1].setAttribute("type","dump"),o[1].setAttribute("no-label",""),o[1].style.marginTop="4px",e.$.section.appendChild(o[1])),o[1].render(t.value.gradientMax);break;case 4:o[0]||(o[0]=document.createElement("ui-prop"),o[0].setAttribute("type","dump"),o[0].setAttribute("no-label",""),e.$.section.appendChild(o[0])),o[0].render(t.value.gradient),o[1]&&e.$.section.removeChild(o[1])}}},exports.update=update,exports.ready=ready;