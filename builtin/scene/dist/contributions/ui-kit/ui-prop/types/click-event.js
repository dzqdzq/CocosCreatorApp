"use strict";function update(e){this._dump=e;const t=this.$this;t.setAttribute("no-label",""),this.$.node.value=e.value.target.value.uuid,this.$.select[0].value=e.value._componentId.value,this.$.select[1].value=e.value.handler.value,this.$.input.value=e.value.customEventData.value;const n=e.value.target.value.uuid;this.updateComponentList(n),t.setReadonly(e,this.$.node),t.setReadonly(e,this.$.select[0]),t.setReadonly(e,this.$.select[1]),t.setReadonly(e,this.$.input)}function ready(){const e=this;e.$.button.addEventListener("click",async()=>{e.updateComponentList(e.$.node.value)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ready=exports.update=exports.methods=exports.$=exports.template=exports.style=exports.listeners=void 0,exports.listeners={change(e){const t=this;switch(e.target.getAttribute("local")){case"node":t._dump.value.target.value.uuid=e.target.value,t.updateComponentList(e.target.value);break;case"component":t._dump.value._componentId.value=e.target.value,t.updateComponentList(t._dump.value.target.value.uuid);break;case"function":t._dump.value.handler.value=e.target.value;break;case"param":t._dump.value.customEventData.value=e.target.value}}},exports.style="",exports.template='\n<style>\n.click-event-line { display: flex; margin-top: 4px; }\n.click-event-line > * { flex: 1; margin-right: 4px; }\n.click-event-line > *:last-child { flex: 1; margin-right: 0; }\n.click-event-line >  ui-button.transparent { flex: none; width: 36px; }\n.click-event-line > span { flex: none; }\n.click-event-top { margin-top: 10px; }\n</style>\n<div class="click-event-line click-event-top">\n    <ui-node droppable="cc.Node" local="node"></ui-node>\n    <ui-select local="component"></ui-select>\n    <ui-select local="function"></ui-select>\n    <ui-button class="transparent" tooltip="Refresh Methods">\n        <ui-icon value="refresh"></ui-icon>\n    </ui-button>\n</div>\n<div class="click-event-line">\n    <span>CustomEventData</span>\n    <ui-input local="param"></ui-input>\n</div>\n',exports.$={node:"ui-node",select:"ui-select",input:"ui-input",button:"ui-button"},exports.methods={async updateComponentList(e){const t=this,n=e?await Editor.Message.request("scene","query-node",e):null;if(!n)return t.$.select[0].innerHTML="",void(t.$.select[1].innerHTML="");let a="",l="";n.__comps__.forEach(e=>{a+=`<option value="${e.cid}">${e.type}</option>`,e.cid===t._dump.value._componentId.value&&(l=e.type)}),t.$.select[0].innerHTML=a;const i=e?await Editor.Message.request("scene","query-component-function-of-node",e):null;if(!i||!l)return void(t.$.select[1].innerHTML="");let o="";i[l]&&i[l].forEach(e=>{o+=`<option value="${e}">${e}</option>`}),t.$.select[1].innerHTML=o}},exports.update=update,exports.ready=ready;