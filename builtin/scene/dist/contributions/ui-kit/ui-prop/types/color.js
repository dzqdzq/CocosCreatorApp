"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const utils_1=require("../utils"),dum_element_base_1=require("../dum-element-base");class Color extends dum_element_base_1.DumpElementBase{constructor(){super(...arguments),this.type=["cc.Color"],this.$color=null,this._listeners=["change","cancel"],this.template=`
        <ui-label slot="label"></ui-label>
        <ui-color slot="content"></ui-color>
    `,this.style=""}parseAndSetData(e,t){const{r:l,g:a,b:r,a:s}=e;return t.value.r=Number(l),t.value.g=Number(a),t.value.b=Number(r),t.value.a=Number(s),Reflect.has(t,"values")&&t.values.forEach(e=>{e.r=l,e.g=a,e.b=r,e.a=s}),!0}change(e,t){var l,a,r,s;e.target&&(e=e.target.value)&&([l,a,r,s]=e,e)&&this.parseAndSetData({r:l,g:a,b:r,a:s},t)}cancel(e,t){this.change(e,t)}mounted(e){this.$color=e.querySelector("ui-color")}ready(){super.ready()}update(e){if(super.update(e),this.$color){const t=e.value;this.$color.value=JSON.stringify([t.r,t.g,t.b,t.a]),e.values&&e.values.some(e=>e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a)?this.$color.invalid=!0:this.$color.invalid=!1,(0,utils_1.setElementReadonly)(e,this.$color)}}}exports.default=Color;