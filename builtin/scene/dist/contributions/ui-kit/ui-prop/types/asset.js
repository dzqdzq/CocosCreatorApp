"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const utils_1=require("../utils"),dum_element_base_1=require("../dum-element-base");class Asset extends dum_element_base_1.DumpElementBase{constructor(){super(...arguments),this.type=["cc.Asset"],this.$asset=null,this._listeners=["change"],this.template=`
        <ui-label slot="label"></ui-label>
        <ui-asset slot="content"></ui-asset>
    `,this.style=""}parseAndSetData(t,e){return e.value.uuid=t.uuid,Reflect.has(e,"values")&&e.values.forEach(e=>{e.uuid=t.uuid}),!0}change(e,t){e.target&&void 0!==(e=e.target.value)&&this.parseAndSetData({uuid:e},t)}mounted(e){this.$asset=e.querySelector("ui-asset")}ready(){super.ready()}update(e){if(super.update(e),this.$parentElement&&this.$asset){var t=this.$parentElement.getAttribute("array-type")||e.type||"";t&&this.$asset.setAttribute("droppable",t),void 0!==e.default&&this.$asset.setAttribute("default",String(e.default));const s=e.value;this.$asset.value=s.uuid,e.values&&e.values.some(e=>e.uuid!==s.uuid)?this.$asset.invalid=!0:this.$asset.invalid=!1,(0,utils_1.setElementReadonly)(e,this.$asset)}}}exports.default=Asset;