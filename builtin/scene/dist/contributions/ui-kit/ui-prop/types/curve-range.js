"use strict";function update(e){this._dump=e;const a=this.$this,t=this.$.label;a.setLabel(t,e),this.updateProps()}function ready(){const e=this;e.$.mode.addEventListener("click",()=>{Editor.Menu.popup({menu:e._dump.value.mode.enumList.map(a=>({label:a.name,type:"radio",enabled:!e._dump.readonly,checked:a.value===e._dump.value.mode.value,click(){e._dump.value.mode.value=a.value,e.$.mode.dump=e._dump.value.mode;const t=document.createEvent("HTMLEvents");t.initEvent("change-dump",!0,!0),e.$.mode.dispatchEvent(t),e.updateProps()}}))})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ready=exports.update=exports.methods=exports.$=exports.template=void 0,exports.template='\n<ui-label slot="label"></ui-label>\n<section slot="content"></section>\n<ui-icon value="arrow-triangle" slot="content" style="flex: none;"></ui-icon>\n',exports.$={label:"ui-label",section:"section",mode:"ui-icon"},exports.methods={updateProps(){const e=this,a=e._dump,t={multiplier:a.value.multiplier.value,min:a.min,max:a.max,radian:a.radian},n={min:a.min,max:a.max,radian:a.radian},i=Array.from(e.$.section.children);switch(a.value.mode.value){case 0:Object.assign(a.value.constant,n),e.renderPropData(a.value.constant,i[0]),i[1]&&e.$.section.removeChild(i[1]);break;case 1:Object.assign(a.value.curve.value,t),a.value.curve.displayName=`${a.name}.${a.value.curve.name}`;const u=e.renderPropData(a.value.curve,i[0]);this.bindEventListener(u,a.value.curve.path),i[1]&&e.$.section.removeChild(i[1]);break;case 2:a.value.curveMin.displayName=`${a.name}.${a.value.curveMin.name}`,a.value.curveMax.displayName=`${a.name}.${a.value.curveMax.name}`,Object.assign(a.value.curveMin.value,t),Object.assign(a.value.curveMax.value,t);const r=e.renderPropData(a.value.curveMin,i[0]),s=e.renderPropData(a.value.curveMax,i[1]);this.bindEventListener(r,a.value.curveMin.path),this.bindEventListener(s,a.value.curveMax.path);break;case 3:Object.assign(a.value.constantMin,n),Object.assign(a.value.constantMax,n),e.renderPropData(a.value.constantMin,i[0]),e.renderPropData(a.value.constantMax,i[1])}},bindEventListener(e,a){if(e.__bind)return;const t=this.$this;e.addEventListener("animation-curve-change",e=>{const{value:n,path:i}=e.detail;i===a&&(this._dump.value.multiplier.value=n.multiplier,e.stopPropagation(),e.preventDefault(),t.dispatch("change"))}),e.__bind=!0},renderPropData(e,a){const t=this;return a||((a=document.createElement("ui-prop")).setAttribute("type","dump"),a.setAttribute("no-label",""),t.$.section.appendChild(a)),a.render(e),a}},exports.update=update,exports.ready=ready;