"use strict";function update(e){const t=this,s=t.$this;let r="root",o=s.parentElement;for(;o;){if(o.hasAttribute("cache-expand")){r=o.getAttribute("cache-expand");break}o=o.parentElement}const a=e.path||`${e.name}:${e.type}`;t.$.container.setAttribute("cache-expand",`${r}-${a}`);const n=t.$.label;s.setLabel(n,e);const p=t.$.help;e.help&&(p.value=e.help,p.style.display="flex"),s.setAttribute("no-label","");const i=t.$.section,l=Object.keys(t.$propList),d=[];Object.keys(e.value).forEach((r,o)=>{var a,n;const p=e.value[r];if(!p.visible)return;e.values&&(p.values=e.values.map(e=>e[r].value));const l=p.path||`${p.name}:${p.type}`;d.push(l);let u=t.$propList[l];if(u){if(!u.isConnected||!u.parentElement)if(p.group&&e.groups){const{id:e="default",name:s}=p.group;t.appendChildByDisplayOrder(t.$groups[e].tabs[s],u)}else t.appendChildByDisplayOrder(i,u)}else{(u=document.createElement("ui-prop")).setAttribute("type","dump"),t.$propList[l]=u;const s=null!==(n=null===(a=p.group)||void 0===a?void 0:a.displayOrder)&&void 0!==n?n:p.displayOrder;if(u.displayOrder=void 0===s?o:Number(s),p.group&&e.groups){const{id:s="default",name:r}=p.group;!t.$groups[s]&&e.groups[s]&&"tab"===e.groups[s].style&&(t.$groups[s]=t.createTabGroup(e.groups[s])),t.$groups[s]&&(t.$groups[s].isConnected||t.appendChildByDisplayOrder(i,t.$groups[s]),"tab"===e.groups[s].style&&t.appendToTabGroup(t.$groups[s],r)),t.appendChildByDisplayOrder(t.$groups[s].tabs[r],u)}else t.appendChildByDisplayOrder(i,u)}u.render(p),s.setReadonly(p,u)});for(const e of l)if(!d.includes(e)){const s=t.$propList[e];s&&s.parentElement&&s.parentElement.removeChild(s)}t.toggleGroups(t.$groups)}function ready(){this.$propList={},this.$groups={},this.$.help.addEventListener("click",e=>{e.stopPropagation()})}function close(){const e=this;for(const t in e.$groups)e.$groups[t].remove();e.$groups={}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.ready=exports.update=exports.methods=exports.$=exports.template=void 0,exports.template='\n<ui-section expand>\n    <div slot="header" style="display: flex; width: 100%; justify-content: space-between;">\n        <ui-label style="white-space: nowrap;"></ui-label>\n        <ui-link style="display: none" tooltip="i18n:scene.menu.help_url">\n            <ui-icon value="help"><ui-icon>\n        </ui-link>\n    </div>\n    <section></section>\n</ui-section>\n',exports.$={container:"ui-section",label:"ui-label",help:"ui-link",section:"section"},exports.methods={createTabGroup(e){const t=document.createElement("div");function s(e){const s=Object.keys(t.tabs)[e];t.childNodes.forEach(e=>{e.classList.contains("tab-content")&&(e.getAttribute("name")===s?e.style.display="block":e.style.display="none")})}return t.setAttribute("class","tab-group"),t.dump=e,t.tabs={},t.displayOrder=e.displayOrder,t.$header=document.createElement("ui-tab"),t.$header.setAttribute("class","tab-header"),t.appendChild(t.$header),t.$header.addEventListener("change",e=>{s(e.target.value)}),setTimeout(()=>{s(0)}),t},toggleGroups(e){for(const t in e){Array.from(e[t].querySelectorAll(".tab-content > ui-prop")).some(e=>"none"!==getComputedStyle(e).display)?e[t].removeAttribute("hidden"):e[t].setAttribute("hidden","")}},appendToTabGroup(e,t){if(e.tabs[t])return;const s=document.createElement("div");e.tabs[t]=s,s.setAttribute("class","tab-content"),s.setAttribute("name",t),e.appendChild(s);const r=document.createElement("ui-label");r.value=this.getName(t);const o=document.createElement("ui-button");o.setAttribute("name",t),o.appendChild(r),e.$header.appendChild(o)},appendChildByDisplayOrder(e,t){const s=t.displayOrder||0,r=Array.from(e.children).find(e=>e.dump&&e.displayOrder>s?e:null);r?r.before(t):e.appendChild(t)},getName:(e="")=>(e=(e=(e=(e=e.trim().replace(/^\S/,e=>e.toUpperCase())).replace(/_/g," ")).replace(/ \S/g,e=>` ${e.toUpperCase()}`)).replace(/([a-z])([A-Z])/g,"$1 $2")).trim()},exports.update=update,exports.ready=ready,exports.close=close;