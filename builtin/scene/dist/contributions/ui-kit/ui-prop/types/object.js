"use strict";function update(e){const t=this,s=t.$this;let r="root",n=s.parentElement;for(;n;){if(n.hasAttribute("cache-expand")){r=n.getAttribute("cache-expand");break}n=n.parentElement}const o=e.path||`${e.name}:${e.type}`;t.$.container.setAttribute("cache-expand",`${r}-${o}`);const a=t.$.label;s.setLabel(a,e);const p=t.$.help;e.help&&(p.value=e.help,p.style.display="flex"),s.setAttribute("no-label","");const i=t.$.section,l=Object.keys(t.$propList),d=[];for(const s in e.value){const r=e.value[s];if(!r.visible)continue;e.values&&(r.values=e.values.map(e=>e[s].value));const n=r.path||`${r.name}:${r.type}`;d.push(n);let o=t.$propList[n];if(o)o.isConnected&&o.parentElement||t.appendChildByDisplayOrder(i,o,r.displayOrder);else if((o=document.createElement("ui-prop")).setAttribute("type","dump"),t.$propList[n]=o,r.group&&e.groups){const s=r.group.id||"default",n=r.group.name;!t.$groups[s]&&e.groups[s]&&"tab"===e.groups[s].style&&(t.$groups[s]=t.createTabGroup(e.groups[s])),t.$groups[s]&&(t.$groups[s].isConnected||t.appendChildByDisplayOrder(i,t.$groups[s],e.groups[s].displayOrder),"tab"===e.groups[s].style&&t.appendToTabGroup(t.$groups[s],n)),t.appendChildByDisplayOrder(t.$groups[s].tabs[n],o,r.displayOrder)}else t.appendChildByDisplayOrder(i,o,r.displayOrder);o.render(r)}for(const e of l)if(!d.includes(e)){const s=t.$propList[e];s&&s.parentElement&&s.parentElement.removeChild(s)}}function ready(){this.$propList={},this.$groups={}}async function close(){const e=this;for(const t in e.$groups)e.$groups[t].remove();e.$groups=void 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.ready=exports.update=exports.methods=exports.$=exports.template=void 0,exports.template='\n<ui-section expand>\n    <div slot="header" style="display: flex; width: 100%; justify-content: space-between;">\n        <ui-label></ui-label>\n        <ui-link style="display: none">\n            <ui-icon value="help"><ui-icon>\n        </ui-link>\n    </div>\n    <section></section>\n</ui-section>\n',exports.$={container:"ui-section",label:"ui-label",help:"ui-link",section:"section"},exports.methods={createTabGroup(e){const t=document.createElement("div");return t.setAttribute("class","tab-group"),t.dump=e,t.tabs={},t.$header=document.createElement("ui-tab"),t.$header.setAttribute("class","tab-header"),t.appendChild(t.$header),t.$header.addEventListener("change",e=>{const s=Object.keys(t.tabs)[e.target.value||0];t.querySelectorAll(".tab-content").forEach(e=>{e.getAttribute("name")===s?e.style.display="block":e.style.display="none"})}),setTimeout(()=>{const e=t.$header.shadowRoot.querySelector("ui-button");e&&e.dispatch("confirm")}),t},appendToTabGroup(e,t){if(e.tabs[t])return;const s=document.createElement("div");e.tabs[t]=s,s.setAttribute("class","tab-content"),s.setAttribute("name",t),e.appendChild(s);const r=document.createElement("ui-label");r.value=t;const n=document.createElement("ui-button");n.setAttribute("name",t),n.appendChild(r),e.$header.appendChild(n)},appendChildByDisplayOrder(e,t,s=0){const r=Array.from(e.children).find(e=>{if(e.dump&&e.dump.displayOrder>s)return e});r?r.before(t):e.appendChild(t)}},exports.update=update,exports.ready=ready,exports.close=close;