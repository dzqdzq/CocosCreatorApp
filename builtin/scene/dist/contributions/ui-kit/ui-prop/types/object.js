"use strict";function update(e){const t=this,r=t.$this;let s="root",o=r.parentElement;for(;o;){if(o.hasAttribute("cache-expand")){s=o.getAttribute("cache-expand");break}o=o.parentElement}const a=e.path||`${e.name}:${e.type}`;t.$.container.setAttribute("cache-expand",`${s}-${a}`);const n=t.$.label;r.setLabel(n,e),r.setAttribute("no-label","");const p=t.$.section,i=Object.keys(t.$propList),d=[];for(const r in e.value){const s=e.value[r];if(!s.visible)continue;e.values&&(s.values=e.values.map(e=>e[r].value));const o=s.path||`${s.name}:${s.type}`;d.push(o);let a=t.$propList[o];if(a)a.isConnected&&a.parentElement||t.appendChildByDisplayOrder(p,a,s.displayOrder);else if((a=document.createElement("ui-prop")).setAttribute("type","dump"),t.$propList[o]=a,s.group&&e.groups){const r=s.group.id||"default",o=s.group.name;!t.$groups[r]&&e.groups[r]&&"tab"===e.groups[r].style&&(t.$groups[r]=t.createTabGroup(e.groups[r])),t.$groups[r]&&(t.$groups[r].isConnected||t.appendChildByDisplayOrder(p,t.$groups[r],e.groups[r].displayOrder),"tab"===e.groups[r].style&&t.appendToTabGroup(t.$groups[r],o)),t.appendChildByDisplayOrder(t.$groups[r].tabs[o],a,s.displayOrder)}else t.appendChildByDisplayOrder(p,a,s.displayOrder);a.render(s)}for(const e of i)if(!d.includes(e)){const r=t.$propList[e];r&&r.parentElement&&r.parentElement.removeChild(r)}}function ready(){this.$propList={},this.$groups={}}async function close(){const e=this;for(const t in e.$groups)e.$groups[t].remove();e.$groups=void 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.ready=exports.update=exports.methods=exports.$=exports.template=void 0,exports.template='\n<ui-section expand>\n    <ui-label slot="header"></ui-label>\n    <section></section>\n</ui-section>\n',exports.$={container:"ui-section",label:"ui-label",section:"section"},exports.methods={createTabGroup(e){const t=document.createElement("div");return t.setAttribute("class","tab-group"),t.dump=e,t.tabs={},t.$header=document.createElement("ui-tab"),t.$header.setAttribute("class","tab-header"),t.appendChild(t.$header),t.$header.addEventListener("change",e=>{const r=Object.keys(t.tabs)[e.target.value||0];t.querySelectorAll(".tab-content").forEach(e=>{e.getAttribute("name")===r?e.style.display="block":e.style.display="none"})}),setTimeout(()=>{const e=t.$header.shadowRoot.querySelector("ui-button");e&&e.dispatch("confirm")}),t},appendToTabGroup(e,t){if(e.tabs[t])return;const r=document.createElement("div");e.tabs[t]=r,r.setAttribute("class","tab-content"),r.setAttribute("name",t),e.appendChild(r);const s=document.createElement("ui-label");s.value=t;const o=document.createElement("ui-button");o.setAttribute("name",t),o.appendChild(s),e.$header.appendChild(o)},appendChildByDisplayOrder(e,t,r=0){const s=Array.from(e.children).find(e=>{if(e.dump&&e.dump.displayOrder>r)return e});s?s.before(t):e.appendChild(t)}},exports.update=update,exports.ready=ready,exports.close=close;