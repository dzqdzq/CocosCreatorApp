"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.methods=void 0;const sort_plugin_scripts_1=require("@editor/lib-programming/dist/executor/sort-plugin-scripts");exports.methods={async queryPluginScripts(){const e=[],s={};return(await Manager.Utils.queryAssets({ccType:"cc.Script"})).map(async t=>{const r=await Manager.Utils.queryAssetMeta(t.uuid);if(!r.userData||!r.userData.isPlugin||!r.userData.loadPluginInEditor)return;const i=t.library[".js"];i?(e.push([t.uuid,(0,sort_plugin_scripts_1.getPluginScriptDependencies)(r.userData)]),s[t.uuid]={file:i,source:t.source}):console.warn(`Plugin Script ${t.source} is not successfully imported, it will not be load therefor.`)}),{pluginScriptDependencyMap:e,scriptFileMap:s}}};