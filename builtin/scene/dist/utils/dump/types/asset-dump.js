"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assetDump=void 0;const{promisify:promisify}=require("util");class AssetDump{encode(e,u,s){u.value={uuid:e&&e._uuid||""}}async decode(e,u,s,a){try{if(Array.isArray(s.value)){const a=[];for(let e=0;e<s.value.length;e++){const u=s.value[e];u&&u.value.uuid&&!u.value.uuid.startsWith("ui-")?a[e]=await promisify(cc.assetManager.loadAny)(u.value.uuid):a[e]=null}e[u.key]=a}else s.value&&s.value.uuid&&!s.value.uuid.startsWith("ui-")?e[u.key]=await promisify(cc.assetManager.loadAny)(s.value.uuid):e[u.key]=null}catch(e){console.error(e)}}}exports.assetDump=new AssetDump;