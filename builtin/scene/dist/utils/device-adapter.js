"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceAdapter=void 0;const MaxScale=4,MinScale=.1;class DeviceAdapter{constructor(){this._screenWidth=1500,this._screenHeight=1e3,this._scale=1,this._enable=!1,this._engineWidth=0,this._engineHeight=0}get screenWidth(){return this._screenWidth}set screenWidth(e){this._screenWidth=e}get screenHeight(){return this._screenHeight}set screenHeight(e){this._screenHeight=e}get width(){return this._engineWidth}set width(e){this._engineWidth=e}get height(){return this._engineHeight}set height(e){this._engineHeight=e}get scale(){return this._scale}get enable(){return this._enable}set enable(e){this._enable=e}_limitScale(){this._scale>MaxScale?(console.warn("preview:the biggest scale is 400%"),this._engineWidth*=MaxScale/this._scale,this._engineHeight*=MaxScale/this._scale,this._scale=MaxScale):this._scale<MinScale&&(console.warn("preview:the smallest scale is 10%"),this._engineWidth*=MinScale/this._scale,this._engineHeight*=MinScale/this._scale,this._scale=MinScale)}fitScreen(e,i,t=!1,s=!1,h=1){if(e/=window.devicePixelRatio,i/=window.devicePixelRatio,t){const t=s?i:e,h=s?e:i,n=this._screenWidth,c=this._screenHeight,_=t/h;_>n/c?(this._engineWidth=n,this._engineHeight=n/_,this._scale=this._engineWidth/t):(this._engineHeight=c,this._engineWidth=c*_,this._scale=this._engineHeight/h),this._limitScale()}else{const t=s?i:e,n=s?e:i;this._engineWidth=t*h,this._engineHeight=n*h,this._scale=h}}ratioToSize(e,i){const t=this._screenWidth,s=this._screenHeight,h=e/i;let n=0,c=0;return h>t/s?(n=t,c=t/h):(c=s,n=s*h),{width:n,height:c}}reset(e,i){this._engineHeight=i,this._engineWidth=e,this._screenHeight=i,this._screenWidth=e,this._scale=1}get deltaX(){return this._enable?(this._screenWidth-this._engineWidth)/2:0}get deltaY(){return this._enable?(this._screenHeight-this._engineHeight)/2:0}}const da=new DeviceAdapter;exports.DeviceAdapter=da;