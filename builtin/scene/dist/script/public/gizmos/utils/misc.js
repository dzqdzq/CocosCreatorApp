"use strict";var __importDefault=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(exports,"__esModule",{value:!0});const external_1=__importDefault(require("./external")),cc_1=require("cc"),NodeUtils=external_1.default.NodeUtils,EditorMath=external_1.default.EditorMath,tempVec3_a=new cc_1.Vec3;class GizmosUtils{getCenter(l){let e=this.getCenterWorldPos(l);return cc.director.getScene().convertToNodeSpace(e)}getCenterWorldPos(l){for(var e=null,t=null,r=null,n=null,u=0;u<l.length;++u){for(var o,i=l[u],a=NodeUtils.getWorldOrientedBounds(i),s=0;s<a.length;++s)o=a[s],(null===e||o.x<e)&&(e=o.x),(null===r||o.x>r)&&(r=o.x),(null===t||o.y<t)&&(t=o.y),(null===n||o.y>n)&&(n=o.y);o=NodeUtils.getWorldPosition3D(i),(!e||o.x<e)&&(e=o.x),(!r||o.x>r)&&(r=o.x),(!t||o.y<t)&&(t=o.y),(!n||o.y>n)&&(n=o.y)}var d=.5*(e+r),c=.5*(t+n);return cc.v2(d,c)}getCenterWorldPos3D(l,e){for(var t=null,r=null,n=null,u=null,o=null,i=null,a=0;a<l.length;++a){for(var s,d=l[a],c=NodeUtils.getWorldOrientedBounds(d),x=0;x<c.length;++x)s=c[x],(null===t||s.x<t)&&(t=s.x),(null===u||s.x>u)&&(u=s.x),(null===r||s.y<r)&&(r=s.y),(null===o||s.y>o)&&(o=s.y),(null===n||s.z<n)&&(n=s.z),(null===i||s.z>i)&&(i=s.z);s=tempVec3_a,NodeUtils.getWorldPosition3D(d,s),(null===t||s.x<t)&&(t=s.x),(null===u||s.x>u)&&(u=s.x),(null===r||s.y<r)&&(r=s.y),(null===o||s.y>o)&&(o=s.y),(null===n||s.z<n)&&(n=s.z),(null===i||s.z>i)&&(i=s.z)}var y=.5*(t+u),_=.5*(r+o),g=.5*(n+i);return cc.v3(y,_,g)}static LimitLerp(l,e,t,r,n){return l*(1-(t=EditorMath.clamp01((t-r)/(n-r))))+e*t}getMaxCompInVec3(l){return Math.max(l.x,l.y,l.z)}}exports.default=GizmosUtils;