"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.eventEmitter=exports.GizmoList=void 0,exports.getEditMode=getEditMode,exports.changeEditMode=changeEditMode,exports.lightProbeInfoChanged=lightProbeInfoChanged;const structures_1=require("@itharbors/structures"),types_1=require("./types");let currentEditMode=types_1.LightEditMode.NONE;function getEditMode(){return currentEditMode}function changeEditMode(e){currentEditMode!==e&&(exports.eventEmitter.emit(types_1.LightProbeManagerEvent.MODE_CHANGED,e,currentEditMode),currentEditMode=e)}function lightProbeInfoChanged(){exports.GizmoList.forEach(e=>{e.lightProbeInfoChanged()})}exports.GizmoList=[],exports.eventEmitter=new structures_1.EventEmitter,exports.eventEmitter.addListener(types_1.LightProbeManagerEvent.MODE_CHANGED,(e,t)=>{if(cce.Gizmo.transformToolName="position",t===types_1.LightEditMode.VERTEX||e===types_1.LightEditMode.VERTEX){const o=e===types_1.LightEditMode.VERTEX;exports.GizmoList.forEach(e=>{e.lightProbeEditModeChanged(o)}),Editor.Message.broadcast("scene:light-probe-edit-mode-changed",o)}if(t===types_1.LightEditMode.BOX||e===types_1.LightEditMode.BOX){const i=e===types_1.LightEditMode.BOX;exports.GizmoList.forEach(e=>{e.boundingBoxEditModeChanged(i)}),Editor.Message.broadcast("scene:light-probe-bounding-box-edit-mode-changed",i)}cce.Gizmo._changeRegionSelectMode(e===types_1.LightEditMode.VERTEX||e===types_1.LightEditMode.BOX?1:0)});