"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const controller_base_1=__importDefault(require("./controller-base")),cc_1=require("cc"),controller_utils_1=__importDefault(require("../utils/controller-utils")),controller_shape_1=__importDefault(require("../utils/controller-shape")),{setMaterialProperty:setMaterialProperty}=require("../../../utils/engine"),{AttributeName:AttributeName,updatePositions:updatePositions,getModel:getModel}=require("../../../utils/engine");class ImageController extends controller_base_1.default{constructor(e,t){super(e),this._center=new cc_1.Vec3,this._size=new cc_1.Vec2(100,100),this._imageNode=null,this._imageMR=null,this.initShape(t)}initShape(e){this.createShapeNode("ImageController"),this._imageNode=controller_utils_1.default.quad(this._center,this._size.x,this._size.y,cc_1.Vec3.UNIT_Z,cc.Color.WHITE,e),this._imageNode.parent=this.shape,this._imageNode.position=new cc_1.Vec3(0,0,-.01),this._imageMR=getModel(this._imageNode)}setTexture(e){setMaterialProperty(this._imageNode,"mainTexture",e)}setTextureByUuid(e){cc_1.assetManager.loadAny(e,(e,t)=>{t&&(this.setTexture(t),cce.Engine.repaintInEditMode())})}updateSize(e,t){this._center=e,this._size=t;const i=controller_shape_1.default.calcQuadData(this._center,this._size.x,this._size.y,cc_1.Vec3.UNIT_Z);updatePositions(this._imageMR,i.positions)}}exports.default=ImageController;