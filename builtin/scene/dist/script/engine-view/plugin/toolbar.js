"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.update=exports.unregister=exports.register=exports.init=void 0;const Vue=require("vue/dist/vue");let vm=null;function init(e){vm=new Vue({el:e,data:{left:[],right:[]},components:{plugin:{props:["option"],template:'<div v-html="option.template"></div>',mounted(){const e=this,t={$:{}};e.option.__vm__=t,e.option.$&&Object.keys(e.option.$).forEach(o=>{const i=e.option.$[o];t.$[o]=e.$el.querySelector(i)}),e.option.ready&&e.option.ready.call(t,vm.$el)}}},mounted(){}})}exports.init=init;const map={};function register(e,t){map[e]=t,t.forEach(e=>{"left"===e.position?vm.left.push(e):"right"===e.position&&vm.right.push(e)})}function unregister(e){const t=map[e];t&&(t.forEach(e=>{const t=vm.left.indexOf(e),o=vm.right.indexOf(e);-1!==t&&vm.left.splice(t,1),-1!==o&&vm.right.splice(o,1),e.close.call(e.__vm__)}),delete map[e])}exports.register=register,exports.unregister=unregister;const _optionCache=[];async function update(e,t,o){for(let i in map){map[i].forEach(i=>{i.update&&i.update.call(i.__vm__,e,t,o)})}}exports.update=update,exports.default=module.exports;