"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToPrefabTransition=exports.ToGeneralTransition=exports.ToAnimationTransition=void 0;const scene_facade_state_interface_1=require("./scene-facade-state-interface"),transition_1=require("../utils/state-machine/transition");class ToAnimationTransition extends transition_1.Transition{constructor(e,t,a=null){super(e,t,a)}async testCondition(){return this.fromState.modeName===scene_facade_state_interface_1.SceneModeType.General||this.fromState.modeName===scene_facade_state_interface_1.SceneModeType.Prefab||await this.fromState.closeSceneState()}async Complete(){super.Complete(),this.fromState.modeName!==scene_facade_state_interface_1.SceneModeType.General&&this.fromState.modeName!==scene_facade_state_interface_1.SceneModeType.Prefab||(this.fromState.isHold=!0,await this.fromState.stagingSceneState())}}exports.ToAnimationTransition=ToAnimationTransition;class ToGeneralTransition extends transition_1.Transition{constructor(e,t,a=null){super(e,t,a)}async testCondition(){return await this.fromState.closeSceneState()}}exports.ToGeneralTransition=ToGeneralTransition;class ToPrefabTransition extends transition_1.Transition{constructor(e,t,a=null){super(e,t,a)}async testCondition(){return this.fromState.modeName===scene_facade_state_interface_1.SceneModeType.General||await this.fromState.closeSceneState()}async Complete(){super.Complete(),this.fromState.isHold=!0,await this.fromState.stagingSceneState(),this.fromState.fireCloseEvent()}}exports.ToPrefabTransition=ToPrefabTransition;