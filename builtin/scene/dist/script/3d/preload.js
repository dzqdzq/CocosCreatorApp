"use strict";require("../../../../../lib/require"),requestAnimationFrame(async()=>{window.Editor=require("editor");const e=require("./manager/ipc").default,r=require("./manager/startup").default;window.cce={Startup:r,Ipc:e},e.send("ready")});let closeProgress=0;window.addEventListener("beforeunload",async e=>{const r=require("./manager/ipc").default;if(1!==closeProgress)return cce.Scene&&cce.Scene.dump&&2!==closeProgress?(r.send("immediately-dump",cce.SceneFacadeManager.dumpAllScenes()),closeProgress=1,e.returnValue=!0,void(await cce.SceneFacadeManager.clearAllMode()?(closeProgress=2,window.location.reload()):closeProgress=0)):void r.send("close");e.returnValue=!0});const electron=require("electron");electron.ipcRenderer.send("fire-web-contents");