"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const scene_proxy_1=__importDefault(require("./scene-proxy")),utils_1=__importDefault(require("../utils")),index_1=__importDefault(require("../../ipc/index")),message_1=require("../../message"),index_2=__importDefault(require("../../preview-play/index"));class GameviewSceneProxy extends scene_proxy_1.default{get name(){return"gameview"}async open(e){return!1}async close(){return!0}async reload(){return!0}async softReload(e=null){try{return this._sceneMgr.emit("close"),message_1.messageManager.broadcast("scene:close"),index_1.default.send("scene:close"),await utils_1.default.loadSceneByJson(e||index_2.default.startSceneJson),this._sceneMgr.sendSceneOpenMsg(cc.director._scene,cc.director._scene.uuid,cc.director._scene),!0}catch(e){return console.error("Failed to refresh the current scene"),console.error(e),!1}}async staging(){return!0}async restore(e){return!1}queryCurrentSceneUuid(){return cc.director._scene.uuid||""}getRootNode(){return this._sceneMgr.rootNode}}exports.default=GameviewSceneProxy;