"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultiUndoManager=void 0;const undo_1=require("../../../export/undo");class MultiUndoManager{undoManager=new Map;generateUndoManager(e){var n;this.undoManager.has(e)||((n=new undo_1.SceneUndoManager).init(),this.undoManager.set(e,n))}getUndoManager(e){return this.undoManager.has(e)||this.generateUndoManager(e),this.undoManager.get(e)}delete(e){this.undoManager.delete(e)}beginRecording(e,n,a){return this.getUndoManager(e).beginRecording(n,a)}cancelRecording(e,n){return this.getUndoManager(e).cancelRecording(n)}endRecording(e,n){return this.getUndoManager(e).endRecording(n)}updateDump(e,n,a){this.getUndoManager(e).updateDump(n,a)}querySceneDirty(e){e=this.getUndoManager(e);e?.isDirty();return!!e?.isDirty()}async undo(e){return this.getUndoManager(e)?.undo()}async redo(e){return this.getUndoManager(e)?.redo()}record(e,n,a=!0){e=this.getUndoManager(e);e?e.record(n,a):console.warn("未找到对应的 undoManager")}abortSnapshot(e){this.getUndoManager(e)?.abort()}snapshot(e,n){this.getUndoManager(e)?.snapshot(n)}}exports.MultiUndoManager=MultiUndoManager;