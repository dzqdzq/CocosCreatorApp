"use strict";function walkChild(e,n){n[e.uuid]=e,e.children&&e.children.forEach(e=>{exports.walkChild(e,n)})}function walk(e,n){exports.walkChild(e,n)}function getUICanvasNode(e){if(!e)return null;if(hasCanvasComponent(e))return e;let n=cc.director._scene;if("prefab"===cce.SceneFacadeManager.queryMode()){n=cce.SceneFacadeManager._prefabSceneFacade._sceneProxy.getRootNode()}if(e!==n){let r=e.parent;for(;r;){if(hasCanvasComponent(r))return e;if(r===n)break;r=r.parent}}const r=e.children.slice();for(let e=r.length-1;e>=0;e--){const n=r[e];if(hasCanvasComponent(n))return n}return null}function hasCanvasComponent(e){if(e&&e.components)for(let n=0;n<e.components.length;n++)if(e.components[n]instanceof cc.Canvas)return!0;return!1}function getUITransformParentNode(e){if(!e)return null;if(hasTransformComponent(e))return e;let n=cc.director._scene;if("prefab"===cce.SceneFacadeManager.queryMode()){n=cce.SceneFacadeManager._prefabSceneFacade._sceneProxy.getRootNode()}if(e===n)return null;let r=e.parent;for(;r;){if(hasTransformComponent(r))return r;if(r===n)break;r=r.parent}return null}function hasTransformComponent(e){if(e&&e.components)for(let n=0;n<e.components.length;n++)if(e.components[n]instanceof cc.UITransformComponent)return!0;return!1}function getNodeName(e,n){if(!n||!Array.isArray(n.children))return e;const r=n.children.map(e=>e&&e.name||"");for(;r.includes(e);)/(\d+)$/.test(e)?e=e.replace(/(\d+)$/,(e,n)=>{let r=parseInt(n,10);return(r+=1).toString().padStart(n.length,"0")}):e+="-001";return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getNodeName=exports.hasTransformComponent=exports.getUITransformParentNode=exports.hasCanvasComponent=exports.getUICanvasNode=exports.walk=exports.walkChild=void 0,exports.walkChild=walkChild,exports.walk=walk,exports.getUICanvasNode=getUICanvasNode,exports.hasCanvasComponent=hasCanvasComponent,exports.getUITransformParentNode=getUITransformParentNode,exports.hasTransformComponent=hasTransformComponent,exports.getNodeName=getNodeName;