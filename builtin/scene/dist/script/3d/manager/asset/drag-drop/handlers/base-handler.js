"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseHandler=void 0;const cc_1=require("cc"),utils_1=require("./utils"),node_1=__importDefault(require("../../../../../utils/node")),camera_1=__importDefault(require("../../../camera"));class BaseHandler{acceptedTypes=[];excludedTypes=[];canDrop(t){return 0!==t.length&&!!(0===this.acceptedTypes.length||this.acceptedTypes.includes(t[0].type))&&!t.some(e=>this.excludedTypes.includes(e.type))&&t.every(e=>e.type===t[0].type)}getRaycastResultNodes(e,t){e=(0,utils_1.adjustXY)(e,t),t=cc_1.Layers.makeMaskExclude([cc_1.Layers.BitMask.GIZMOS,cc_1.Layers.Enum.SCENE_GIZMO]);return node_1.default.getFilteredRaycastNodes(camera_1.default.getCamera(),e.x,e.y,t)}}exports.BaseHandler=BaseHandler;