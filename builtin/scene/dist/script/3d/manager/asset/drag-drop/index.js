"use strict";var __importDefault=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DragDrop=void 0;const handlers_1=require("./handlers"),operation_1=__importDefault(require("../../../../public/operation")),drag_drop_utils_1=__importDefault(require("../../../../utils/drag-drop-utils"));class DragDrop{constructor(){this.handlers=handlers_1.dropHandlers,this.initialized=!1,operation_1.default.on("onDragLeave",this.onDragLeave.bind(this)),operation_1.default.on("onDragOver",this.onDragOver.bind(this)),operation_1.default.on("onDrop",this.onDrop.bind(this))}async init(){this.initialized||(this.initialized=!0,await drag_drop_utils_1.default.init())}async onDragLeave(r){await this.init();var t=drag_drop_utils_1.default.filterAssets(r.values);for(const i of this.handlers)if(i.canDrop(t))return i.onDragLeave(r,t)}async onDragOver(r){await this.init();var t=drag_drop_utils_1.default.filterAssets(r.values);for(const i of this.handlers)if(i.canDrop(t))return i.onDragOver(r,t)}async onDrop(r){await this.init();var t=drag_drop_utils_1.default.filterAssets(r.values);for(const i of this.handlers)if(i.canDrop(t))return i.onDrop(r,t)}}exports.DragDrop=DragDrop;