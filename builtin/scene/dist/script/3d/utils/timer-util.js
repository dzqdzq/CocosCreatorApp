"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimerUtil=void 0;class TimerUtil{constructor(i){this._timeInterval=200,this._callWaitingMap=new Map,this._timeInterval=null!==i&&void 0!==i?i:200}callFunctionLimit(i,t,...e){let a=this._callWaitingMap.get(i),l=!1;a?a.waitingTimer?(a.callFunc=t,a.args=e,a.needCallAfterWaiting=!0):l=!0:(a={needCallAfterWaiting:!1},this._callWaitingMap.set(i,a),l=!0),l&&(t(...e),a.waitingTimer=setTimeout(()=>{var t;if(a&&(a.waitingTimer=void 0),a&&a.needCallAfterWaiting&&(a.needCallAfterWaiting=!1,a.callFunc)){const e=null!==(t=a.args)&&void 0!==t?t:[];this.callFunctionLimit(i,a.callFunc,...e)}},this._timeInterval))}clear(){this._callWaitingMap.forEach(i=>{i.waitingTimer&&clearTimeout(i.waitingTimer)}),this._callWaitingMap.clear()}}exports.TimerUtil=TimerUtil;