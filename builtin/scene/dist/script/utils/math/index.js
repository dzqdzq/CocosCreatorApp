"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vec2_1=require("./vec2"),vec3_1=require("./vec3"),mat3_1=require("./mat3"),mat4_1=require("./mat4"),quat_1=require("./quat"),_d2r=Math.PI/180,_r2d=180/Math.PI,PI=Math.PI,TWO_PI=2*Math.PI,HALF_PI=.5*Math.PI,EPSILON=1e-12,MACHINE_EPSILON=1.12e-16,sqrt=Math.sqrt,pow=Math.pow,cos=Math.cos,acos=Math.acos,max=Math.max;class EditorMath{static deg2rad(t){return t*_d2r}static rad2deg(t){return t*_r2d}static rad180(t){return(t>Math.PI||t<-Math.PI)&&(t=(t+EditorMath.TWO_PI)%EditorMath.TWO_PI),t}static rad360(t){return t>EditorMath.TWO_PI?t%EditorMath.TWO_PI:t<0?EditorMath.TWO_PI+t%EditorMath.TWO_PI:t}static deg180(t){return(t>180||t<-180)&&(t=(t+360)%360),t}static deg360(t){return t>360?t%360:t<0?360+t%360:t}static randomRange(t,a){return Math.random()*(a-t)+t}static randomRangeInt(t,a){return Math.floor(this.randomRange(t,a))}static clamp01(t){return t<0?0:t>1?1:t}static calculateMaxRect(t,a,r,e,c){const o=Math.min(a.x,r.x,e.x,c.x),i=Math.max(a.x,r.x,e.x,c.x),M=Math.min(a.y,r.y,e.y,c.y),s=Math.max(a.y,r.y,e.y,c.y);return t.x=o,t.y=M,t.width=i-o,t.height=s-M,t}static lerp(t,a,r){return t+(a-t)*r}static numOfDecimals(t){return this.clamp(Math.floor(Math.log10(t)),0,20)}static numOfDecimalsF(t){return this.clamp(-Math.floor(Math.log10(t)),0,20)}static toPrecision(t,a){return a=this.clamp(a,0,20),parseFloat(t.toFixed(a))}static bezier(t,a,r,e,c){const o=1-c;return t*o*o*o+3*a*o*o*c+3*r*o*c*c+e*c*c*c}static solveCubicBezier(t,a,r,e,c){const o=e-t;return _cardano((c=(c-t)/o)-0,c-(a-t)/o,c-(r-t)/o,c-1)}}function _clamp(t,a,r){return t<a?a:t>r?r:t}function _crt(t){return t<0?-pow(-t,1/3):pow(t,1/3)}function _cardano(t,a,r,e){const c=3*a-t-3*r+e,o=(3*t-6*a+3*r)/c,i=(-3*t+3*a)/c,M=(3*i-o*o)/3,s=M/3,n=(2*o*o*o-9*o*i+27*(t/c))/27,h=n/2,d=h*h+s*s*s;let u,_,m,I,P;if(d<0){const t=-M/3,a=sqrt(t*t*t),r=-n/(2*a),e=acos(r<-1?-1:r>1?1:r),c=2*_crt(a);return m=c*cos(e/3)-o/3,I=c*cos((e+2*PI)/3)-o/3,P=c*cos((e+4*PI)/3)-o/3,0<=m&&m<=1?0<=I&&I<=1?0<=P&&P<=1?max(m,I,P):max(m,I):0<=P&&P<=1?max(m,P):m:0<=I&&I<=1?0<=P&&P<=1?max(I,P):I:P}if(0===d)return I=-(u=h<0?_crt(-h):-_crt(h))-o/3,0<=(m=2*u-o/3)&&m<=1?0<=I&&I<=1?max(m,I):m:I;{const t=sqrt(d);return m=(u=_crt(t-h))-(_=_crt(t+h))-o/3}}EditorMath.EPSILON=1e-12,EditorMath.MACHINE_EPSILON=1.12e-16,EditorMath.TWO_PI=TWO_PI,EditorMath.HALF_PI=HALF_PI,EditorMath.D2R=_d2r,EditorMath.R2D=_r2d,EditorMath.MVec2=vec2_1.MVec2,EditorMath.MVec3=vec3_1.MVec3,EditorMath.MMat3=mat3_1.MMat3,EditorMath.MMat4=mat4_1.MMat4,EditorMath.MQuat=quat_1.MQuat,EditorMath.clamp=_clamp,exports.default=EditorMath;