"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vec2_1=require("./vec2"),vec3_1=require("./vec3"),mat3_1=require("./mat3"),mat4_1=require("./mat4"),quat_1=require("./quat"),_d2r=Math.PI/180,_r2d=180/Math.PI,PI=Math.PI,TWO_PI=2*Math.PI,HALF_PI=.5*Math.PI,EPSILON=1e-12,MACHINE_EPSILON=1.12e-16;let sqrt=Math.sqrt,pow=Math.pow,cos=Math.cos,acos=Math.acos,max=Math.max;class EditorMath{static deg2rad(t){return t*_d2r}static rad2deg(t){return t*_r2d}static rad180(t){return(t>Math.PI||t<-Math.PI)&&(t=(t+EditorMath.TWO_PI)%EditorMath.TWO_PI),t}static rad360(t){return t>EditorMath.TWO_PI?t%EditorMath.TWO_PI:t<0?EditorMath.TWO_PI+t%EditorMath.TWO_PI:t}static deg180(t){return(t>180||t<-180)&&(t=(t+360)%360),t}static deg360(t){return t>360?t%360:t<0?360+t%360:t}static randomRange(t,a){return Math.random()*(a-t)+t}static randomRangeInt(t,a){return Math.floor(this.randomRange(t,a))}static clamp01(t){return t<0?0:t>1?1:t}static calculateMaxRect(t,a,r,e,i){let c=Math.min(a.x,r.x,e.x,i.x),M=Math.max(a.x,r.x,e.x,i.x),o=Math.min(a.y,r.y,e.y,i.y),h=Math.max(a.y,r.y,e.y,i.y);return t.x=c,t.y=o,t.width=M-c,t.height=h-o,t}static lerp(t,a,r){return t+(a-t)*r}static numOfDecimals(t){return this.clamp(Math.floor(Math.log10(t)),0,20)}static numOfDecimalsF(t){return this.clamp(-Math.floor(Math.log10(t)),0,20)}static toPrecision(t,a){return a=this.clamp(a,0,20),parseFloat(t.toFixed(a))}static bezier(t,a,r,e,i){let c=1-i;return t*c*c*c+3*a*c*c*i+3*r*c*i*i+e*i*i*i}static solveCubicBezier(t,a,r,e,i){let c=e-t;return _cardano((i=(i-t)/c)-0,i-(a-t)/c,i-(r-t)/c,i-1)}}function _clamp(t,a,r){return t<a?a:t>r?r:t}function _crt(t){return t<0?-pow(-t,1/3):pow(t,1/3)}function _cardano(t,a,r,e){let i,c,M,o,h,d=3*a-t-3*r+e,s=(3*t-6*a+3*r)/d,n=(-3*t+3*a)/d,u=(3*n-s*s)/3,_=u/3,m=(2*s*s*s-9*s*n+27*(t/d))/27,l=m/2,I=l*l+_*_*_;if(I<0){let t=-u/3,a=sqrt(t*t*t),r=-m/(2*a),e=acos(r<-1?-1:r>1?1:r),i=2*_crt(a);return M=i*cos(e/3)-s/3,o=i*cos((e+2*PI)/3)-s/3,h=i*cos((e+4*PI)/3)-s/3,0<=M&&M<=1?0<=o&&o<=1?0<=h&&h<=1?max(M,o,h):max(M,o):0<=h&&h<=1?max(M,h):M:0<=o&&o<=1?0<=h&&h<=1?max(o,h):o:h}if(0===I)return o=-(i=l<0?_crt(-l):-_crt(l))-s/3,0<=(M=2*i-s/3)&&M<=1?0<=o&&o<=1?max(M,o):M:o;{let t=sqrt(I);return M=(i=_crt(t-l))-(c=_crt(t+l))-s/3}}EditorMath.EPSILON=1e-12,EditorMath.MACHINE_EPSILON=1.12e-16,EditorMath.TWO_PI=TWO_PI,EditorMath.HALF_PI=HALF_PI,EditorMath.D2R=_d2r,EditorMath.R2D=_r2d,EditorMath.MVec2=vec2_1.MVec2,EditorMath.MVec3=vec3_1.MVec3,EditorMath.MMat3=mat3_1.MMat3,EditorMath.MMat4=mat4_1.MMat4,EditorMath.MQuat=quat_1.MQuat,EditorMath.clamp=_clamp,exports.default=EditorMath;