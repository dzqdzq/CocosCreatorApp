"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&("get"in s?t.__esModule:!s.writable&&!s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding(t,e,n);return __setModuleDefault(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2pIpc=exports.b2sIpc=void 0;const ipc=__importStar(require("@base/electron-base-ipc")),events_1=require("events");class BrowserToSceneIpc extends events_1.EventEmitter{bind(){ipc.on("native-from-scene",(e,t,...n)=>{this.emit(t,...n)}),ipc.on("native-from-scene-preview",(e,t,...n)=>{this.emit(t,...n)})}unbind(){}sendToScene(e,...t){const n={message:e,params:t};return ipc.sendToChannel("native-from-browser","native-scene",n)}async requestToScene(e,...t){return new Promise((n,r)=>{this.sendToScene(e,...t).callback((e,t)=>{n(e?null:t)})})}sendToPreview(e,...t){const n={message:e,params:t};return ipc.sendToChannel("native-from-browser-preview","native-scene",n)}async requestToPreview(e,...t){return new Promise((n,r)=>{this.sendToPreview(e,...t).callback((e,t)=>{n(e?null:t)})})}}const b2sIpc=new BrowserToSceneIpc;exports.b2sIpc=b2sIpc;class BrowserToPanelIpc extends events_1.EventEmitter{send(e,...t){Editor.Message.send("scene","browser-panel",e,...t)}async request(e,...t){return await Editor.Message.request("scene","browser-panel",e,...t)}}const b2pIpc=new BrowserToPanelIpc;exports.b2pIpc=b2pIpc;