"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&("get"in s?t.__esModule:!s.writable&&!s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(){var s=function(e){return(s=Object.getOwnPropertyNames||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n})(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=s(e),r=0;r<n.length;r++)"default"!==n[r]&&__createBinding(t,e,n[r]);return __setModuleDefault(t,e),t}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.b2pIpc=exports.b2sIpc=void 0;const ipc=__importStar(require("@base/electron-base-ipc")),events_1=require("events");class BrowserToSceneIpc extends events_1.EventEmitter{bind(){ipc.on("native-from-scene",(e,t,...n)=>{this.emit(t,...n)}),ipc.on("native-from-scene-preview",(e,t,...n)=>{this.emit(t,...n)})}unbind(){}sendToScene(e,...t){e={message:e,params:t};return ipc.sendToChannel("native-from-browser","native-scene",e)}async requestToScene(t,...r){return new Promise((n,e)=>{this.sendToScene(t,...r).callback((e,t)=>{n(e?null:t)})})}sendToPreview(e,...t){e={message:e,params:t};return ipc.sendToChannel("native-from-browser-preview","native-scene",e)}async requestToPreview(t,...r){return new Promise((n,e)=>{this.sendToPreview(t,...r).callback((e,t)=>{n(e?null:t)})})}}const b2sIpc=new BrowserToSceneIpc;exports.b2sIpc=b2sIpc;class BrowserToPanelIpc extends events_1.EventEmitter{send(e,...t){Editor.Message.send("scene","browser-panel",e,...t)}async request(e,...t){return Editor.Message.request("scene","browser-panel",e,...t)}}const b2pIpc=new BrowserToPanelIpc;exports.b2pIpc=b2pIpc;