"use strict";const Vue=require("vue/dist/vue.js");Vue.config.productionTip=!1,Vue.config.devtools=!1;const ipc=require("@base/electron-base-ipc");let vm=null;exports.style='\n:host {\n    padding-left: 8px;\n}\n\n.footer-notice {\n    display: flex;\n    align-items: center;\n    height: 24px\n}\n\n.footer-notice .bell {\n    padding: 0;\n    cursor: pointer;\n    user-select: none;\n    background: none;\n    border: none;\n    color: var(--color-normal-contrast);\n}\n\n.footer-notice .bell:hover {\n    color: var(--color-active-contrast-weakest);\n}\n\n.footer-notice .bell:active {\n    transform: scale(1.1);\n}\n\n.footer-notice .bell-content {\n    display: none;\n    position: absolute;\n    bottom: 30px;\n    right: 5px;\n    z-index: 500;\n    min-width: 250px;\n    max-width: 400px;\n    border: 1px solid var(--color-normal-border);\n    border-radius: 3px;\n    background-color: var(--color-normal-fill-emphasis);\n}\n\n.footer-notice .bell-content[active="true"] {\n    display: block;\n}\n\n.footer-notice .bell-content .close {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    cursor: pointer;\n}\n\n.footer-notice .bell-content .close:hover {\n    color: var(--color-danger-fill);\n}\n\n.footer-notice .bell-content .title {\n    display: flex;\n    align-items: center;\n    color: var(--color-normal-contrast);\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    padding-right: 12px;\n}\n\n.footer-notice .bell-content .title .notify {\n    display: flex;\n    flex: 1;\n    padding: 4px 12px;\n}\n\n.footer-notice .bell-content .title .hide {\n    margin-right: 16px;\n    cursor: pointer;\n    font-size: 9px;\n    transform: rotate(90deg);\n}\n\n.footer-notice .bell-content .title .clear {\n    cursor: pointer;\n    font-size: 10px;\n}\n\n.footer-notice .bell-content .title .hide:active {\n    color: var(--color-active-contrast-weakest);\n    transform: rotate(90deg) scale(1.2);\n}\n.footer-notice .bell-content .title .clear:active {\n    color: var(--color-active-contrast-weakest);\n    transform: scale(1.2);\n}\n\n.footer-notice .bell-content .content {\n    display: block;\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    max-height: 200px;\n    text-align: left;\n    overflow: auto;\n    background-color: var(--color-normal-fill);\n}\n\n.footer-notice .bell-content .content .item {\n    position: relative;\n    padding: 5px 20px 5px 15px;\n    margin-top: 5px;\n    margin-bottom: 5px;\n}\n\n.footer-notice .bell-content .content .item:before {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 2px;\n    height: 100%;\n    content: \'\';\n    background-color: var(--color-normal-contrast);\n}\n\n.footer-notice .bell-content .content .item[type="error"]>.title {\n    color: var(--color-danger-fill-weaker);\n}\n\n.footer-notice .bell-content .content .item[type="error"]:before {\n    background-color: var(--color-danger-fill);\n}\n\n.footer-notice .bell-content .content .item[type="warn"]>.title {\n    color: var(--color-warn-fill);\n}\n\n.footer-notice .bell-content .content .item[type="warn"]:before {\n    background-color: var(--color-warn-fill);\n}\n\n.footer-notice .bell-content .content .item[type="success"]>.title {\n    color: var(--color-success-fill);\n}\n\n.footer-notice .bell-content .content .item[type="success"]:before {\n    background-color: var(--color-success-fill);\n}\n\n.footer-notice .bell-content .content .item:hover {\n    background-color: var(--color-hover-fill);\n}\n\n.footer-notice .bell-content .content .item:hover .clear {\n    display: block;\n}\n\n.footer-notice .bell-content .content .clear {\n    position: absolute;\n    top: 2px;\n    right: 12px;\n    color: var(--color-normal-contrast);\n    cursor: pointer;\n    display: none;\n}\n\n.footer-notice .bell-content .content .clear:active {\n    color: var(--color-normal-contrast-emphasis);\n    transform: scale(1.2);\n}\n\n.footer-notice .bell-content .content .source {\n    font-size: 0.9em;\n    color: var(--color-normal-contrast-weakest);\n    line-height: 10px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    margin: 5px 0;\n}\n\n.footer-notice .bell-content .content .message {\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 30;\n    overflow: hidden;\n}\n\n.footer-notice .bell-content .content .button {\n    padding-top: 4px;\n}\n\n.footer-notice .bell-content .content .button ui-button {\n    margin-right: 6px;\n}\n',exports.template='\n<div class="footer-notice">\n    <ui-button class="bell transparent"\n        @click="notify.active=!notify.active"\n    >\n        <ui-icon value="bell"></ui-icon>\n        <span class="notify">{{notify.list.length}}</span>\n    </ui-button>\n\n    <div class="bell-content"\n        :active="notify.active"\n    >\n        <div class="title">\n            <ui-label class="notify" value="i18n:startup.notify"></ui-label>\n            <ui-icon class="hide" value="arrow-right" tooltip="i18n:utils.info.notice.hide"\n                @click="notify.active=false"\n            ></ui-icon>\n            <ui-icon class="clear" value="close" tooltip="i18n:utils.info.notice.clear"\n                @click="removeAllNotices()"\n            ></ui-icon>\n        </div>\n\n        <ul class="content" ref="content">\n            <li class="item" \n                v-for="item in notify.list"\n                :type="item.type"\n                @mouseenter="keepNotice(item.id, true, item.timeout)"\n                @mouseleave="keepNotice(item.id, false, item.timeout)"\n            >\n                <div class="title" >{{item.title}}</div>\n                <div class="message">{{item.message}}</div>\n                <div class="source"\n                    v-if="item.source"\n                    :title="item.message"\n                >\n                    <ui-label value="i18n:startup.notify_source"></ui-label>\n                    <ui-label \n                        :value="item.source"\n                    ></ui-label>\n                </div>\n                <div class="button"\n                    v-if="item.buttons && item.buttons.length > 0"\n                >\n                    <ui-button\n                        v-for="(button, index) in item.buttons"\n                        :key="index"\n                        @confirm="onButtonClick(button)"\n                    >\n                        <ui-label>{{button.label || \'i18n:utils.notice.default.button_name\'}}</ui-label>\n                    </ui-button>\n                </div>\n                <span class="clear" title="Clear"\n                    @click="removeNotice(item.id)"\n                >\n                    <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="10" height="10"><path fill="currentColor" d="m630.47 511.29l297.94-297.94c32.911-32.911 32.911-86.27.0001-119.18-32.909-32.909-86.27-32.911-119.18 0l-297.94 297.94-297.94-297.94c-32.911-32.911-86.27-32.911-119.18 0-32.909 32.909-32.911 86.27 0 119.18l297.94 297.94-297.94 297.94c-32.911 32.911-32.911 86.27 0 119.18 32.909 32.911 86.27 32.911 119.18 0l297.94-297.94 297.94 297.94c32.912 32.911 86.27 32.909 119.18 0 32.911-32.911 32.911-86.27 0-119.18l-297.94-297.95"/></svg>\n                </span>\n            </li>\n        </ul>\n    </div>\n</div>\n',exports.$={footerNotice:".footer-notice"},exports.methods={noticeMessage(n,t,e){if(t&&e)if("add-notice"===t)vm.notify.list.push(e),vm.notify.active=!0,vm.$nextTick(()=>{vm.$refs.content.scrollTop=vm.$refs.content.scrollHeight});else{for(let n=0;n<vm.notify.list.length;n++)if(vm.notify.list[n].id===e.id){vm.notify.list.splice(n,1);break}0===vm.notify.list.length&&(vm.notify.active=!1)}}},exports.ready=async function(){vm=new Vue({el:this.$.footerNotice,data:{notify:{active:!1,list:[]}},methods:{removeAllNotices(){this.notify.list=[],this.notify.active=!1},removeNotice(n){ipc.sendSync("editor-lib-task:call","removeNotice",n)},keepNotice(n,t,e){ipc.sendSync("editor-lib-task:call","changeNoticeTimeout",n,t?-1:e)},onButtonClick(n){n.target?n.message?Editor.Message.send(n.target,n.message,...n.params||[]):console.warn(Editor.I18n.t("utils.notice.missing.message")):console.warn(Editor.I18n.t("utils.notice.missing.target"))}}}),ipc.on("editor-lib-task:emit",this.noticeMessage)},exports.close=function(){ipc.removeListener("editor-lib-task:emit",this.noticeMessage)};