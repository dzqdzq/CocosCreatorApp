"use strict";const Vue=require("vue/dist/vue");Vue.config.productionTip=!1,Vue.config.devtools=!1;const ipc=require("@base/electron-base-ipc");let vm=null;exports.style='\n.footer-notice {\n    display: flex;\n    padding: 0 4px;\n}\n\n.footer-notice .bell {\n    padding: 1px 0 0 0;\n    margin-left: 15px;\n    cursor: pointer;\n    line-height: 20px;\n    user-select: none;\n    background: none;\n}\n\n.footer-notice .bell:hover {\n    color: var(--color-active-contrast-weakest);\n}\n\n.footer-notice .bell:active {\n    transform: scale(1.1);\n}\n\n.footer-notice .bell svg,\n.footer-notice .bell .notify {\n    display: inline-block;\n    vertical-align: middle;\n}\n\n.footer-notice .bell-content {\n    display: none;\n    position: absolute;\n    bottom: 30px;\n    right: 5px;\n    z-index: 10;\n    min-width: 250px;\n    max-width: 400px;\n    border: 1px solid var(--color-normal-border);\n    border-radius: 3px;\n    background-color: var(--color-normal-fill-emphasis);\n}\n\n.footer-notice .bell-content[active="true"] {\n    display: block;\n}\n\n.footer-notice .bell-content .close {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    cursor: pointer;\n}\n\n.footer-notice .bell-content .close:hover {\n    color: var(--color-danger-fill);\n}\n\n.footer-notice .bell-content .title {\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n    color: var(--color-normal-contrast);\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    padding-right: 12px;\n}\n\n.footer-notice .bell-content .title span {\n    display: inline-block;\n}\n\n.footer-notice .bell-content .title svg {\n    vertical-align: middle;\n}\n\n.footer-notice .bell-content .title .notify {\n    display: flex;\n    flex: 1;\n    padding: 5px 15px;\n}\n\n.footer-notice .bell-content .title .hide {\n    margin-right: 15px;\n    cursor: pointer;\n}\n\n.footer-notice .bell-content .title .hide svg {\n    transform: rotate(90deg);\n}\n\n.footer-notice .bell-content .title .clear {\n    cursor: pointer;\n}\n\n.footer-notice .bell-content .title .hide:active,\n.footer-notice .bell-content .title .clear:active {\n    color: var(--color-active-contrast-weakest);\n    transform: scale(1.2);\n}\n\n.footer-notice .bell-content .content {\n    display: block;\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    max-height: 200px;\n    text-align: left;\n    overflow: auto;\n    background-color: var(--color-normal-fill);\n}\n\n.footer-notice .bell-content .content .item {\n    position: relative;\n    padding: 5px 20px 5px 15px;\n    margin-top: 5px;\n    margin-bottom: 5px;\n}\n\n.footer-notice .bell-content .content .item:before {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 2px;\n    height: 100%;\n    content: \'\';\n    background-color: var(--color-normal-contrast);\n}\n\n.footer-notice .bell-content .content .item[type="error"]>.title {\n    color: var(--color-danger-fill-weaker);\n}\n\n.footer-notice .bell-content .content .item[type="error"]:before {\n    background-color: var(--color-danger-fill);\n}\n\n.footer-notice .bell-content .content .item[type="warn"]>.title {\n    color: var(--color-warn-fill);\n}\n\n.footer-notice .bell-content .content .item[type="warn"]:before {\n    background-color: var(--color-warn-fill);\n}\n\n.footer-notice .bell-content .content .item[type="success"]>.title {\n    color: var(--color-success-fill);\n}\n\n.footer-notice .bell-content .content .item[type="success"]:before {\n    background-color: var(--color-success-fill);\n}\n\n.footer-notice .bell-content .content .item:hover {\n    background-color: var(--color-hover-fill);\n}\n\n.footer-notice .bell-content .content .item:hover .clear {\n    display: block;\n}\n\n.footer-notice .bell-content .content .clear {\n    position: absolute;\n    top: 2px;\n    right: 12px;\n    color: var(--color-normal-contrast);\n    cursor: pointer;\n    display: none;\n}\n\n.footer-notice .bell-content .content .clear:active {\n    color: var(--color-normal-contrast-emphasis);\n    transform: scale(1.2);\n}\n\n.footer-notice .bell-content .content .source {\n    font-size: 0.9em;\n    color: var(--color-normal-contrast-weakest);\n    line-height: 10px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    margin-top: 5px;\n}\n\n.footer-notice .bell-content .content .message {\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 30;\n    overflow: hidden;\n}\n',exports.template=`\n<div class="footer-notice">\n\n    <div>Version: ${Editor.App.version}</div>\n\n    <ui-button class="bell transparent"\n        @click="notify.active=!notify.active"\n    >\n        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="12" height="12"><path fill="currentColor" d="m652.65 887.38c-.148 75.46-60.733 136.62-136.56 136.62-75.3 0-136.4-60.882-136.5-136.62h273.06m-45.532-796.38c0-50.17-40.745-91.01-91.03-91.01-50.16 0-91.01 40.76-91.01 91.01 0 5.135.42 10.138 1.244 15.04-125.71 43.832-228.8 178.34-228.8 337.53v125.32s0 180.47-44.34 182.04c-26.455 0-46.705 20.372-46.705 45.517a45.42464 45.42464 0 0 0 45.51168 45.49632h728.24a45.39904 45.39904 0 0 0 45.46048 -45.49632 45.40416 45.40416 0 0 0 -45.46048 -45.5168c-45.568 0-45.568-180.76-45.568-180.76v-126.6c0-159.37-96.36-293.97-228.72-337.64.778-4.859 1.178-9.846 1.178-14.93"/></svg>\n        <span class="notify">{{notify.list.length}}</span>\n    </ui-button>\n\n    <div class="bell-content"\n        :active="notify.active"\n    >\n        <div class="title">\n            <ui-label class="notify" value="i18n:startup.notify"></ui-label>\n            <span class="hide" title="Hide"\n                @click="notify.active=false"\n            >\n                <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="11" height="11"><path fill="currentColor" d="m307.6 992c-17.544 0-35.09-6.698-48.48-20.09-26.785-26.787-26.785-70.18 0-96.96l363.01-362.95-363.01-362.95c-26.785-26.753-26.785-70.18 0-96.96s70.18-26.785 96.96 0l411.56 411.43c12.858 12.857 20.09 30.27 20.09 48.48s-7.231 35.625-20.09 48.48l-411.56 411.43c-13.393 13.391-30.938 20.09-48.48 20.09"/></svg>\n            </span>\n            <span class="clear" title="Clear all"\n                @click="removeAllNotices()"\n            >\n                <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="11" height="11"><path fill="currentColor" d="m630.47 511.29l297.94-297.94c32.911-32.911 32.911-86.27.0001-119.18-32.909-32.909-86.27-32.911-119.18 0l-297.94 297.94-297.94-297.94c-32.911-32.911-86.27-32.911-119.18 0-32.909 32.909-32.911 86.27 0 119.18l297.94 297.94-297.94 297.94c-32.911 32.911-32.911 86.27 0 119.18 32.909 32.911 86.27 32.911 119.18 0l297.94-297.94 297.94 297.94c32.912 32.911 86.27 32.909 119.18 0 32.911-32.911 32.911-86.27 0-119.18l-297.94-297.95"/></svg>\n            </span>\n        </div>\n\n        <ul class="content" ref="content">\n            <li class="item" \n                v-for="item in notify.list"\n                :type="item.type"\n                @mouseenter="keepNotice(item.id, true, item.timeout)"\n                @mouseleave="keepNotice(item.id, false, item.timeout)"\n            >\n                <div class="title" >{{item.title}}</div>\n                <div class="message">{{item.message}}</div>\n                <div class="source"\n                    v-if="item.source"\n                    :title="item.message"\n                >\n                    <ui-label value="i18n:startup.notify_source"></ui-label>\n                    <ui-label \n                        :value="item.source"\n                    ></ui-label>\n                </div>\n                <span class="clear" title="Clear"\n                    @click="removeNotice(item.id)"\n                >\n                    <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="10" height="10"><path fill="currentColor" d="m630.47 511.29l297.94-297.94c32.911-32.911 32.911-86.27.0001-119.18-32.909-32.909-86.27-32.911-119.18 0l-297.94 297.94-297.94-297.94c-32.911-32.911-86.27-32.911-119.18 0-32.909 32.909-32.911 86.27 0 119.18l297.94 297.94-297.94 297.94c-32.911 32.911-32.911 86.27 0 119.18 32.909 32.911 86.27 32.911 119.18 0l297.94-297.94 297.94 297.94c32.912 32.911 86.27 32.909 119.18 0 32.911-32.911 32.911-86.27 0-119.18l-297.94-297.95"/></svg>\n                </span>\n            </li>\n        </ul>\n    </div>\n</div>\n`,exports.$={footerNotice:".footer-notice"},exports.methods={noticeMessage(n,e,t){if(e&&t)if("add-notice"===e)vm.notify.list.push(t),vm.notify.active=!0,vm.$nextTick(()=>{vm.$refs.content.scrollTop=vm.$refs.content.scrollHeight});else{for(let n=0;n<vm.notify.list.length;n++)if(vm.notify.list[n].id===t.id){vm.notify.list.splice(n,1);break}0===vm.notify.list.length&&(vm.notify.active=!1)}}},exports.ready=async function(){vm=new Vue({el:this.$.footerNotice,data:{notify:{active:!1,list:[]}},methods:{removeAllNotices(){this.notify.list=[],this.notify.active=!1},removeNotice(n){ipc.sendSync("editor-lib-task:call","removeNotice",n)},keepNotice(n,e,t){ipc.sendSync("editor-lib-task:call","changeNoticeTimeout",n,e?-1:t)}}}),ipc.on("editor-lib-task:emit",this.noticeMessage)},exports.close=function(){ipc.removeListener("editor-lib-task:emit",this.noticeMessage)};