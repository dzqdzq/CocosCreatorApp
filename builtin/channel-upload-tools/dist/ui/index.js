"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding(t,e,o);return __setModuleDefault(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.methods=exports.ready=exports.$=exports.template=exports.style=void 0;const Vue=require("vue/dist/vue.js"),fs=__importStar(require("fs-extra")),path=__importStar(require("path"));Vue.config.productionTip=!1,Vue.config.devtools=!1;let panel=null,vm=null;exports.style=fs.readFileSync(path.join(__dirname,"index.css"),"utf8"),exports.template=fs.readFileSync(path.join(__dirname,"../../static","/ui/index.html"),"utf8"),exports.$={tools:".channel-upload-tools"};let platforms={};async function ready(e){if(panel=this,loadComponents(),!platforms[e])return;let t={el:panel.$.tools,components:platforms,data:function(){return{page:e}}};vm=new Vue(t)}function loadComponents(){try{let e=path.join(__dirname,"../platform");fs.readdirSync(e).forEach(t=>{let o=path.join(e,t),r=path.join(e,t,"index");if(fs.existsSync(o))try{platforms[t]=require(r)}catch(e){console.error(e)}else console.error(`Load ${t} plugin failed`)})}catch(e){console.error("Load components failed")}}exports.ready=ready,exports.methods={async loginResult(e,t){vm.$emit("loginResult",e,t)},async oAuthWindowClose(e){vm.$emit("oAuthWindowClose",e)}};