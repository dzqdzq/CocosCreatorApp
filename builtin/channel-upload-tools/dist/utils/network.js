"use strict";let Fs=require("fs"),Http=require("http"),Https=require("https"),Url=require("url"),Req=require("request");exports.getAsync=function(e,t,s){return new Promise((r,o)=>{let n={url:e};t&&(n.qs=t),s&&(n.headers=s),Req.get(n,(e,t,s)=>e?o(e):200!==t.statusCode?o(t.statusMessage):void r(s))})},exports.putAsync=function(e,t,s,r){return new Promise((o,n)=>{let p={url:e};t&&(p.qs=t),r&&(p.body=r),s&&(p.headers=s),Req.put(p,(e,t,s)=>e?n(e):200!==t.statusCode?n(t.statusMessage):void o(s))})},exports.uploadFile=function(e,t,s){return new Promise((r,o)=>{let n={url:e,headers:{accept:"application/json"}};const p=Req.post(n,(e,t,s)=>e?o(e):200!==t.statusCode?o(t.statusMessage):void r(s)).form();p.append("file",Fs.createReadStream(t)),p.append("authCode",s),p.append("fileCount","1"),p.append("parseType","1")})},exports.postAsync=function(e,t){return new Promise((s,r)=>{let o=Url.parse(e);const n={method:"POST",headers:{"Content-Type":"application/json"},host:o.host,path:o.path};const p=(e.startsWith("http://")?Http:Https).request(n,e=>{let t="";e.on("end",()=>{s(t)}),e.on("data",e=>{t+=e})});p.on("error",e=>{r(e)}),p.write(t),p.end()})};