"use strict";var __importDefault=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(exports,"__esModule",{value:!0});const variable_selection_1=__importDefault(require("../variable-selection")),tc_binding_1=__importDefault(require("./tc-binding")),binary_condition_constant_operand_1=__importDefault(require("./binary-condition-constant-operand")),template='\n    <table class="condition">\n        <tr\n            v-for="(condition, conditionIndex) in conditions"\n            :key="keyOrRefPrefix + conditionIndex"\n            :ref="keyOrRefPrefix + conditionIndex"\n        >\n            \x3c!-- 二元条件 --\x3e\n\n            <template\n                v-if="condition.type===\'BinaryCondition\'"\n            >\n                <td class="lhs">\n                    <tcf-binding\n                        :binding="condition.lhsBinding"\n                        :query-data="queryData"\n                        :type-filter="[\'FLOAT\', \'INTEGER\']"\n                        :transition-source-type="transitionSourceType"\n                        @binding-type-changed="(...args) => $emit(\'condition-binding-type-changed\', conditionIndex, \'lhsBinding\', ...args)"\n                        @binding-prop-changed="(patch) => $emit(\'condition-binding-prop-changed\', conditionIndex, \'lhsBinding\', patch)"\n                    ></tcf-binding>\n                </td>\n\n                <td class="operator">\n                    <ui-select\n                        :value="condition.operator"\n                        @change="$emit(\'condition-prop-changed\', conditionIndex, [\'operator\'], parseInt($event.target.value))"\n                    >\n                        <option\n                            v-for="(name,value) in queryData.binaryConditionOperator" \n                            :key="name"\n                            v-if="!isFinite(name)"\n                            :value="value"\n                        >\n                            {{queryData.binaryConditionOperatorI18n[name] || name}}\n                        </option>\n                    </ui-select>\n                </td>\n\n                <td class="rhs">\n                    <binary-condition-constant-operand\n                        :value="condition.rhs"\n                        :is-integer="condition.isRhsInteger"\n                        @value-changed="(value) => $emit(\'condition-prop-changed\', conditionIndex, [\'rhs\'], value)"\n                    ></binary-condition-constant-operand>\n                </td>\n            </template>\n\n            \x3c!-- 一元条件 --\x3e\n\n            <template\n                v-else-if="condition.type===\'UnaryCondition\'"\n            >\n                <td class="lhs">\n                    <variable-selection\n                        :value="condition.operand"\n                        :variables="queryData.variables"\n                        :typeFilter="\'BOOLEAN\'"\n                        @change="(varName) => $emit(\'condition-prop-changed\', conditionIndex, [\'operand\', \'variable\'], varName)"\n                    ></variable-selection>\n                </td>\n                <td class="operator">\n                    <span class="label">=</span>\n                </td>\n                <td class="rhs">\n                    <ui-select\n                        :value="condition.operator"\n                        @change="$emit(\'condition-prop-changed\', conditionIndex, [\'operator\'], parseInt($event.target.value))"\n                    >\n                        <option\n                            v-for="(name,value) in queryData.unaryConditionOperator"\n                            :key="name" \n                            v-if="!isFinite(name)"\n                            :value="value"\n                        >\n                            {{queryData.unaryConditionOperatorI18n[name] || name}}\n                        </option>\n                    </ui-select>\n                </td>\n            </template>\n\n            \x3c!-- 触发器条件 --\x3e\n\n            <template\n                v-else-if="condition.type===\'TriggerCondition\'"\n            >\n                <td class="lhs">\n                    <ui-label value="i18n:animation-graph.condition.TriggerCondition"></ui-label>\n                </td>\n                <td class="rhs" colspan="2">\n                    <variable-selection\n                        :value="condition.trigger"\n                        :variables="queryData.variables"\n                        :typeFilter="\'TRIGGER\'"\n                        @change="(varName) => $emit(\'condition-prop-changed\', conditionIndex, [\'trigger\'], varName)"\n                    ></variable-selection>\n                </td>\n            </template>\n\n            <td class="remove">\n                <ui-icon value="del" color="true" tooltip="i18n:animation-graph.condition.remove"\n                    @click.stop="$emit(\'remove-condition\', conditionIndex)"\n                ></ui-icon>\n            </td>\n\n        </tr>\n    </table>\n',conditionGrid={components:{"tcf-binding":tc_binding_1.default,"binary-condition-constant-operand":binary_condition_constant_operand_1.default,"variable-selection":variable_selection_1.default},props:["conditions","queryData","keyOrRefPrefix","transitionSourceType"],template:template};exports.default=conditionGrid;