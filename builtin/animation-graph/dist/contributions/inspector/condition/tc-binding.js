"use strict";var __importDefault=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(exports,"__esModule",{value:!0});const variable_selection_1=__importDefault(require("../variable-selection")),template='\n    <div class="variable">\n        <ui-icon class="switch"\n            value="whirl" \n            tooltip="i18n:animation-graph.condition.changeTCBindingType.label"\n            @click="showBindingTypeMenu()" \n        ></ui-icon>\n\n        <div class="content"\n            v-if="binding.__type__ === \'cc.animation.TCVariableBinding\'"\n        >\n            <ui-label class="name"\n                value="i18n:ENGINE.classes.cc.animation.TCVariableBinding.properties.variableName.label"\n                tooltip="i18n:ENGINE.classes.cc.animation.TCVariableBinding.properties.variableName.tooltip"\n            ></ui-label>\n            <variable-selection class="element"\n                :variables="queryData.variables"\n                :value="binding.variableName"\n                :typeFilter="[\'FLOAT\', \'INTEGER\']"\n                tooltip="i18n:ENGINE.classes.cc.animation.TCVariableBinding.properties.variableName.tooltip"\n                @change="(varName, varType) => { $emit(\'binding-prop-changed\', [[[\'variableName\'], varName], [[\'type\'], queryData.variableType[varType]]]) }"\n            ></variable-selection>\n        </div>\n        \n        <div class="content"\n            v-else-if="binding.__type__ === \'cc.animation.TCAuxiliaryCurveBinding\'"\n        >\n            <ui-label class="name"\n                value="i18n:ENGINE.classes.cc.animation.TCAuxiliaryCurveBinding.properties.curveName.label"\n                tooltip="i18n:ENGINE.classes.cc.animation.TCAuxiliaryCurveBinding.properties.curveName.tooltip"\n            ></ui-label>\n            <ui-input class="element"\n                :value="binding.curveName"\n                tooltip="i18n:ENGINE.classes.cc.animation.TCAuxiliaryCurveBinding.properties.curveName.tooltip"\n                @confirm.stop="$emit(\'binding-prop-changed\', [[[\'curveName\'], $event.target.value]])"\n            ></ui-input>\n        </div>\n\n        <div class="content"\n            v-else-if="binding.__type__ === \'cc.animation.TCStateWeightBinding\'"\n        >\n            <ui-label class="name"\n                value="i18n:ENGINE.classes.cc.animation.TCStateWeightBinding.abbr.label"\n                tooltip="i18n:ENGINE.classes.cc.animation.TCStateWeightBinding.abbr.tooltip"\n            ></ui-label>\n        </div>\n\n        <div class="content"\n            v-else-if="binding.__type__ === \'cc.animation.TCStateMotionTimeBinding\'"\n        >\n            <ui-label class="name"\n                value="i18n:ENGINE.classes.cc.animation.TCStateMotionTimeBinding.abbr.label"\n                tooltip="i18n:ENGINE.classes.cc.animation.TCStateMotionTimeBinding.abbr.tooltip"\n            ></ui-label>\n        </div>\n    </div>\n',tcBinding={components:{"variable-selection":variable_selection_1.default},props:["binding","queryData","typeFilter","transitionSourceType"],template:template,methods:{showBindingTypeMenu(){const{typeFilter:i}=this,{tcBindingTypeInfos:n,TCBindingValueType:e}=this.queryData,a="string"==typeof i?[e[i]]:i.map(i=>e[i]),t=n.filter(i=>i.provisions.some(i=>a.includes(i)));Editor.Menu.popup({menu:t.filter(i=>!i.transitionSourceFilter||i.transitionSourceFilter.includes(this.transitionSourceType)).map(i=>({label:`i18n:ENGINE.classes.${i.id}.menu`,click:()=>{this.$emit("binding-type-changed",i.id)}}))})}}};exports.default=tcBinding;