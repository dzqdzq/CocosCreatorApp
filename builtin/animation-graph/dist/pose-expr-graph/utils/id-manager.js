"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IDManager=void 0;class IDManager{constructor(){this._counter=0,this._map=new WeakMap}has(e){return this._map.has(e)}get(e){var t;return null!==(t=this._map.get(e))&&void 0!==t?t:IDManager.INVALID_ID}getOrCreate(e){const t=this.get(e);return t===IDManager.INVALID_ID?this.add(e):t}add(e){if(this._map.has(e))throw new Error("Object has already existed.");++this._counter;const t=this._counter;return this._map.set(e,t),t}delete(e){return this._map.delete(e)}clear(){this._counter=1,this._map=new WeakMap}}exports.IDManager=IDManager,IDManager.INVALID_ID=-1;