"use strict";function data(){return{state:0,image:{GLPreview:{name:"scene:motion-preview",method:"query-motion-preview-data"}},play:{time:0,state:0,speed:0,status:{timeLineLength:0,sourceMotionStart:0,sourceMotionRepeatCount:0,sourceMotionDuration:0,targetMotionStart:0,targetMotionRepeatCount:0,targetMotionDuration:0,exitTimesStart:0,exitTimesLength:0,transitionDurationStart:0,transitionDurationLength:0}}}}function mounted(){this.init()}function destroyed(){this.close()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.destroyed=exports.mounted=exports.methods=exports.data=exports.computed=exports.watch=exports.props=exports.components=exports.template=void 0,exports.template='\n<div class="preview">\n    <template\n        v-if="show"\n    >\n        <play-toolbar\n            :play="play"\n            :state="state"\n        ></play-toolbar>\n\n        <div class="operation"\n            v-if="motion && isBlend1D"\n        >\n            <ui-prop class="prop">\n                <ui-label slot="label" class="name"\n                    :tooltip="motion.value.variable"\n                    :value="motion.value.variable"\n                ></ui-label>\n                <ui-slider slot="content" class="content" step="0.1"\n                    :min="motion.min[0]"\n                    :max="motion.max[0]" \n                    :value="motion.value.value"\n                    @change.stop="updatePreviewBlend1DVariable(motion.value.variable, $event.target.value)"\n                ></ui-slider>\n            </ui-prop>\n        </div>\n        <div class="operation"\n            v-else-if="motion && isBlend2D"\n        >\n            <ui-prop class="prop">\n                <ui-label slot="label" class="name"\n                    :tooltip="motion.value[0].variable"\n                    :value="motion.value[0].variable"\n                ></ui-label>\n                <ui-slider slot="content" class="content" step="0.1"\n                    :min="motion.min[0]"\n                    :max="motion.max[0]" \n                    :value="motion.value[0].value"\n                    @change.stop="updatePreviewBlend1DVariable(motion.value[0].variable, $event.target.value)"\n                ></ui-slider>\n            </ui-prop>\n            <ui-prop class="prop">\n                <ui-label slot="label" class="name"\n                    :tooltip="motion.value[1].variable"\n                    :value="motion.value[1].variable"\n                ></ui-label>\n                <ui-slider slot="content" class="content" step="0.1"\n                    :min="motion.min[1]"\n                    :max="motion.max[1]" \n                    :value="motion.value[1].value"\n                    @change.stop="updatePreviewBlend1DVariable(motion.value[1].variable, $event.target.value)"\n                ></ui-slider>\n            </ui-prop>\n        </div>\n\n        <image-canvas ref="image"\n            :config="image"\n            :play="play"\n            :state="state"\n        ></image-canvas>\n    </template>\n    <ui-label class="error-tip"\n        v-else\n        :value="\'i18n:animation-graph.preview.\'+$root.queryData.previewState[state]"\n    ></ui-label>\n</div>\n',exports.components={"play-toolbar":require("./preview-play-toolbar"),"image-canvas":require("./preview-image-canvas")},exports.props=["crumb"],exports.watch={crumb(){this.init()}},exports.computed={show(){return void 0!==this.$root.queryData.previewState.ILLEGAL_MOTION&&![this.$root.queryData.previewState.ILLEGAL_MOTION].includes(this.state)},motion(){return this.$root.viewMotion()},isBlend1D(){return this.motion&&this.motion.type===this.$root.queryData.animationBlendType[0]},isBlend2D(){return this.motion&&this.motion.type===this.$root.queryData.animationBlendType[1]}},exports.data=data,exports.methods={async init(){const e=this;e.state=await Editor.Message.request("scene","execute-scene-script",{name:"animation-graph",method:"showMotionPreview",args:[]});const t=e.$root.queryData.previewState;void 0!==t.NO_ERROR&&e.state!==t.NO_ERROR&&console.warn(Editor.I18n.t(`animation-graph.preview.${t[e.state]}`))},close(){Editor.Message.request("scene","execute-scene-script",{name:"animation-graph",method:"hideMotionPreview",args:[]})},async setModel(e){await Editor.Message.request("scene","execute-scene-script",{name:"animation-graph",method:"setPreviewModel",args:[e]}),this.init()},update(e){const t=this;t.play=e,t.$refs.image&&(t.$refs.image.isDirty=!0)},timePlay(e){Editor.Message.request("scene","execute-scene-script",{name:"animation-graph",method:"setTimeMotionPreview",args:[e]})},runPlay(){Editor.Message.request("scene","execute-scene-script",{name:"animation-graph",method:"playMotionPreview",args:[]})},pausePlay(){Editor.Message.request("scene","execute-scene-script",{name:"animation-graph",method:"pauseMotionPreview",args:[]})},stopPlay(){Editor.Message.request("scene","execute-scene-script",{name:"animation-graph",method:"pauseMotionPreview",args:[]})},updatePreviewBlend1DVariable(e,t){Editor.Message.request("scene","execute-scene-script",{name:"animation-graph",method:"updatePreviewVariable",args:[[{name:e,value:t}]]})}},exports.mounted=mounted,exports.destroyed=destroyed;