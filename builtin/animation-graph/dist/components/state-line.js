"use strict";function data(){return{mouseDownPoint:null}}function mounted(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.methods=exports.watch=exports.computed=exports.data=exports.props=exports.template=void 0,exports.template='\n    <div class="line"\n        :style="style"\n        @mousedown="mouseDown($event)"\n    >\n        <ui-icon class="triangle" value="arrow-triangle-sharp" ref="triangle"></ui-icon>\n        <span class="count" ref="count"\n            v-if="dump.siblings.length"\n        >{{dump.siblings.length+1}}</span>\n    </div>\n',exports.props=["dump"],exports.data=data,exports.computed={style(){const t=this;if(t.$fromState=t.$parent.$refs[t.dump.fromStateId][0],t.$toState=t.$parent.$refs[t.dump.toStateId][0],!t.$fromState||!t.$toState)return{};if(t.$fromState===t.$toState){t.$el&&t.$el.classList.add("circle");const e=t.$fromState.getCenter(),{offsetHeight:o,offsetWidth:n}=t.$fromState.$el;return{top:`${e.top-o/2-13}px`,left:`${e.left+n/2-16}px`,width:"30px",height:"30px",borderRadius:`${n/2}px`}}{t.$el&&t.$el.classList.remove("circle");const e=!!t.$parent.lines[t.dump.reverseId],o=t.$fromState.getCenter(),n=t.$toState.getCenter(),r=o.left-n.left,s=o.top-n.top,i=Math.sqrt(r**2+s**2),a=Math.atan2(0-s,0-r)*(180/Math.PI);t.$refs.count&&(t.$refs.count.style=`transform: rotate(${360-a}deg)`);let p=o.top-t.$parent.lineHeight/2,u=o.left;return e&&(o.left>n.left?(p+=t.$parent.lineHeight/2,u+=t.$parent.lineHeight/2):(p-=t.$parent.lineHeight/2,u-=t.$parent.lineHeight/2)),{top:`${p}px`,left:`${u}px`,width:`${i}px`,transform:`rotate(${a}deg)`}}}},exports.watch={},exports.methods={resize(){},mouseDown(t){const e=this;t.stopPropagation(),t.preventDefault(),e.mouseDownPoint={button:0===t.button?"left":"right"},document.addEventListener("mouseup",function t(o){e.mouseDownPoint&&"right"===e.mouseDownPoint.button?e.mouseDownPoint.hasMoved||e.contextMenu(e.mouseDownPoint):e.mouseDownPoint.hasMoved||e.$parent.select(e.dump),document.removeEventListener("mouseup",t),e.mouseDownPoint=null})},contextMenu(){const t=this;t.dump.siblings.length?Editor.Menu.popup({menu:[{label:Editor.I18n.t("animation-graph.transition.removeAll"),click(){t.$root.removeTransition(t.dump.index,!0)}}]}):Editor.Menu.popup({menu:[{label:Editor.I18n.t("animation-graph.transition.remove"),click(){t.$root.removeTransition(t.dump.index,!1)}}]})}},exports.mounted=mounted;