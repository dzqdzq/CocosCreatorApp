"use strict";function data(){return{mouseDownPoint:null}}function mounted(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.methods=exports.watch=exports.computed=exports.data=exports.props=exports.template=void 0,exports.template='\n    <div class="line"\n        :style="style"\n        @mousedown="mouseDown($event)"\n    >\n        <ui-icon class="triangle" value="arrow-triangle-sharp" ref="triangle"></ui-icon>\n        <ui-label class="count" ref="count"\n            v-if="dump.siblings.length"\n            :tooltip="countTip"\n            :value="dump.siblings.length+1"\n        ></ui-label>\n    </div>\n',exports.props=["dump"],exports.data=data,exports.computed={style(){const t=this;if(t.$fromState=t.$parent.$refs[t.dump.fromStateId][0],t.$toState=t.$parent.$refs[t.dump.toStateId][0],!t.$fromState||!t.$toState)return{};if(t.$fromState===t.$toState){t.$el&&t.$el.classList.add("circle");const e=t.$fromState.getCenter(),{offsetHeight:o,offsetWidth:n}=t.$fromState.$el;return{top:`${e.top-o/2-13}px`,left:`${e.left+n/2-16}px`,width:"30px",height:"30px",borderRadius:`${n/2}px`}}{t.$el&&t.$el.classList.remove("circle");const e=!!t.$parent.lines[t.dump.reverseId],o=t.$fromState.getCenter(),n=t.$toState.getCenter(),r=n.left-o.left,s=n.top-o.top,i=Math.sqrt(r**2+s**2),a=Math.atan2(s,r),p=a*(180/Math.PI);t.$refs.count&&(t.$refs.count.style=`transform: rotate(${360-p}deg)`);const u=t.$parent.lineHeight/2;let l=o.top-u,m=o.left;if(e){const t=u*Math.sin(a),e=u*Math.cos(a);m+=t,l-=e}return{top:`${l}px`,left:`${m}px`,width:`${i}px`,transform:`rotate(${p}deg)`}}},countTip(){return Editor.I18n.t("animation-graph.transition.countTip").replace("${count}",this.dump.siblings.length+1)}},exports.watch={},exports.methods={resize(){},mouseDown(t){const e=this;t.stopPropagation(),t.preventDefault(),e.mouseDownPoint={button:0===t.button?"left":"right"},document.addEventListener("mouseup",function t(o){e.mouseDownPoint&&"right"===e.mouseDownPoint.button?e.mouseDownPoint.hasMoved||e.contextMenu(e.mouseDownPoint):e.mouseDownPoint.hasMoved||e.$parent.select(e.dump),document.removeEventListener("mouseup",t),e.mouseDownPoint=null})},contextMenu(){const t=this;t.dump.siblings.length?Editor.Menu.popup({menu:[{label:Editor.I18n.t("animation-graph.transition.removeAll"),click(){t.$root.removeTransition(t.dump.index,!0)}}]}):Editor.Menu.popup({menu:[{label:Editor.I18n.t("animation-graph.transition.remove"),click(){t.$root.removeTransition(t.dump.index,!1)}}]})}},exports.mounted=mounted;