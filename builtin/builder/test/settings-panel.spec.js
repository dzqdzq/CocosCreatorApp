const{expect:expect}=require("chai");function wait(t){return new Promise(e=>{setTimeout(()=>{e()},t||200)})}describe("构建面板选项 UI 点击测试",()=>{before(async()=>{await Editor.Panel.open("builder"),await wait(1e3);const t=Tester.Dom.selector("builder");await t.find(".toolbar").find("ui-button").click(),await wait(500)});const t=Tester.Dom.selector("builder").find(".settings").find("footer").find("ui-button");describe("outputName 更改名称测试",()=>{const e=Tester.Dom.selector("builder").find(".settings").find("section").find("ui-prop").eq(0),i=Tester.Dom.selector("builder").find(".settings").find("section").find("ui-prop").eq(0).find("ui-input");describe("输入中文测试",async()=>{await i.data("value",""),await i.input("这里是中文"),await i.enter(),wait(1e3);const a=await e.attr("error"),o=await i.attr("title"),n=await t.attr("disabled");it("显示红色错误",()=>{expect(a).to.be.ok}),it("title 上显示对应错误信息",()=>{expect(o).to.be.ok}),it("构建按钮不可点击",()=>{expect(n).to.be.ok})}),describe("输入正常任务名",async()=>{wait(1e3),await i.data("value",""),await i.input("taskName"),await i.enter(),wait(1e3);const a=await e.attr("error"),o=await i.attr("title"),n=await t.attr("disabled");it("本地构建设置信息成功存储",async()=>{const t=await Editor.Profile.getConfig("builder","common.taskName");expect(t).to.be.equal("taskName")}),it("红色错误显示效果清除",()=>{expect(a).to.be.not.ok}),it("title 上无错误信息",()=>{expect(o).to.be.not.ok}),it("构建按钮可点击",()=>{expect(n).to.be.not.ok})})})});