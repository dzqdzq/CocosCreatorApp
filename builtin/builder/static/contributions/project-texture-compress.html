<div class="texture-compress">
    <div class="toolbar">
        <ui-prop :message="configNameTips">
            <ui-label slot="label" value="i18n:builder.project.texture_compress.presetName"></ui-label>
            <div slot="content">
                <ui-icon value="search"></ui-icon>
                <ui-input
                    placeholder="i18n:builder.project.texture_compress.tips.enter_config_name_to_add"
                    show-clear
                    @change="onConfigNameChange"
                    @keydown.enter="addConfig($event.target.value)"
                ></ui-input>
            </div>
        </ui-prop>
        <ui-button @confirm="addConfig" tooltip="i18n:builder.project.texture_compress.add_config">
            <ui-icon value="add"></ui-icon>
        </ui-button>
        <ui-button @confirm="importConfig" tooltip="i18n:builder.project.texture_compress.import_config">
            <ui-icon value="import"></ui-icon>
        </ui-button>
        <ui-button @confirm="exportConfig" tooltip="i18n:builder.project.texture_compress.export_config">
            <ui-icon value="export"></ui-icon>
        </ui-button>
    </div>
    <div class="config-wrap" ref="wrap" v-if="initialized">
        <compress-config
            v-for="(config, name) in defaultConfig"
            v-show="name.includes(newConfigName)"
            :key="name"
            :compress-info="textureCompressConfig"
            :config="config.options"
            :disabled="true"
            :name="name + ' (builtin)'"
            :id="name"
        >
        </compress-config>
        <compress-config
            v-for="(config, id) in displayConfigs"
            v-if="config"
            :key="id"
            :compress-info="textureCompressConfig"
            :config="config.options"
            :name="config.name"
            :id="id"
            @add="onAddFormat"
            @remove="onRemoveFormat"
            @change="onChangeFormatName"
            @update="onUpdateFormatQuality"
        >
        </compress-config>
    </div>
</div>
