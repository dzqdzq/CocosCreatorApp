"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handle=exports.name=exports.title=void 0;const bundle_utils_1=require("../../../share/bundle-utils");async function handle(t,e,s){console.debug("sort script group...");const{MAIN:n,START_SCENE:a}=bundle_utils_1.BuiltinBundleName,i=e.bundleMap[a]||e.bundleMap[n];for(const t of s.scriptUuids){const n=s.getAssetInfo(t),a=await s.getMeta(t);if(a.userData.isPlugin&&a.userData.loadPluginInWeb)e.addPlugin(n);else{const t=e.bundles.find(t=>n.url.startsWith(t.root+"/"));t?t.addScript(n):i.addScript(n)}}}exports.title="i18n:tasks.sort_script",exports.name="data-task/script",exports.handle=handle;