"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildSystemJsX=void 0;const path_1=__importDefault(require("path")),build_systemjs_1=require("@editor/lib-programming/dist/build-systemjs"),ejs_1=__importDefault(require("ejs"));async function buildSystemJsX(e,s){var t;s.paths.systemJs=path_1.default.join(s.paths.dir,"src","system.bundle.js");const i=path_1.default.join(__dirname,"..","..","..","..","..","static","systemjs","index"),r=`${i}.ejs`,u={preset:null===(t=e.buildScriptParam.system)||void 0===t?void 0:t.preset},a=(await ejs_1.default.renderFile(r,u)).toString();await(0,build_systemjs_1.build)({input:`${i}.js`,inputSource:a,out:s.paths.systemJs,sourceMap:e.sourceMaps,minify:!e.debug})}exports.buildSystemJsX=buildSystemJsX;