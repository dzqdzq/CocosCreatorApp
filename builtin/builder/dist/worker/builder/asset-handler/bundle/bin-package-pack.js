"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.binPackagePack=binPackagePack;const PACK_BIN_TYPE="BINP",VERSION=2,UNIT_SIZE=4,LITTLE_ENDIAN=!0,FLOAT32_SIZE=4;function binPackagePack(e){var t=genHeaderBin(e),e=packBin(e);return packBin([t,e])}function getPaddedSize(e){return Math.ceil(e/FLOAT32_SIZE)*FLOAT32_SIZE}function packBin(e){var t=e.reduce((e,t)=>e+getPaddedSize(t.byteLength),0);const n=new Uint8Array(t);let a=0;return e.forEach(e=>{n.set(new Uint8Array(e),a),a+=getPaddedSize(e.byteLength)}),n.buffer}function genHeaderBin(e){var t=e.length,n=new ArrayBuffer(UNIT_SIZE*(3+2*t));const a=new DataView(n);for(let e=0;e<PACK_BIN_TYPE.length;e++)a.setUint8(e,PACK_BIN_TYPE.charCodeAt(e));a.setUint32(UNIT_SIZE,VERSION,LITTLE_ENDIAN),a.setUint32(2*UNIT_SIZE,t,LITTLE_ENDIAN);let r=0;return e.forEach((e,t)=>{a.setUint32(UNIT_SIZE*(3+2*t),r,LITTLE_ENDIAN),r+=getPaddedSize(e.byteLength),a.setUint32(UNIT_SIZE*(3+2*t+1),e.byteLength,LITTLE_ENDIAN)}),n}