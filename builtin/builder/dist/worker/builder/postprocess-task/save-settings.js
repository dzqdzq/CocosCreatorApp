"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handle=exports.title=void 0;const fs_extra_1=require("fs-extra"),path_1=require("path"),crypto_1=require("crypto");async function handle(t,e,s){const n=e.settings;if(t.md5Cache){e.bundles.sort((t,e)=>t.name.localeCompare(e.name));for(const t of e.bundles)n.bundleVers[t.name]=t.version;const t=(0,crypto_1.createHash)("md5");t.update(JSON.stringify(e.settings)),e.paths.settings=(0,path_1.join)((0,path_1.dirname)(e.paths.settings),`settings.${t.digest("hex").slice(0,5)}.json`)}const r=JSON.stringify(e.getOutputSettings(),null,t.debug?4:0);(0,fs_extra_1.outputFileSync)(e.paths.settings,r,"utf8")}exports.title="i18n:builder.tasks.postprocess.save_settings",exports.handle=handle;