"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handle=void 0;const fs_extra_1=require("fs-extra");async function handle(e){const t=await(0,fs_extra_1.readJSON)(e);if(!t)return void console.error("can't get cache settings...");const s=t.uuids,n=t.rawAssets,o=t.assetTypes,r=t.rawAssets={};for(const e in n){const t=n[e],c=r[e]={};for(const e in t){const n=t[e],r=n[1];"number"==typeof r&&(n[1]=o[r]),c[s[e]||e]=n}}const c=t.scenes;for(let e=0;e<c.length;++e){const t=c[e];"number"==typeof t.uuid&&(t.uuid=s[t.uuid])}const u=t.packedAssets;for(const e in u){const t=u[e];for(let e=0;e<t.length;++e)"number"==typeof t[e]&&(t[e]=s[t[e]])}const a=t.subpackages;for(const e in a){const t=a[e].uuids;if(t)for(let e=0,n=t.length;e<n;e++)"number"==typeof t[e]&&(t[e]=s[t[e]])}return t}exports.handle=handle;