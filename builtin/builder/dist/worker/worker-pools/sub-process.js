"use strict";const ps=require("path");process.on("uncaughtException",e=>{console.error(e)}),process.on("message",async function(e){if("excute-script"===e.type&&process.send){const n=await excuteScript(e.path,e.method,e.args);process.send({data:n instanceof Error?null:n,code:n instanceof Error?-1:0,type:"excute-script over"})}});const RawWarning=console.warn;async function excuteScript(e,n="handler",r=[]){try{const c=require(e);return await c[n](...r)}catch(e){return console.error(e),e}}console.warn=function(...e){try{"string"==typeof e[0]?e[0]="[warning]"+e[0]:e[0]&&e[0].name&&(e[0].name="[warning]"+e[0].name)}catch(e){console.debug(e)}RawWarning(...e)},console.log(`enter sub process ${process.pid}, ${process.argv}`);