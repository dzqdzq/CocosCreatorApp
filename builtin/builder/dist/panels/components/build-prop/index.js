"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.methods=exports.name=exports.computed=exports.props=exports.template=void 0,exports.template='\n<div class="build-prop" @confirm.stop="onConfirm">\n    <span class="required" v-if="config && config.verifyRules && config.verifyRules.includes(\'required\')">*</span>\n    <ui-prop type="ui"\n        v-if="config && config.render"\n        :class="config.attributes && config.attributes.class"\n        :label="config.label"\n        :render="configText"\n        :tooltip="config.description"\n        :error="showError"\n    ></ui-prop>\n    <ui-prop\n        v-if="config && [\'object\',\'array\'].includes(config.type) && config.itemConfigs"\n        :class="config.attributes && config.attributes.class"\n        :label="config.label"\n        :tooltip="config.description"\n        :error="showError"\n    >\n        <ui-label slot="label">{{config.label}}</ui-label>\n        <div slot="content">\n            <build-prop\n                v-for="(itemConfig, name) in config.itemConfigs"\n                :key="name"\n                :config="itemConfig"\n                :path="calcItemPath(name)"\n                :value="isEmpty(value && value[name]) ? config.default && config.default[name] : value[name]"\n                @update="onUpdate"\n            ></build-prop>\n        </div>\n    </ui-prop>\n    <slot></slot>\n    <ui-prop class="error-info"\n        v-if="showError"\n        :tooltip="error"\n    >\n        <ui-label slot="content" :value="error"></ui-label>\n    </ui-prop>\n</div>\n',exports.props=["config","path","value","error"],exports.computed={show(){return this.config&&this.config.ui||"object"!==this.config.type&&"array"!==this.config.type},disabled(){const e=this;if(!Array.isArray(e.config.disabledWhen))return!1;for(const n of e.config.disabledWhen)if(!e.pkgOptions[n])return!1;return!0},configText(){var e;const n=this;return n.config.render?(n.config.render.attributes||(n.config.render.attributes={}),n.config.render.attributes.value=null!==(e=n.value)&&void 0!==e?e:n.config.default,JSON.stringify(n.config.render)):""},showError(){return this.error&&(this.config&&!["object","array"].includes(this.config.type)||!this.config)}},exports.name="build-prop",exports.methods={onConfirm(e){const n=e.target.value;this.path&&this.$emit("update",this.path,n)},onUpdate(e,n){e&&this.$emit("update",e,n)},calcItemPath(e){const n=this;return"array"===n.config.type?`${n.path}[${e}]`:`${n.path}.${e}`},isEmpty:e=>void 0===e||null===e};