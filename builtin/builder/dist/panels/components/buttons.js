"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.methods=exports.computed=exports.name=exports.props=exports.template=void 0;const plugin_1=require("../plugin");function mounted(){}exports.template='\n<div v-if="task">\n    <ui-button\n        :disabled="isBuildDisabled"\n        @confirm="onBuild"\n        :tooltip="buildToolTip"\n    >\n        <ui-label i18n :value="buttonsConfig && buttonsConfig.build && buttonsConfig.build.label || \'builder.build\'"></ui-label>\n    </ui-button>\n    <div class="options" v-if="buttonsConfig">\n        <ui-button\n            v-for="(configItem, name) in buttonsConfig"\n            v-if="name !== \'build\'"\n            :key="name"\n            :disabled="!free || isDisabled || type === \'new\'"\n            @confirm="onButtonConfirm($event, name)"\n        >\n            <ui-label :value="configItem.label"></ui-label>\n        </ui-button>\n    </div>\n</div>\n',exports.props=["task","type","free","checkRes"],exports.name="buttons",exports.computed={isDisabled(){const t=this.task;return"processing"===t.state||"waiting"===t.state||!t.id||!plugin_1.pluginManager.platformMap[t.options.platform]},isBuildDisabled(){const{task:t,type:e,checkRes:i,free:n}=this;return"list"!==e&&!i||"new"!==e&&(!n||"processing"===t.state||"waiting"===t.state)||!plugin_1.pluginManager.platformMap[t.options.platform]},runDisabled(){return"failure"===this.task.state||this.isDisabled},buttonsConfig(){return plugin_1.pluginManager.getButtonsConfig(this.task.options.platform)},buildToolTip(){const t=this;return!1===t.checkRes?"i18n:builder.error.check_options_failed":"new"===t.type||t.free&&"processing"!==t.task.state&&"waiting"!==t.task.state?plugin_1.pluginManager.platformMap[t.task.options.platform]?"":Editor.I18n.t("i18n:builder.tips.platform_missing",{platform:t.task.options.platform}):"i18n:builder.tips.task_busy"}},exports.methods={onButtonConfirm(t,e){plugin_1.pluginManager.runBtn(t,e,this.task.options,this.task.id),this.$root.showSettings=!1},onBuild(t){const e=this;switch(e.type){case"new":Editor.Message.send("builder","add-task",e.task.options);break;default:Editor.Message.send("builder","recompile-task",e.task.id,e.task.options)}e.$root.showSettings=!1}},exports.mounted=mounted;