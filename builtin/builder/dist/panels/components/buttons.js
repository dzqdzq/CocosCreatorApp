"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mounted=exports.methods=exports.computed=exports.name=exports.props=exports.template=void 0;const plugin_1=require("../plugin");function mounted(){}exports.template='\n<div v-if="task">\n    <ui-button\n        :disabled="type !== \'list\' && !checkRes || type !== \'new\' && (!free || task.state === \'processing\' || task.state === \'waiting\')"\n        @confirm="onBuild"\n        :tooltip="buildToolTip"\n    >\n        <ui-label i18n :value="buttonsConfig && buttonsConfig.build && buttonsConfig.build.label || \'builder.build\'"></ui-label>\n    </ui-button>\n    <div class="options" v-if="buttonsConfig">\n        <ui-button\n            v-for="(configItem, name) in buttonsConfig"\n            v-if="name !== \'build\'"\n            :key="name"\n            :disabled="!free || isDisabled || type === \'new\'"\n            @confirm="onButtonConfirm($event, name)"\n        >\n            <ui-label :value="configItem.label"></ui-label>\n        </ui-button>\n    </div>\n</div>\n',exports.props=["task","type","free","checkRes"],exports.name="buttons",exports.computed={isDisabled(){const t=this.task;return"processing"===t.state||"waiting"===t.state||!t.id},runDisabled(){return"failure"===this.task.state||this.isDisabled},buttonsConfig(){return plugin_1.pluginManager.getButtonsConfig(this.task.options.platform)},buildToolTip(){return!1===this.checkRes?"i18n:builder.error.check_options_failed":"new"===this.type||this.free&&"processing"!==this.task.state&&"waiting"!==this.task.state?"":"构建任务执行中，暂时无法构建新任务。"}},exports.methods={onButtonConfirm(t,e){plugin_1.pluginManager.runBtn(t,e,this.task.options,this.task.id),this.$root.showSettings=!1},onBuild(t){const e=this;switch(e.type){case"new":Editor.Message.send("builder","add-task",e.task.options);break;default:Editor.Message.send("builder","recompile-task",e.task.id,e.task.options)}e.$root.showSettings=!1}},exports.mounted=mounted;