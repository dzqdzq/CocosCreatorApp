"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.ready=exports.methods=exports.$=exports.template=exports.style=void 0;const fs_1=require("fs"),path_1=require("path");let vm,panel=null;const Vue=require("vue/dist/vue.js");async function ready(){vm=new Vue({el:(panel=this).$["debug-tools"],data:{taskMap:{},debugOptions:{config:{},cacheConfig:{engine:!0}},debug:!1,tips:"",tipsTimer:null},async mounted(){const e=this,t=await Editor.Message.request("builder","request-to-build-worker","build-worker:query-task-map");t&&(e.taskMap=t);const o=await Editor.Profile.getConfig("builder","debug-tools");Object.assign(e.debugOptions,o)},methods:{onConfirm(e,t,o){const s=this;s.debugOptions.config[t]||(s.debugOptions.config[t]={}),s.debugOptions.config[t][o]=e},async save(){await Editor.Profile.setConfig("builder","debug-tools",vm.debugOptions,"local"),clearTimeout(vm.tipsTimer),vm.tips="debug 配置保存成功",vm.tipsTimer=setTimeout(()=>{vm.tips=""},1e3)},async onDebug(e){vm.debug=e,await Editor.Message.send("builder","request-to-build-worker","build-worker:change-debug-mode",e)},async noCacheOption(e,t){const o=e.target.value;vm.debugOptions.cacheConfig[t]=o,await Editor.Message.send("builder","request-to-build-worker","build-worker:change-cache-config",t,o)},isSelectAll(e,t){const o=vm.taskMap[e];if(Array.isArray(o)&&t){for(const e of o)if(!1===t[e])return!1;return!0}return!0},selectAllTask(e,t){const o=vm.taskMap[e];if(Array.isArray(o))for(const e of o)vm.debugOptions.config[e]=t}}})}async function close(){await vm.onDebug(!1)}Vue.config.productionTip=!1,Vue.config.devtools=!1,exports.style=(0,fs_1.readFileSync)((0,path_1.join)(__dirname,"../../../dist/debug-tools.css"),"utf8"),exports.template=(0,fs_1.readFileSync)((0,path_1.join)(__dirname,"../../../static/template/debug-tools.html"),"utf8"),exports.$={"debug-tools":".debug-tools"},exports.methods={},exports.ready=ready,exports.close=close;