"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&__createBinding(t,e,o);return __setModuleDefault(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.methods=exports.components=exports.computed=exports.props=exports.template=void 0;const fs_extra_1=require("fs-extra"),path_1=require("path"),configGroup=__importStar(require("./config-group"));exports.template=fs_extra_1.readFileSync(path_1.join(__dirname,"../../../static/contributions/texture-compress-config.html"),"utf8"),exports.props=["compressInfo","config","disabled","name","id"],exports.computed={initialized(){return this.compressInfo&&this.config}},exports.components={"config-group":configGroup},exports.methods={showFormatMenu(e,t){Editor.Menu.popup({x:e.pageX,y:e.pageY,menu:t?this.getPlatformMenu(t):this.getMenu()})},getMenu(){const e=this,t=e.compressInfo.configGroups;return Object.keys(t).map(o=>({label:t[o].displayName,submenu:e.getPlatformMenu(o)}))},getPlatformMenu(e){const t=this,o=t.compressInfo.configGroups[e].support,r=t.compressInfo.formatsInfo;return[...new Set([...o.rgba,...o.rgb])].map(o=>({label:r[o].displayName,enabled:!t.config[e]||(o=o,!Object.keys(t.config[e]).find(e=>e.substr(0,3)===o.substr(0,3)&&r[o].alpha===r[e].alpha)),click(){t.$emit("add",t.id,e,o)}}));var i},removeFormat(e,t){this.$emit("remove",this.id,e,t)},copyId(){Editor.Clipboard.write("text",this.id)},onChangeFormatName(e){this.$emit("change",this.id,e)},updateFormatQuality(e,t,o){this.$emit("update",this.id,e,t,o)}};