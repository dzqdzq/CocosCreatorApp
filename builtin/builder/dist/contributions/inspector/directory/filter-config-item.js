"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.methods=exports.computed=exports.data=exports.props=exports.template=exports.defaultBundleFilterConfig=void 0,exports.defaultBundleFilterConfig={range:"exclude",type:"url",patchOption:{patchType:"glob",value:"db://assets/*.test"},assets:[""]},exports.template='\n<div class="filter-item indent" @click="toggleSelect">\n    <ui-select\n        :value="config.type"\n        @click.stop\n        @confirm="onConfigChange(\'type\', $event.target.value, config)"\n    >\n        <option value="asset">{{t(\'filterConfig.asset\')}}</option>\n        <option value="url">{{t(\'filterConfig.url\')}}</option>\n    </ui-select>\n    <div class="url"\n        v-if="config.type === \'url\'"\n    >\n        <ui-select\n            :value="config.patchOption.patchType"\n            @click.stop\n            @confirm="onConfigChange(\'patchOption.patchType\', $event.target.value, config)"\n        >\n            <option value="glob">{{t(\'filterConfig.glob\')}}</option>\n            <option value="beginWith">{{t(\'filterConfig.beginWith\')}}</option>\n            <option value="endWith">{{t(\'filterConfig.endWith\')}}</option>\n            <option value="contain">{{t(\'filterConfig.contain\')}}</option>\n        </ui-select>\n        <ui-input\n            :value="config.patchOption.value"\n            :placeholder="config.patchOption.patchType === \'url\' ? \'i18n:builder.asset_bundle.filterConfig.globTips\' : \'\'"\n            :tooltip="config.patchOption.value"\n            @click.stop\n            @confirm="onConfigChange(\'patchOption.value\', $event.target.value, config)"\n        ></ui-input>\n    </div>\n    <ui-drag-area v-else class="assets" droppable="cc.Asset"\n        @click.stop\n        @drop="onAssetDrop($event, config)"\n    >\n        <div class="asset-item" v-for="(uuid, index) in config.assets">\n            <ui-asset placeholder="cc.Asset" droppable="cc.Asset" \n                :value="uuid"\n                :key="uuid"\n                @confirm="onAssets(index, $event.target.value, config)"\n                :filter=\'filterConfig\'\n            ></ui-asset>\n        </div>\n    </ui-drag-area>\n</div>\n',exports.props=["config","range","assetUrl"];const data=function(){return{}};exports.data=data,exports.computed={filterConfig(){return JSON.stringify({pattern:this.assetUrl+"/**/*"})}},exports.methods={t:t=>Editor.I18n.t(`builder.asset_bundle.${t}`),onAssetDrop(t,e){const{additional:n}=JSON.parse(JSON.stringify(Editor.UI.__protected__.DragArea.currentDragInfo))||{};e.assets=e.assets.concat(n.map(t=>t.value)),e.assets=Array.from(new Set(e.assets));this.$emit("change")},onConfigChange(t,e,n){switch(t){case"type":n.type=e,"url"!==n.type||n.patchOption?n.assets=[""]:n.patchOption=JSON.parse(JSON.stringify(exports.defaultBundleFilterConfig.patchOption));break;case"patchOption.value":n.patchOption.value=e;break;case"patchOption.patchType":n.patchOption.patchType=e;break;default:return}this.$emit("change")},onAssets(t,e,n){n.assets[t]=e;this.$emit("change")},toggleSelect(){this.$emit("select")},changeConfigType(t,e){t.type=e,"url"!==t.type||t.patchOption?t.assets=[""]:t.patchOption=JSON.parse(JSON.stringify(exports.defaultBundleFilterConfig.patchOption));this.$emit("change")}};