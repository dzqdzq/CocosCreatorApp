"use strict";const{join:join}=require("path"),{app:app}=require("electron");app.disableDomainBlockingFor3DAPIs(),app.commandLine.appendSwitch("ignore-gpu-blacklist"),app.commandLine.appendSwitch("force_high_performance_gpu"),app.allowRendererProcessReuse=!1,app.commandLine.appendSwitch("enable-webgl2-compute-context"),"win32"===require("os").platform()&&app.commandLine.appendSwitch("use-angle","OpenGL"),app.allowRendererProcessReuse=!1,process.env.BROWSERSLIST_IGNORE_OLD_DATA=!0;const _uncaughtExceptionFunc=e=>{global.Editor&&Editor.Metrics.trackException({code:-1,message:e.message}),process.send&&process.connected&&process.send({channel:"editor-error",message:e.message,stack:e.stack}),console.error(e)};process.on("uncaughtException",_uncaughtExceptionFunc),async function(){const e=require("@editor/creator");await e.init({env:{LAYOUT:join(__dirname,"./static/layout-native.json")}});const n=join(__dirname,"node_modules");await e.registerFindModulePath(e=>{switch(e[0]){case"@electron/remote":case"cc":e[1].splice(0,0,n)}return e});const{launch:c}=require("./launch");await c()}();