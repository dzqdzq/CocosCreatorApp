"use strict";var __awaiter=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.methods=void 0;const path_1=require("path"),fs_extra_1=require("fs-extra");exports.methods={"create-build-template"(){return __awaiter(this,void 0,void 0,function*(){const e=path_1.join(__dirname,"../static/build-template/game.ejs").replace("app.asar","app.asar.unpacked"),t=path_1.join(Editor.Project.path,"build-templates","wechatgame",path_1.basename(e));if(fs_extra_1.existsSync(t)){if(1===(yield Editor.Dialog.warn("Do you want to overwrite the source file?",{buttons:["Yes","Cancel"],default:0,cancel:1})).response)return!1}fs_extra_1.copySync(e,t),fs_extra_1.writeJSONSync(path_1.join(Editor.Project.path,"build-templates",".wechatgame"),{version:Editor.App.version}),console.log(`wechatgame ${Editor.I18n.t("wechatgame.tips.creat_template_success")}({link(${t})})`)})}};