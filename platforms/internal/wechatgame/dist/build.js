"use strict";var __awaiter=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))(function(r,n){function s(e){try{p(i.next(e))}catch(e){n(e)}}function o(e){try{p(i.throw(e))}catch(e){n(e)}}function p(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(s,o)}p((i=i.apply(e,t||[])).next())})};function load(){return __awaiter(this,void 0,void 0,function*(){(yield Editor.Profile.getConfig("utils","features.wechatgame"))?(yield Editor.Profile.getConfig("utils","features.wechat-separation-engine"))||delete exports.configs.wechatgame.options.separateEngine:exports.configs.wechatgame={}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.configs=exports.load=void 0,exports.load=load;const isNormalVersion=/\d*\.\d*\.\d*$/.test(Editor.App.version)||Editor.App.dev,astcTypes=["astc_4x4","astc_5x5","astc_6x6","astc_8x8","astc_10x5","astc_10x10","astc_12x12"];exports.configs={wechatgame:{verifyRuleMap:{separateEngine:{func:function(e,t){return __awaiter(this,void 0,void 0,function*(){if(!e||t.debug)return!0;const a=yield Editor.Message.request("engine","query-info",Editor.Project.type);return!a||"builtin"===a.version})},message:"i18n:wechatgame.error.separate_engine"}},platformName:"i18n:wechatgame.title",options:{startSceneAssetBundle:{label:"i18n:wechatgame.options.start_scene_asset_bundle",default:!1,render:{ui:"ui-checkbox"}},orientation:{default:"portrait",label:"i18n:wechatgame.options.orientation",render:{ui:"ui-select",items:[{label:"Landscape",value:"landscapeRight"},{label:"Portrait",value:"portrait"}]}},appid:{label:"AppId",default:"wx6ac3f5090a6b99c5",render:{ui:"ui-input",attributes:{placeholder:"i18n:wechatgame.options.appid_holder"}}},remoteServerAddress:{label:"i18n:wechatgame.options.remote_server_address",description:"i18n:wechatgame.options.remote_server_address_tips",render:{ui:"ui-input",attributes:{placeholder:"i18n:wechatgame.options.remote_server_address_tips"}},verifyRules:["http"]},buildOpenDataContextTemplate:{label:"i18n:wechatgame.options.gen_open_data_context_template",description:"i18n:wechatgame.options.gen_open_data_context_template_tips",render:{ui:"ui-checkbox"}},separateEngine:{label:"i18n:wechatgame.options.separate_engine",description:isNormalVersion?"i18n:wechatgame.options.separate_engine_tips":"i18n:wechatgame.tips.separate_engine_only_in_normal_version",default:!1,render:{ui:"ui-checkbox",attributes:{disabled:!isNormalVersion}}},wasm:{default:"wasm"}},hooks:"./hooks",panel:"./view",textureCompressConfig:{platformType:"miniGame",support:{rgb:["etc1_rgb","pvrtc_4bits_rgb","pvrtc_2bits_rgb",...astcTypes],rgba:["etc1_rgb_a","pvrtc_4bits_rgb_a","pvrtc_4bits_rgba","pvrtc_2bits_rgb_a","pvrtc_2bits_rgba",...astcTypes]}},assetBundleConfig:{supportedCompressionTypes:["none","merge_dep","merge_all_json","zip","subpackage"]}}};