"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.buttonConfig=exports.ready=exports.$=exports.template=void 0;const fs_1=require("fs"),path_1=require("path"),build_1=require("./build"),verification_1=require("./utils/verification"),lodash=require("lodash"),methods={onNewCertificate(){Editor.Panel.open("builder.certificate")},t(e,t=""){const i=`xiaomi-quick-game.${t}${e}`;return Editor.I18n.t(i)},async onConfirm(e){const t=e.target.value,i=e.target.getAttribute("path");lodash.set(this.pkgOptions,i,t),this.updatePemPathCheckRes(),panel.dispatch("update",`packages.${this.pkgName}`,this.pkgOptions,this.verifyRes)},updatePemPathCheckRes(){const e=verification_1.verificationFunc("privatePemPath",this.pkgOptions.privatePemPath,this.options),t=verification_1.verificationFunc("certificatePemPath",this.pkgOptions.certificatePemPath,this.options);this.verifyRes.privatePemPath=this.pkgOptions.useDebugKey?null:e.error,this.verifyRes.certificatePemPath=this.pkgOptions.useDebugKey?null:t.error},init(){this.pkgOptions=JSON.parse(JSON.stringify(lodash.get(panel.options,`packages.${panel.options.platform}`)||{})),this.verifyRes=JSON.parse(JSON.stringify(lodash.get(panel.errorMap,`packages.${panel.options.platform}`)||{})),this.updatePemPathCheckRes(this.pkgOptions.useDebugKey),panel.dispatch("update",`packages.${this.pkgName}`,this.pkgOptions,this.verifyRes)}};let panel;function ready(e,t,i,a){panel=this;const o=require("vue/dist/vue.js");panel.options=e,panel.pkgName=i,panel.errorMap=a,panel.vm=new o({el:panel.$.root,methods:methods,data:()=>({pkgName:i,options:panel.options,errorMap:panel.errorMap,optionsConfig:build_1.optionsInPanel,pkgOptions:{},verifyRes:{}}),mounted(){this.init()},components:{"build-prop":BuildPanel.vueComps.buildProp,"template-comp":BuildPanel.vueComps.templateComp}})}exports.template=fs_1.readFileSync(path_1.join(__dirname,"../static/view.html"),"utf8"),exports.$={root:".xiaomi-quick-game"},exports.ready=ready,exports.buttonConfig={configs:{make:{label:"i18n:xiaomi-quick-game.make.label",hookHandle:"make"},run:{label:"i18n:xiaomi-quick-game.run.label",hookHandle:"run"}}};