"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.install=exports.isInit=void 0;const child_process_1=require("child_process"),fs_extra_1=require("fs-extra"),path_1=require("path");function isInit(e){return!!fs_extra_1.existsSync(path_1.join(e,"node_modules/quickgame-cli/lib"))}function install(e){fs_extra_1.ensureDirSync(e);const s="win32"===process.platform?"npm.cmd":"npm";return new Promise((i,r)=>{child_process_1.exec(`${s} install`,{cwd:e},s=>{if(!s)return console.log("init xiaomi pack tools success"),i(!0),!0;console.error(s),console.error(new Error("init xiaomi pack tools failed!")),fs_extra_1.removeSync(path_1.join(e,"node_modules")),r(s)})})}exports.isInit=isInit,exports.install=install;