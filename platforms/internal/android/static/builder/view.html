
<div class="android">
    <build-prop :error="pkgErrorMap.packageName">
        <ui-prop
            @confirm="onConfirm"
            :error="!!(pkgErrorMap.packageName && pkgErrorMap.packageName.error)"
        >
            <ui-label slot="label" value="i18n:android.options.package_name"></ui-label>
            <ui-input slot="content" path="packageName"
                :value="pkgOptions.packageName"
                :placeholder="getDefaultPackageName()"
            ></ui-input>
        </ui-prop>
    </build-prop>

    <build-prop :error="pkgErrorMap.apiLevel">
        <ui-prop
            @confirm="onConfirm"
            :error="!!pkgErrorMap.apiLevel"
        >
            <ui-label slot="label" value="Target API Level"></ui-label>
            <div slot="content" style="display: block;">
                <ui-select path="apiLevel"
                    @confirm="onConfirm"
                    :value="pkgOptions.apiLevel || apiLevels[0]"
                >
                    <template
                        v-for="item in apiLevels"
                    >
                        <option
                            :value="item"
                        >{{item}}</option>
                    </template>
                </ui-select>
                <ui-button @confirm="onSetAndroidSDK">Set Android SDK</ui-button>
            </div>
        </ui-prop>
    </build-prop>

    <build-prop :error="pkgErrorMap.appABIs">
        <ui-prop>
            <ui-label slot="label" value="APP ABI"></ui-label>
            <div slot="content" style="display: block;">
                <div
                    v-for="abi in appABIList"
                >
                    <ui-checkbox
                        :value="pkgOptions.appABIs && pkgOptions.appABIs.includes(abi)"
                        @confirm.stop="onChangeABI($event, abi)"
                    >{{abi}}</ui-checkbox>
                </div>
            </div>
        </ui-prop>
    </build-prop>

    <!-- Keystore -->
    <ui-prop>
        <ui-label slot="label" value="i18n:android.KEYSTORE.use_debug_keystore"></ui-label>
        <ui-checkbox slot="content"
            :value="pkgOptions.useDebugKeystore"
            @confirm.stop="onChangeDebugKeystore($event.target.value)"
        >Use Debug Keystore</ui-checkbox>
    </ui-prop>

    <build-prop :error="pkgErrorMap.keystorePath">
        <ui-prop
            :error="!!pkgErrorMap.keystorePath"
        >
            <ui-label slot="label" value="i18n:android.KEYSTORE.keystore_path"></ui-label>
            <div slot="content">
                <ui-file path="keystorePath"
                    :disabled="pkgOptions.useDebugKeystore"
                    :value="pkgOptions.keystorePath"
                    @confirm="onConfirm"
                ></ui-file>
                <!-- // TODO 新建密钥功能-->
                <!-- <ui-button @confirm="onNewKeyStore" :disabled="pkgOptions.useDebugKeystore">
                    <ui-label i18n>android.KEYSTORE.new_keystore</ui-label>
                </ui-button> -->
            </div>
        </ui-prop>
    </build-prop>

    <build-prop :error="pkgErrorMap.keystorePassword">
        <ui-prop
            :error="!!pkgErrorMap.keystorePassword"
        >
            <ui-label slot="label" value="i18n:android.KEYSTORE.keystore_password"></ui-label>
            <ui-input slot="content" path="keystorePassword"
                :disabled="pkgOptions.useDebugKeystore"
                :value="pkgOptions.keystorePassword"
                @confirm="onConfirm"
            ></ui-input>
        </ui-prop>
    </build-prop>

    <build-prop :error="pkgErrorMap.keystoreAlias">
        <ui-prop
            :error="!!pkgErrorMap.keystoreAlias"
        >
            <ui-label slot="label" value="i18n:android.KEYSTORE.keystore_alias"></ui-label>
            <ui-input slot="content" path="keystoreAlias"
                :disabled="pkgOptions.useDebugKeystore"
                :value="pkgOptions.keystoreAlias"
                @confirm="onConfirm"
            ></ui-input>
        </ui-prop>
    </build-prop>

    <build-prop :error="pkgErrorMap.keystoreAliasPassword">
        <ui-prop
            :error="!!pkgErrorMap.keystoreAliasPassword"
        >
            <ui-label slot="label" value="i18n:android.KEYSTORE.keystore_alias_password"></ui-label>
            <ui-input slot="content" path="keystoreAliasPassword"
                :disabled="pkgOptions.useDebugKeystore"
                :value="pkgOptions.keystoreAliasPassword"
                @confirm="onConfirm"
            ></ui-input>
        </ui-prop>
    </build-prop>

    <!-- Orientation -->
    <ui-prop @confirm="onConfirm">
        <ui-label slot="label" value="i18n:android.options.screen_orientation"></ui-label>
        <div slot="content" style="display: block;">
            <div>
                <ui-checkbox path="orientation.portrait"
                    :value="pkgOptions.orientation && pkgOptions.orientation.portrait"
                >Portrait</ui-checkbox>
            </div>
            <div>
                <ui-checkbox path="orientation.landscapeLeft"
                    :value="pkgOptions.orientation && pkgOptions.orientation.landscapeLeft"
                >Landscape Left</ui-checkbox>
            </div>
            <div>
                <ui-checkbox path="orientation.landscapeRight"
                    :value="pkgOptions.orientation && pkgOptions.orientation.landscapeRight"
                >Landscape Right</ui-checkbox>
            </div>
        </div>
    </ui-prop>

    <!-- android instant config -->
    <build-prop :error="pkgErrorMap.remoteUrl">
        <ui-prop>
            <ui-label slot="label" value="Google Play Instant"></ui-label>
            <div slot="content" style="display: block;">
                <ui-checkbox path="androidInstant"
                     :value="pkgOptions.androidInstant"
                     @change="changeInstantValue($event.target.value)"
                ></ui-checkbox>
                <ui-prop v-if="pkgOptions.androidInstant" :error="!!pkgErrorMap.remoteUrl">
                    <ui-label slot="label" value="i18n:android.options.intent_filter"></ui-label>
                    <ui-input slot="content" path="remoteUrl"
                          placeholder="https://www.cocos.com/assets"
                          :value="pkgOptions.remoteUrl"
                          @confirm="onConfirm"
                    >
                    </ui-input>
                </ui-prop>
            </div>
        </ui-prop>
    </build-prop>
    <!-- bundle -->
    <ui-prop>
        <ui-label slot="label" value="Generate App Bundle (Google Play)"></ui-label>
        <ui-checkbox slot="content" path="appBundle"
            :value="pkgOptions.appBundle"
            @confirm="onConfirm"
        ></ui-checkbox>
    </ui-prop>
</div>
