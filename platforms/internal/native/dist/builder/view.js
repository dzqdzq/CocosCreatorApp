"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ready=exports.update=exports.$=exports.template=exports.style=void 0;const lodash=require("lodash");let panel;function update(e,n){panel=this,n&&!n.startsWith(`pacakges.${panel.pkgName}`)||(panel.options=e,panel.vm.init())}function ready(e,n,t,i){panel=this;const o=require("vue/dist/vue.js");panel.options=e,panel.pkgName=t,panel.errorMap=i,panel.vm=new o({el:panel.$.root,methods:methods,data:()=>({pkgName:t,options:panel.options,errorMap:panel.errorMap,pkgOptions:{},verifyRes:{},nativeEngine:"builtin"}),computed:{JobSystemTips:()=>"ios"===panel.options.platform?"i18n:native.options.JobSystemIOS":"i18n:native.options.JobSystemOther"},async mounted(){const e=this;e.init();const n=await Editor.Message.request("engine","query-info");"custom"===n.nativeVersion&&(e.nativeEngine=n.nativePath)},components:{"build-prop":BuildPanel.vueComps.buildProp,"template-comp":BuildPanel.vueComps.templateComp}})}exports.style=".",exports.template='\n<div class="native">\n    <ui-prop class="build-prop">\n        <ui-label slot="label" value="i18n:native.encrypt.title"></ui-label>\n        <div slot="content" style="flex-direction: column">\n            <ui-checkbox :value="pkgOptions.encrypted"\n                @change="updateValue($event,\'encrypted\')"\n            ></ui-checkbox>\n            <ui-prop v-if="pkgOptions.encrypted">\n                <ui-label slot="label" value="i18n:native.encrypt.encrypt_encrypt"></ui-label>\n                <div slot="content">\n                    <ui-input :value="pkgOptions.xxteaKey"\n                        @change="updateValue($event,\'xxteaKey\')"\n                    ></ui-input>\n                </div>\n            </ui-prop>\n            <ui-prop v-if="pkgOptions.encrypted">\n                <ui-label slot="label" value="i18n:native.encrypt.compress_zip"></ui-label>\n                <div slot="content">\n                    <ui-checkbox :value="pkgOptions.compressZip"\n                        @change="updateValue($event,\'compressZip\')"\n                    ></ui-checkbox>\n                </div>\n            </ui-prop>\n        </div>\n    </ui-prop>\n    <ui-prop class="build-prop">\n        <ui-label slot="label" value="i18n:native.options.native_engine"></ui-label>\n        <div slot="content" style="display: flex; flex-direction: row;">\n            <div style="flex: 1;">\n                <ui-label v-if="nativeEngine === \'builtin\'" value="i18n:native.options.builtin_engine"></ui-label>\n                <span v-else>{{nativeEngine}}</span>\n            </div>\n            <ui-icon value="edit" @click="onEditNativeEngine"></ui-icon>\n        </div>\n    </ui-prop>\n    <ui-prop class="build-prop">\n        <ui-label slot="label" value="i18n:native.options.JobSystem"></ui-label>\n        <div slot="content">\n            <ui-select :value="pkgOptions.JobSystem" @change="updateValue($event,\'JobSystem\')">\n                <option value="none">{{t(\'native.options.none\')}}</option>\n                <option value="tbb">TBB</option>\n                <option value="taskFlow">TaskFlow</option>\n            </ui-select>\n            <ui-label v-if="pkgOptions.JobSystem === \'taskFlow\'" class="tips" :value="JobSystemTips"></ui-label>\n        </div>\n    </ui-prop>\n</div>\n',exports.$={root:".native"},exports.update=update,exports.ready=ready;const methods={async updateValue(e,n){this.pkgOptions[n]=e.target.value,panel.dispatch("update",`packages.${this.pkgName}.${n}`,e.target.value,this.verifyRes[n])},onEditNativeEngine(){Editor.Message.request("preferences","open-settings","engine")},init(){this.pkgOptions=lodash.get(panel.options,`packages.${this.pkgName}`)||{},this.verifyRes=lodash.get(panel.errorMap,`packages.${this.pkgName}`)||{}},t:e=>Editor.I18n.t(e)};