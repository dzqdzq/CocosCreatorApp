"use strict";const ipc=require("@base/electron-base-ipc"),ps=require("path"),fs=require("fs"),args=require("./args"),{app:app}=require("electron"),pkg=require("../../package.json"),ipcFlag=`${pkg.name}@${pkg.version}`;let name=app.getName(),version=app.getVersion(),argObject=args.analyze(process.argv);const appPkg=require(ps.join(app.getAppPath(),"package.json"));void 0===argObject.dev?argObject.dev=!1:argObject.dev=!!argObject.dev,argObject.home&&!ps.isAbsolute(argObject.home)&&(argObject.home=ps.join(process.cwd(),argObject.project)),argObject.home&&fs.existsSync(argObject.home)||(argObject.home=ps.join(app.getPath("home"),`.${name}`+(argObject.dev?"_Develop":""))),argObject.project&&!ps.isAbsolute(argObject.project)&&(argObject.project=ps.join(process.cwd(),argObject.project));let PATH={HOME:argObject.home,PROJECT:argObject.project||"",APP:process.cwd()};module.exports={name:name,version:version,title:appPkg.title,PATH:PATH,dev:!!argObject.dev,args:argObject},ipc.on(`${ipcFlag}:query`,()=>module.exports);