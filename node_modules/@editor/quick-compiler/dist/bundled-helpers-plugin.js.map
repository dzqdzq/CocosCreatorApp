{"version":3,"file":"bundled-helpers-plugin.js","sourceRoot":"","sources":["../src/bundled-helpers-plugin.ts"],"names":[],"mappings":";;;AACA,aAAa;AACb,wEAAwD;AAGxD,SAAgB,kBAAkB;IAK9B,OAAO;QACH,OAAO,EAAE,EAAE;QACX,GAAG,CAAC,IAAI;YACJ,MAAM,aAAa,GAA2B,EAAE,CAAC;YACjD,aAAa;YACb,IAAI,CAAC,GAAG,CAAC,iBAAiB,EAAE,CAAC,IAAY,EAAE,EAAE;gBACzC,aAAa;gBACb,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;oBAC7B,OAAO,IAAI,CAAC;iBACf;gBACD,IAAI,aAAa,CAAC,IAAI,CAAC,EAAE;oBACrB,OAAO,aAAa,CAAC,IAAI,CAAC,CAAC;iBAC9B;gBACD,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,IAAA,gCAAQ,EAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACzF,CAAC,CAAC,CAAC;QACP,CAAC;KACJ,CAAC;AACN,CAAC;AAtBD,gDAsBC","sourcesContent":["\r\n// @ts-ignore\r\nimport { addNamed } from '@babel/helper-module-imports';\r\nimport * as babel from '@babel/core';\r\n\r\nexport function importHelperPlugin(): babel.PluginObj<{\r\n    opts: {\r\n        helperModuleName: string;\r\n    },\r\n}> {\r\n    return {\r\n        visitor: {},\r\n        pre(file) {\r\n            const cachedHelpers: Record<string, string> = {};\r\n            // @ts-ignore\r\n            file.set('helperGenerator', (name: string) => {\r\n                // @ts-ignore\r\n                if (!file.availableHelper(name)) {\r\n                    return null;\r\n                }\r\n                if (cachedHelpers[name]) {\r\n                    return cachedHelpers[name];\r\n                }\r\n                return (cachedHelpers[name] = addNamed(file.path, name, this.opts.helperModuleName));\r\n            });\r\n        },\r\n    };\r\n}\r\n"]}