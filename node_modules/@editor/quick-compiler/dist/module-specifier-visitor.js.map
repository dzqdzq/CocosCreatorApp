{"version":3,"file":"module-specifier-visitor.js","sourceRoot":"","sources":["../src/module-specifier-visitor.ts"],"names":[],"mappings":";;;AACA,SAAgB,6BAA6B,CAAC,EAA6D;IAEvG,OAAO;QACH,iBAAiB,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACnD,oBAAoB,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtD,sBAAsB,EAAE,CAAC,IAAI,EAAE,EAAE;YAC7B,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAClC,IAAI,MAAM,CAAC,IAAI,KAAK,IAAI,EAAE;gBACtB,EAAE,CAAC,MAA2B,CAAC,CAAC;aACnC;QACL,CAAC;QACD,cAAc,EAAE,CAAC,IAAI,EAAE,EAAE;YACrB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC;YACtB,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,QAAQ;gBAC7B,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC;gBAC3B,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,eAAe,EAAE;gBAC5C,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAsB,CAAC,CAAC;aACrD;QACL,CAAC;KACJ,CAAC;AACN,CAAC;AApBD,sEAoBC","sourcesContent":["\r\nexport function makeVisitorOnModuleSpecifiers(fx: (path: babel.NodePath<babel.types.StringLiteral>) => void): babel.Visitor {\r\n    type StringLiteralPath = babel.NodePath<babel.types.StringLiteral>;\r\n    return {\r\n        ImportDeclaration: (path) => fx(path.get('source')),\r\n        ExportAllDeclaration: (path) => fx(path.get('source')),\r\n        ExportNamedDeclaration: (path) => {\r\n            const source = path.get('source');\r\n            if (source.node !== null) {\r\n                fx(source as StringLiteralPath);\r\n            }\r\n        },\r\n        CallExpression: (path) => {\r\n            const { node } = path;\r\n            if (node.callee.type === 'Import' &&\r\n                node.arguments.length === 1 &&\r\n                node.arguments[0].type === 'StringLiteral') {\r\n                fx(path.get('arguments')[0] as StringLiteralPath);\r\n            }\r\n        },\r\n    };\r\n}\r\n"]}