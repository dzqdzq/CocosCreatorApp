"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CjsModuleNotFileError = exports.CjsInteropError = exports.CanNotBeBaseURLError = exports.ImportMapBackTrackingError = exports.ImportMapImportMatchError = exports.ImportMapNullEntryError = exports.ImportMapParseError = exports.UnsupportedDirectoryImportError = exports.ModuleNotFoundError = exports.PackageImportNotDefined = exports.PackagePathNotExportedError = exports.InvalidPackageTargetError = exports.InvalidPackageConfigurationError = exports.InvalidModuleSpecifierError = void 0;
const i18n_1 = require("../../../utils/i18n");
/**
 * Specifier 是无效的 URL、包名或包的子路径 specifier。
 */
class InvalidModuleSpecifierError extends Error {
    constructor(specifier) {
        super(i18n_1.i18nTranslate('resolve_error_invalid_module_specifier', {
            specifier,
        }));
    }
}
exports.InvalidModuleSpecifierError = InvalidModuleSpecifierError;
/**
 *  `package.json` 配置无效或包含无效的配置。
 */
class InvalidPackageConfigurationError extends Error {
    constructor(packageURL) {
        super(i18n_1.i18nTranslate('resolve_error_invalid_package_configuration', {
            packageURL: packageURL.href,
        }));
    }
}
exports.InvalidPackageConfigurationError = InvalidPackageConfigurationError;
/**
 * 包的导入或导出为包定义了目标模块，但该目标模块的类型无效或指定了一个字符串目标。
 */
class InvalidPackageTargetError extends Error {
    constructor(packageURL) {
        super(i18n_1.i18nTranslate('resolve_error_invalid_package_target', {
            packageURL: packageURL.href,
        }));
    }
}
exports.InvalidPackageTargetError = InvalidPackageTargetError;
/**
 * 指定模块所在包的导出没有定义或者不允许导出目标子路径。
 * Package exports do not define or permit a target subpath in the package for the given module.
 */
class PackagePathNotExportedError extends Error {
    constructor(subpath, packageURL) {
        super(i18n_1.i18nTranslate('resolve_error_package_path_not_exported', {
            subpath,
            packageURL: packageURL.href,
        }));
    }
}
exports.PackagePathNotExportedError = PackagePathNotExportedError;
/**
 * Package imports do not define the specifier.
 * 包的 `imports` 中未囊括该 specifier 的定义。
 */
class PackageImportNotDefined extends Error {
    constructor(specifier, packageURL) {
        super(i18n_1.i18nTranslate('resolve_error_package_imports_not_defined', {
            specifier,
            packageURL: packageURL.href,
        }));
    }
}
exports.PackageImportNotDefined = PackageImportNotDefined;
class ModuleNotFoundError extends Error {
    constructor(specifier, parentURL) {
        super(i18n_1.i18nTranslate('resolve_error_module_not_found', {
            specifier,
            parentURL: parentURL.href,
        }));
    }
}
exports.ModuleNotFoundError = ModuleNotFoundError;
class UnsupportedDirectoryImportError extends Error {
    constructor() { super(i18n_1.i18nTranslate('resolve_unsupported_directory_import')); }
}
exports.UnsupportedDirectoryImportError = UnsupportedDirectoryImportError;
class ImportMapParseError extends Error {
    constructor(message) { super(i18n_1.i18nTranslate('import_map_parse_error')); }
}
exports.ImportMapParseError = ImportMapParseError;
class ImportMapNullEntryError extends Error {
    constructor(message) { super(i18n_1.i18nTranslate('import_map_null_entry_error')); }
}
exports.ImportMapNullEntryError = ImportMapNullEntryError;
class ImportMapImportMatchError extends Error {
    constructor(message) { super(i18n_1.i18nTranslate('import_map_import_match_error')); }
}
exports.ImportMapImportMatchError = ImportMapImportMatchError;
class ImportMapBackTrackingError extends Error {
    constructor(prefix) { super(i18n_1.i18nTranslate('import_map_back_tracking_error', { prefix })); }
}
exports.ImportMapBackTrackingError = ImportMapBackTrackingError;
/**
 * ModLo 特定：解析出的 URL 含有 “cannot-be-a-base-URL” 状态。
 */
class CanNotBeBaseURLError extends Error {
    constructor(url) { super(i18n_1.i18nTranslate('modLo_can_not_be_base_url_error', { url: url.href })); }
}
exports.CanNotBeBaseURLError = CanNotBeBaseURLError;
/**
 * ModLo 特定：无法从源 ESM 模块中解析目标 CommonJS 模块。
 */
class CjsInteropError extends Error {
    constructor(url, error) { super(i18n_1.i18nTranslate('modLo_cjs_interop_error', { url: url.href })); }
}
exports.CjsInteropError = CjsInteropError;
/**
 * ModLo 特定：CommonJS 模块必须是文件模块。
 */
class CjsModuleNotFileError extends Error {
    constructor(url) { super(i18n_1.i18nTranslate('modLo_cjs_module_not_file_error', { url: url.href })); }
}
exports.CjsModuleNotFileError = CjsModuleNotFileError;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb2x2ZS1lcnJvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9tb2QtYXNzZW1ibGluZy9tb2QtbG8vcmVzb2x2ZXIvcmVzb2x2ZS1lcnJvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSw4Q0FBb0Q7QUFFcEQ7O0dBRUc7QUFDSCxNQUFhLDJCQUE0QixTQUFRLEtBQUs7SUFDbEQsWUFBWSxTQUFpQjtRQUN6QixLQUFLLENBQUMsb0JBQWEsQ0FBQyx3Q0FBd0MsRUFBRTtZQUMxRCxTQUFTO1NBQ1osQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDO0NBQ0o7QUFORCxrRUFNQztBQUVEOztHQUVHO0FBQ0gsTUFBYSxnQ0FBaUMsU0FBUSxLQUFLO0lBQ3ZELFlBQVksVUFBZTtRQUN2QixLQUFLLENBQUMsb0JBQWEsQ0FBQyw2Q0FBNkMsRUFBRTtZQUMvRCxVQUFVLEVBQUUsVUFBVSxDQUFDLElBQUk7U0FDOUIsQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDO0NBQ0o7QUFORCw0RUFNQztBQUVEOztHQUVHO0FBQ0gsTUFBYSx5QkFBMEIsU0FBUSxLQUFLO0lBQ2hELFlBQVksVUFBZTtRQUN2QixLQUFLLENBQUMsb0JBQWEsQ0FBQyxzQ0FBc0MsRUFBRTtZQUN4RCxVQUFVLEVBQUUsVUFBVSxDQUFDLElBQUk7U0FDOUIsQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDO0NBQ0o7QUFORCw4REFNQztBQUVEOzs7R0FHRztBQUNILE1BQWEsMkJBQTRCLFNBQVEsS0FBSztJQUNsRCxZQUFZLE9BQWUsRUFBRSxVQUFlO1FBQ3hDLEtBQUssQ0FBQyxvQkFBYSxDQUFDLHlDQUF5QyxFQUFFO1lBQzNELE9BQU87WUFDUCxVQUFVLEVBQUUsVUFBVSxDQUFDLElBQUk7U0FDOUIsQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDO0NBQ0o7QUFQRCxrRUFPQztBQUVEOzs7R0FHRztBQUNILE1BQWEsdUJBQXdCLFNBQVEsS0FBSztJQUM5QyxZQUFZLFNBQWlCLEVBQUUsVUFBZTtRQUMxQyxLQUFLLENBQUMsb0JBQWEsQ0FBQywyQ0FBMkMsRUFBRTtZQUM3RCxTQUFTO1lBQ1QsVUFBVSxFQUFFLFVBQVUsQ0FBQyxJQUFJO1NBQzlCLENBQUMsQ0FBQyxDQUFDO0lBQ1IsQ0FBQztDQUNKO0FBUEQsMERBT0M7QUFFRCxNQUFhLG1CQUFvQixTQUFRLEtBQUs7SUFDMUMsWUFBWSxTQUFpQixFQUFFLFNBQWM7UUFDekMsS0FBSyxDQUFDLG9CQUFhLENBQUMsZ0NBQWdDLEVBQUU7WUFDbEQsU0FBUztZQUNULFNBQVMsRUFBRSxTQUFTLENBQUMsSUFBSTtTQUM1QixDQUFDLENBQUMsQ0FBQztJQUNSLENBQUM7Q0FDSjtBQVBELGtEQU9DO0FBRUQsTUFBYSwrQkFBZ0MsU0FBUSxLQUFLO0lBQ3RELGdCQUFnQixLQUFLLENBQUMsb0JBQWEsQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ2xGO0FBRkQsMEVBRUM7QUFFRCxNQUFhLG1CQUFvQixTQUFRLEtBQUs7SUFDMUMsWUFBWSxPQUFnQixJQUFJLEtBQUssQ0FBQyxvQkFBYSxDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDcEY7QUFGRCxrREFFQztBQUVELE1BQWEsdUJBQXdCLFNBQVEsS0FBSztJQUM5QyxZQUFZLE9BQWdCLElBQUksS0FBSyxDQUFDLG9CQUFhLENBQUMsNkJBQTZCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUN6RjtBQUZELDBEQUVDO0FBRUQsTUFBYSx5QkFBMEIsU0FBUSxLQUFLO0lBQ2hELFlBQVksT0FBZ0IsSUFBSSxLQUFLLENBQUMsb0JBQWEsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQzNGO0FBRkQsOERBRUM7QUFFRCxNQUFhLDBCQUEyQixTQUFRLEtBQUs7SUFDakQsWUFBWSxNQUFjLElBQUksS0FBSyxDQUFDLG9CQUFhLENBQUMsZ0NBQWdDLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ3RHO0FBRkQsZ0VBRUM7QUFFRDs7R0FFRztBQUNILE1BQWEsb0JBQXFCLFNBQVEsS0FBSztJQUMzQyxZQUFZLEdBQVEsSUFBSSxLQUFLLENBQUMsb0JBQWEsQ0FBQyxpQ0FBaUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUN4RztBQUZELG9EQUVDO0FBRUQ7O0dBRUc7QUFDSCxNQUFhLGVBQWdCLFNBQVEsS0FBSztJQUN0QyxZQUFZLEdBQVEsRUFBRSxLQUFZLElBQUksS0FBSyxDQUFDLG9CQUFhLENBQUMseUJBQXlCLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDOUc7QUFGRCwwQ0FFQztBQUVEOztHQUVHO0FBQ0gsTUFBYSxxQkFBc0IsU0FBUSxLQUFLO0lBQzVDLFlBQVksR0FBUSxJQUFJLEtBQUssQ0FBQyxvQkFBYSxDQUFDLGlDQUFpQyxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ3hHO0FBRkQsc0RBRUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVUkwgfSBmcm9tICd1cmwnO1xuaW1wb3J0IHsgaTE4blRyYW5zbGF0ZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2kxOG4nO1xuXG4vKipcbiAqIFNwZWNpZmllciDmmK/ml6DmlYjnmoQgVVJM44CB5YyF5ZCN5oiW5YyF55qE5a2Q6Lev5b6EIHNwZWNpZmllcuOAglxuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZE1vZHVsZVNwZWNpZmllckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHNwZWNpZmllcjogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKGkxOG5UcmFuc2xhdGUoJ3Jlc29sdmVfZXJyb3JfaW52YWxpZF9tb2R1bGVfc3BlY2lmaWVyJywge1xuICAgICAgICAgICAgc3BlY2lmaWVyLFxuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG4vKipcbiAqICBgcGFja2FnZS5qc29uYCDphY3nva7ml6DmlYjmiJbljIXlkKvml6DmlYjnmoTphY3nva7jgIJcbiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRQYWNrYWdlQ29uZmlndXJhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHBhY2thZ2VVUkw6IFVSTCkge1xuICAgICAgICBzdXBlcihpMThuVHJhbnNsYXRlKCdyZXNvbHZlX2Vycm9yX2ludmFsaWRfcGFja2FnZV9jb25maWd1cmF0aW9uJywge1xuICAgICAgICAgICAgcGFja2FnZVVSTDogcGFja2FnZVVSTC5ocmVmLFxuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG4vKipcbiAqIOWMheeahOWvvOWFpeaIluWvvOWHuuS4uuWMheWumuS5ieS6huebruagh+aooeWdl++8jOS9huivpeebruagh+aooeWdl+eahOexu+Wei+aXoOaViOaIluaMh+WumuS6huS4gOS4quWtl+espuS4suebruagh+OAglxuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZFBhY2thZ2VUYXJnZXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihwYWNrYWdlVVJMOiBVUkwpIHtcbiAgICAgICAgc3VwZXIoaTE4blRyYW5zbGF0ZSgncmVzb2x2ZV9lcnJvcl9pbnZhbGlkX3BhY2thZ2VfdGFyZ2V0Jywge1xuICAgICAgICAgICAgcGFja2FnZVVSTDogcGFja2FnZVVSTC5ocmVmLFxuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG4vKipcbiAqIOaMh+WumuaooeWdl+aJgOWcqOWMheeahOWvvOWHuuayoeacieWumuS5ieaIluiAheS4jeWFgeiuuOWvvOWHuuebruagh+WtkOi3r+W+hOOAglxuICogUGFja2FnZSBleHBvcnRzIGRvIG5vdCBkZWZpbmUgb3IgcGVybWl0IGEgdGFyZ2V0IHN1YnBhdGggaW4gdGhlIHBhY2thZ2UgZm9yIHRoZSBnaXZlbiBtb2R1bGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWNrYWdlUGF0aE5vdEV4cG9ydGVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3Ioc3VicGF0aDogc3RyaW5nLCBwYWNrYWdlVVJMOiBVUkwpIHtcbiAgICAgICAgc3VwZXIoaTE4blRyYW5zbGF0ZSgncmVzb2x2ZV9lcnJvcl9wYWNrYWdlX3BhdGhfbm90X2V4cG9ydGVkJywge1xuICAgICAgICAgICAgc3VicGF0aCxcbiAgICAgICAgICAgIHBhY2thZ2VVUkw6IHBhY2thZ2VVUkwuaHJlZixcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBQYWNrYWdlIGltcG9ydHMgZG8gbm90IGRlZmluZSB0aGUgc3BlY2lmaWVyLlxuICog5YyF55qEIGBpbXBvcnRzYCDkuK3mnKrlm4rmi6zor6Ugc3BlY2lmaWVyIOeahOWumuS5ieOAglxuICovXG5leHBvcnQgY2xhc3MgUGFja2FnZUltcG9ydE5vdERlZmluZWQgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3Ioc3BlY2lmaWVyOiBzdHJpbmcsIHBhY2thZ2VVUkw6IFVSTCkge1xuICAgICAgICBzdXBlcihpMThuVHJhbnNsYXRlKCdyZXNvbHZlX2Vycm9yX3BhY2thZ2VfaW1wb3J0c19ub3RfZGVmaW5lZCcsIHtcbiAgICAgICAgICAgIHNwZWNpZmllcixcbiAgICAgICAgICAgIHBhY2thZ2VVUkw6IHBhY2thZ2VVUkwuaHJlZixcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vZHVsZU5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3Ioc3BlY2lmaWVyOiBzdHJpbmcsIHBhcmVudFVSTDogVVJMKSB7XG4gICAgICAgIHN1cGVyKGkxOG5UcmFuc2xhdGUoJ3Jlc29sdmVfZXJyb3JfbW9kdWxlX25vdF9mb3VuZCcsIHtcbiAgICAgICAgICAgIHNwZWNpZmllcixcbiAgICAgICAgICAgIHBhcmVudFVSTDogcGFyZW50VVJMLmhyZWYsXG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbnN1cHBvcnRlZERpcmVjdG9yeUltcG9ydEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcihpMThuVHJhbnNsYXRlKCdyZXNvbHZlX3Vuc3VwcG9ydGVkX2RpcmVjdG9yeV9pbXBvcnQnKSk7IH1cbn1cblxuZXhwb3J0IGNsYXNzIEltcG9ydE1hcFBhcnNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykgeyBzdXBlcihpMThuVHJhbnNsYXRlKCdpbXBvcnRfbWFwX3BhcnNlX2Vycm9yJykpOyB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbXBvcnRNYXBOdWxsRW50cnlFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7IHN1cGVyKGkxOG5UcmFuc2xhdGUoJ2ltcG9ydF9tYXBfbnVsbF9lbnRyeV9lcnJvcicpKTsgfVxufVxuXG5leHBvcnQgY2xhc3MgSW1wb3J0TWFwSW1wb3J0TWF0Y2hFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7IHN1cGVyKGkxOG5UcmFuc2xhdGUoJ2ltcG9ydF9tYXBfaW1wb3J0X21hdGNoX2Vycm9yJykpOyB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbXBvcnRNYXBCYWNrVHJhY2tpbmdFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihwcmVmaXg6IHN0cmluZykgeyBzdXBlcihpMThuVHJhbnNsYXRlKCdpbXBvcnRfbWFwX2JhY2tfdHJhY2tpbmdfZXJyb3InLCB7IHByZWZpeCB9KSk7IH1cbn1cblxuLyoqXG4gKiBNb2RMbyDnibnlrprvvJrop6PmnpDlh7rnmoQgVVJMIOWQq+aciSDigJxjYW5ub3QtYmUtYS1iYXNlLVVSTOKAnSDnirbmgIHjgIJcbiAqL1xuZXhwb3J0IGNsYXNzIENhbk5vdEJlQmFzZVVSTEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHVybDogVVJMKSB7IHN1cGVyKGkxOG5UcmFuc2xhdGUoJ21vZExvX2Nhbl9ub3RfYmVfYmFzZV91cmxfZXJyb3InLCB7IHVybDogdXJsLmhyZWYgfSkpOyB9XG59XG5cbi8qKlxuICogTW9kTG8g54m55a6a77ya5peg5rOV5LuO5rqQIEVTTSDmqKHlnZfkuK3op6PmnpDnm67moIcgQ29tbW9uSlMg5qih5Z2X44CCXG4gKi9cbmV4cG9ydCBjbGFzcyBDanNJbnRlcm9wRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IodXJsOiBVUkwsIGVycm9yOiBFcnJvcikgeyBzdXBlcihpMThuVHJhbnNsYXRlKCdtb2RMb19janNfaW50ZXJvcF9lcnJvcicsIHsgdXJsOiB1cmwuaHJlZiB9KSk7IH1cbn1cblxuLyoqXG4gKiBNb2RMbyDnibnlrprvvJpDb21tb25KUyDmqKHlnZflv4XpobvmmK/mlofku7bmqKHlnZfjgIJcbiAqL1xuZXhwb3J0IGNsYXNzIENqc01vZHVsZU5vdEZpbGVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih1cmw6IFVSTCkgeyBzdXBlcihpMThuVHJhbnNsYXRlKCdtb2RMb19janNfbW9kdWxlX25vdF9maWxlX2Vycm9yJywgeyB1cmw6IHVybC5ocmVmIH0pKTsgfVxufVxuIl19