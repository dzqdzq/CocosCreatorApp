"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CjsModuleNotFileError = exports.CjsInteropError = exports.CanNotBeBaseURLError = exports.ImportMapBackTrackingError = exports.ImportMapImportMatchError = exports.ImportMapNullEntryError = exports.ImportMapParseError = exports.UnsupportedDirectoryImportError = exports.ModuleNotFoundError = exports.PackageImportNotDefined = exports.PackagePathNotExportedError = exports.InvalidPackageTargetError = exports.InvalidPackageConfigurationError = exports.InvalidModuleSpecifierError = void 0;
const i18n_1 = require("../../../utils/i18n");
/**
 * Specifier 是无效的 URL、包名或包的子路径 specifier。
 */
class InvalidModuleSpecifierError extends Error {
    constructor(specifier) {
        super(i18n_1.i18nTranslate('resolve_error_invalid_module_specifier', {
            specifier,
        }));
    }
}
exports.InvalidModuleSpecifierError = InvalidModuleSpecifierError;
/**
 *  `package.json` 配置无效或包含无效的配置。
 */
class InvalidPackageConfigurationError extends Error {
    constructor(packageURL) {
        super(i18n_1.i18nTranslate('resolve_error_invalid_package_configuration', {
            packageURL: packageURL.href,
        }));
    }
}
exports.InvalidPackageConfigurationError = InvalidPackageConfigurationError;
/**
 * 包的导入或导出为包定义了目标模块，但该目标模块的类型无效或指定了一个字符串目标。
 */
class InvalidPackageTargetError extends Error {
    constructor(packageURL) {
        super(i18n_1.i18nTranslate('resolve_error_invalid_package_target', {
            packageURL: packageURL.href,
        }));
    }
}
exports.InvalidPackageTargetError = InvalidPackageTargetError;
/**
 * 指定模块所在包的导出没有定义或者不允许导出目标子路径。
 * Package exports do not define or permit a target subpath in the package for the given module.
 */
class PackagePathNotExportedError extends Error {
    constructor(subpath, packageURL) {
        super(i18n_1.i18nTranslate('resolve_error_package_path_not_exported', {
            subpath,
            packageURL: packageURL.href,
        }));
    }
}
exports.PackagePathNotExportedError = PackagePathNotExportedError;
/**
 * Package imports do not define the specifier.
 * 包的 `imports` 中未囊括该 specifier 的定义。
 */
class PackageImportNotDefined extends Error {
    constructor(specifier, packageURL) {
        super(i18n_1.i18nTranslate('resolve_error_package_imports_not_defined', {
            specifier,
            packageURL: packageURL.href,
        }));
    }
}
exports.PackageImportNotDefined = PackageImportNotDefined;
class ModuleNotFoundError extends Error {
    constructor(specifier, parentURL) {
        super(i18n_1.i18nTranslate('resolve_error_module_not_found', {
            specifier,
            parentURL: parentURL.href,
        }));
    }
}
exports.ModuleNotFoundError = ModuleNotFoundError;
class UnsupportedDirectoryImportError extends Error {
    constructor() { super(i18n_1.i18nTranslate('resolve_unsupported_directory_import')); }
}
exports.UnsupportedDirectoryImportError = UnsupportedDirectoryImportError;
class ImportMapParseError extends Error {
    constructor(message) { super(i18n_1.i18nTranslate('import_map_parse_error')); }
}
exports.ImportMapParseError = ImportMapParseError;
class ImportMapNullEntryError extends Error {
    constructor(message) { super(i18n_1.i18nTranslate('import_map_null_entry_error')); }
}
exports.ImportMapNullEntryError = ImportMapNullEntryError;
class ImportMapImportMatchError extends Error {
    constructor(message) { super(i18n_1.i18nTranslate('import_map_import_match_error')); }
}
exports.ImportMapImportMatchError = ImportMapImportMatchError;
class ImportMapBackTrackingError extends Error {
    constructor(prefix) { super(i18n_1.i18nTranslate('import_map_back_tracking_error', { prefix })); }
}
exports.ImportMapBackTrackingError = ImportMapBackTrackingError;
/**
 * ModLo 特定：解析出的 URL 含有 “cannot-be-a-base-URL” 状态。
 */
class CanNotBeBaseURLError extends Error {
    constructor(url) { super(i18n_1.i18nTranslate('modLo_can_not_be_base_url_error', { url: url.href })); }
}
exports.CanNotBeBaseURLError = CanNotBeBaseURLError;
/**
 * ModLo 特定：无法从源 ESM 模块中解析目标 CommonJS 模块。
 */
class CjsInteropError extends Error {
    constructor(url, error) { super(i18n_1.i18nTranslate('modLo_cjs_interop_error', { url: url.href })); }
}
exports.CjsInteropError = CjsInteropError;
/**
 * ModLo 特定：CommonJS 模块必须是文件模块。
 */
class CjsModuleNotFileError extends Error {
    constructor(url) { super(i18n_1.i18nTranslate('modLo_cjs_module_not_file_error', { url: url.href })); }
}
exports.CjsModuleNotFileError = CjsModuleNotFileError;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb2x2ZS1lcnJvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9tb2QtYXNzZW1ibGluZy9tb2QtbG8vcmVzb2x2ZXIvcmVzb2x2ZS1lcnJvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSw4Q0FBb0Q7QUFFcEQ7O0dBRUc7QUFDSCxNQUFhLDJCQUE0QixTQUFRLEtBQUs7SUFDbEQsWUFBWSxTQUFpQjtRQUN6QixLQUFLLENBQUMsb0JBQWEsQ0FBQyx3Q0FBd0MsRUFBRTtZQUMxRCxTQUFTO1NBQ1osQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDO0NBQ0o7QUFORCxrRUFNQztBQUVEOztHQUVHO0FBQ0gsTUFBYSxnQ0FBaUMsU0FBUSxLQUFLO0lBQ3ZELFlBQVksVUFBZTtRQUN2QixLQUFLLENBQUMsb0JBQWEsQ0FBQyw2Q0FBNkMsRUFBRTtZQUMvRCxVQUFVLEVBQUUsVUFBVSxDQUFDLElBQUk7U0FDOUIsQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDO0NBQ0o7QUFORCw0RUFNQztBQUVEOztHQUVHO0FBQ0gsTUFBYSx5QkFBMEIsU0FBUSxLQUFLO0lBQ2hELFlBQVksVUFBZTtRQUN2QixLQUFLLENBQUMsb0JBQWEsQ0FBQyxzQ0FBc0MsRUFBRTtZQUN4RCxVQUFVLEVBQUUsVUFBVSxDQUFDLElBQUk7U0FDOUIsQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDO0NBQ0o7QUFORCw4REFNQztBQUVEOzs7R0FHRztBQUNILE1BQWEsMkJBQTRCLFNBQVEsS0FBSztJQUNsRCxZQUFZLE9BQWUsRUFBRSxVQUFlO1FBQ3hDLEtBQUssQ0FBQyxvQkFBYSxDQUFDLHlDQUF5QyxFQUFFO1lBQzNELE9BQU87WUFDUCxVQUFVLEVBQUUsVUFBVSxDQUFDLElBQUk7U0FDOUIsQ0FBQyxDQUFDLENBQUM7SUFDUixDQUFDO0NBQ0o7QUFQRCxrRUFPQztBQUVEOzs7R0FHRztBQUNILE1BQWEsdUJBQXdCLFNBQVEsS0FBSztJQUM5QyxZQUFZLFNBQWlCLEVBQUUsVUFBZTtRQUMxQyxLQUFLLENBQUMsb0JBQWEsQ0FBQywyQ0FBMkMsRUFBRTtZQUM3RCxTQUFTO1lBQ1QsVUFBVSxFQUFFLFVBQVUsQ0FBQyxJQUFJO1NBQzlCLENBQUMsQ0FBQyxDQUFDO0lBQ1IsQ0FBQztDQUNKO0FBUEQsMERBT0M7QUFFRCxNQUFhLG1CQUFvQixTQUFRLEtBQUs7SUFDMUMsWUFBWSxTQUFpQixFQUFFLFNBQWM7UUFDekMsS0FBSyxDQUFDLG9CQUFhLENBQUMsZ0NBQWdDLEVBQUU7WUFDbEQsU0FBUztZQUNULFNBQVMsRUFBRSxTQUFTLENBQUMsSUFBSTtTQUM1QixDQUFDLENBQUMsQ0FBQztJQUNSLENBQUM7Q0FDSjtBQVBELGtEQU9DO0FBRUQsTUFBYSwrQkFBZ0MsU0FBUSxLQUFLO0lBQ3RELGdCQUFnQixLQUFLLENBQUMsb0JBQWEsQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ2xGO0FBRkQsMEVBRUM7QUFFRCxNQUFhLG1CQUFvQixTQUFRLEtBQUs7SUFDMUMsWUFBWSxPQUFnQixJQUFJLEtBQUssQ0FBQyxvQkFBYSxDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDcEY7QUFGRCxrREFFQztBQUVELE1BQWEsdUJBQXdCLFNBQVEsS0FBSztJQUM5QyxZQUFZLE9BQWdCLElBQUksS0FBSyxDQUFDLG9CQUFhLENBQUMsNkJBQTZCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUN6RjtBQUZELDBEQUVDO0FBRUQsTUFBYSx5QkFBMEIsU0FBUSxLQUFLO0lBQ2hELFlBQVksT0FBZ0IsSUFBSSxLQUFLLENBQUMsb0JBQWEsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQzNGO0FBRkQsOERBRUM7QUFFRCxNQUFhLDBCQUEyQixTQUFRLEtBQUs7SUFDakQsWUFBWSxNQUFjLElBQUksS0FBSyxDQUFDLG9CQUFhLENBQUMsZ0NBQWdDLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ3RHO0FBRkQsZ0VBRUM7QUFFRDs7R0FFRztBQUNILE1BQWEsb0JBQXFCLFNBQVEsS0FBSztJQUMzQyxZQUFZLEdBQVEsSUFBSSxLQUFLLENBQUMsb0JBQWEsQ0FBQyxpQ0FBaUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUN4RztBQUZELG9EQUVDO0FBRUQ7O0dBRUc7QUFDSCxNQUFhLGVBQWdCLFNBQVEsS0FBSztJQUN0QyxZQUFZLEdBQVEsRUFBRSxLQUFZLElBQUksS0FBSyxDQUFDLG9CQUFhLENBQUMseUJBQXlCLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDOUc7QUFGRCwwQ0FFQztBQUVEOztHQUVHO0FBQ0gsTUFBYSxxQkFBc0IsU0FBUSxLQUFLO0lBQzVDLFlBQVksR0FBUSxJQUFJLEtBQUssQ0FBQyxvQkFBYSxDQUFDLGlDQUFpQyxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ3hHO0FBRkQsc0RBRUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVUkwgfSBmcm9tICd1cmwnO1xyXG5pbXBvcnQgeyBpMThuVHJhbnNsYXRlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaTE4bic7XHJcblxyXG4vKipcclxuICogU3BlY2lmaWVyIOaYr+aXoOaViOeahCBVUkzjgIHljIXlkI3miJbljIXnmoTlrZDot6/lvoQgc3BlY2lmaWVy44CCXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSW52YWxpZE1vZHVsZVNwZWNpZmllckVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3Ioc3BlY2lmaWVyOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihpMThuVHJhbnNsYXRlKCdyZXNvbHZlX2Vycm9yX2ludmFsaWRfbW9kdWxlX3NwZWNpZmllcicsIHtcclxuICAgICAgICAgICAgc3BlY2lmaWVyLFxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqICBgcGFja2FnZS5qc29uYCDphY3nva7ml6DmlYjmiJbljIXlkKvml6DmlYjnmoTphY3nva7jgIJcclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbnZhbGlkUGFja2FnZUNvbmZpZ3VyYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhY2thZ2VVUkw6IFVSTCkge1xyXG4gICAgICAgIHN1cGVyKGkxOG5UcmFuc2xhdGUoJ3Jlc29sdmVfZXJyb3JfaW52YWxpZF9wYWNrYWdlX2NvbmZpZ3VyYXRpb24nLCB7XHJcbiAgICAgICAgICAgIHBhY2thZ2VVUkw6IHBhY2thZ2VVUkwuaHJlZixcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDljIXnmoTlr7zlhaXmiJblr7zlh7rkuLrljIXlrprkuYnkuobnm67moIfmqKHlnZfvvIzkvYbor6Xnm67moIfmqKHlnZfnmoTnsbvlnovml6DmlYjmiJbmjIflrprkuobkuIDkuKrlrZfnrKbkuLLnm67moIfjgIJcclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbnZhbGlkUGFja2FnZVRhcmdldEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IocGFja2FnZVVSTDogVVJMKSB7XHJcbiAgICAgICAgc3VwZXIoaTE4blRyYW5zbGF0ZSgncmVzb2x2ZV9lcnJvcl9pbnZhbGlkX3BhY2thZ2VfdGFyZ2V0Jywge1xyXG4gICAgICAgICAgICBwYWNrYWdlVVJMOiBwYWNrYWdlVVJMLmhyZWYsXHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5oyH5a6a5qih5Z2X5omA5Zyo5YyF55qE5a+85Ye65rKh5pyJ5a6a5LmJ5oiW6ICF5LiN5YWB6K645a+85Ye655uu5qCH5a2Q6Lev5b6E44CCXHJcbiAqIFBhY2thZ2UgZXhwb3J0cyBkbyBub3QgZGVmaW5lIG9yIHBlcm1pdCBhIHRhcmdldCBzdWJwYXRoIGluIHRoZSBwYWNrYWdlIGZvciB0aGUgZ2l2ZW4gbW9kdWxlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhY2thZ2VQYXRoTm90RXhwb3J0ZWRFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHN1YnBhdGg6IHN0cmluZywgcGFja2FnZVVSTDogVVJMKSB7XHJcbiAgICAgICAgc3VwZXIoaTE4blRyYW5zbGF0ZSgncmVzb2x2ZV9lcnJvcl9wYWNrYWdlX3BhdGhfbm90X2V4cG9ydGVkJywge1xyXG4gICAgICAgICAgICBzdWJwYXRoLFxyXG4gICAgICAgICAgICBwYWNrYWdlVVJMOiBwYWNrYWdlVVJMLmhyZWYsXHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogUGFja2FnZSBpbXBvcnRzIGRvIG5vdCBkZWZpbmUgdGhlIHNwZWNpZmllci5cclxuICog5YyF55qEIGBpbXBvcnRzYCDkuK3mnKrlm4rmi6zor6Ugc3BlY2lmaWVyIOeahOWumuS5ieOAglxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBhY2thZ2VJbXBvcnROb3REZWZpbmVkIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3Ioc3BlY2lmaWVyOiBzdHJpbmcsIHBhY2thZ2VVUkw6IFVSTCkge1xyXG4gICAgICAgIHN1cGVyKGkxOG5UcmFuc2xhdGUoJ3Jlc29sdmVfZXJyb3JfcGFja2FnZV9pbXBvcnRzX25vdF9kZWZpbmVkJywge1xyXG4gICAgICAgICAgICBzcGVjaWZpZXIsXHJcbiAgICAgICAgICAgIHBhY2thZ2VVUkw6IHBhY2thZ2VVUkwuaHJlZixcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNb2R1bGVOb3RGb3VuZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3Ioc3BlY2lmaWVyOiBzdHJpbmcsIHBhcmVudFVSTDogVVJMKSB7XHJcbiAgICAgICAgc3VwZXIoaTE4blRyYW5zbGF0ZSgncmVzb2x2ZV9lcnJvcl9tb2R1bGVfbm90X2ZvdW5kJywge1xyXG4gICAgICAgICAgICBzcGVjaWZpZXIsXHJcbiAgICAgICAgICAgIHBhcmVudFVSTDogcGFyZW50VVJMLmhyZWYsXHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWREaXJlY3RvcnlJbXBvcnRFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcihpMThuVHJhbnNsYXRlKCdyZXNvbHZlX3Vuc3VwcG9ydGVkX2RpcmVjdG9yeV9pbXBvcnQnKSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEltcG9ydE1hcFBhcnNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7IHN1cGVyKGkxOG5UcmFuc2xhdGUoJ2ltcG9ydF9tYXBfcGFyc2VfZXJyb3InKSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEltcG9ydE1hcE51bGxFbnRyeUVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZykgeyBzdXBlcihpMThuVHJhbnNsYXRlKCdpbXBvcnRfbWFwX251bGxfZW50cnlfZXJyb3InKSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEltcG9ydE1hcEltcG9ydE1hdGNoRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nKSB7IHN1cGVyKGkxOG5UcmFuc2xhdGUoJ2ltcG9ydF9tYXBfaW1wb3J0X21hdGNoX2Vycm9yJykpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJbXBvcnRNYXBCYWNrVHJhY2tpbmdFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHByZWZpeDogc3RyaW5nKSB7IHN1cGVyKGkxOG5UcmFuc2xhdGUoJ2ltcG9ydF9tYXBfYmFja190cmFja2luZ19lcnJvcicsIHsgcHJlZml4IH0pKTsgfVxyXG59XHJcblxyXG4vKipcclxuICogTW9kTG8g54m55a6a77ya6Kej5p6Q5Ye655qEIFVSTCDlkKvmnIkg4oCcY2Fubm90LWJlLWEtYmFzZS1VUkzigJ0g54q25oCB44CCXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FuTm90QmVCYXNlVVJMRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih1cmw6IFVSTCkgeyBzdXBlcihpMThuVHJhbnNsYXRlKCdtb2RMb19jYW5fbm90X2JlX2Jhc2VfdXJsX2Vycm9yJywgeyB1cmw6IHVybC5ocmVmIH0pKTsgfVxyXG59XHJcblxyXG4vKipcclxuICogTW9kTG8g54m55a6a77ya5peg5rOV5LuO5rqQIEVTTSDmqKHlnZfkuK3op6PmnpDnm67moIcgQ29tbW9uSlMg5qih5Z2X44CCXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2pzSW50ZXJvcEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IodXJsOiBVUkwsIGVycm9yOiBFcnJvcikgeyBzdXBlcihpMThuVHJhbnNsYXRlKCdtb2RMb19janNfaW50ZXJvcF9lcnJvcicsIHsgdXJsOiB1cmwuaHJlZiB9KSk7IH1cclxufVxyXG5cclxuLyoqXHJcbiAqIE1vZExvIOeJueWumu+8mkNvbW1vbkpTIOaooeWdl+W/hemhu+aYr+aWh+S7tuaooeWdl+OAglxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENqc01vZHVsZU5vdEZpbGVFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHVybDogVVJMKSB7IHN1cGVyKGkxOG5UcmFuc2xhdGUoJ21vZExvX2Nqc19tb2R1bGVfbm90X2ZpbGVfZXJyb3InLCB7IHVybDogdXJsLmhyZWYgfSkpOyB9XHJcbn1cclxuIl19