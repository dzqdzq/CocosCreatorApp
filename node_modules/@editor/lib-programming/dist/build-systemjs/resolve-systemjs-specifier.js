"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const path_1 = __importDefault(require("path"));
const prefix = 'systemjs-source';
const systemJsSourceRoot = path_1.default.dirname(require.resolve('@editor/systemjs-source/systemjs/src/system.js'));
const resolveSystemJsSpecifier = {
    name: 'resolve-systemjs-specifier',
    resolveId: (id) => {
        if (!id.startsWith(prefix)) {
            return null;
        }
        else {
            return require.resolve(path_1.default.join(systemJsSourceRoot, ...(id.substr(prefix.length)).split('/').filter((s) => s.length !== 0)));
        }
    },
};
exports.default = resolveSystemJsSpecifier;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb2x2ZS1zeXN0ZW1qcy1zcGVjaWZpZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYnVpbGQtc3lzdGVtanMvcmVzb2x2ZS1zeXN0ZW1qcy1zcGVjaWZpZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFQSxnREFBc0I7QUFFdEIsTUFBTSxNQUFNLEdBQUcsaUJBQWlCLENBQUM7QUFFakMsTUFBTSxrQkFBa0IsR0FBRyxjQUFFLENBQUMsT0FBTyxDQUNqQyxPQUFPLENBQUMsT0FBTyxDQUFDLGdEQUFnRCxDQUFDLENBQUMsQ0FBQztBQUV2RSxNQUFNLHdCQUF3QixHQUFrQjtJQUM1QyxJQUFJLEVBQUUsNEJBQTRCO0lBQ2xDLFNBQVMsRUFBRSxDQUFDLEVBQVUsRUFBRSxFQUFFO1FBQ3RCLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ3hCLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7YUFBTTtZQUNILE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxjQUFFLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUM3QyxHQUFHLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNoRjtJQUNMLENBQUM7Q0FDSixDQUFDO0FBRUYsa0JBQWUsd0JBQXdCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHR5cGUgKiBhcyByb2xsdXAgZnJvbSAncm9sbHVwJztcclxuaW1wb3J0IHBzIGZyb20gJ3BhdGgnO1xyXG5cclxuY29uc3QgcHJlZml4ID0gJ3N5c3RlbWpzLXNvdXJjZSc7XHJcblxyXG5jb25zdCBzeXN0ZW1Kc1NvdXJjZVJvb3QgPSBwcy5kaXJuYW1lKFxyXG4gICAgcmVxdWlyZS5yZXNvbHZlKCdAZWRpdG9yL3N5c3RlbWpzLXNvdXJjZS9zeXN0ZW1qcy9zcmMvc3lzdGVtLmpzJykpO1xyXG5cclxuY29uc3QgcmVzb2x2ZVN5c3RlbUpzU3BlY2lmaWVyOiByb2xsdXAuUGx1Z2luID0ge1xyXG4gICAgbmFtZTogJ3Jlc29sdmUtc3lzdGVtanMtc3BlY2lmaWVyJyxcclxuICAgIHJlc29sdmVJZDogKGlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBpZiAoIWlkLnN0YXJ0c1dpdGgocHJlZml4KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVxdWlyZS5yZXNvbHZlKHBzLmpvaW4oc3lzdGVtSnNTb3VyY2VSb290LFxyXG4gICAgICAgICAgICAgICAgLi4uKGlkLnN1YnN0cihwcmVmaXgubGVuZ3RoKSkuc3BsaXQoJy8nKS5maWx0ZXIoKHMpID0+IHMubGVuZ3RoICE9PSAwKSkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCByZXNvbHZlU3lzdGVtSnNTcGVjaWZpZXI7XHJcbiJdfQ==