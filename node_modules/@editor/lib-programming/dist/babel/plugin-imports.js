"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function imports({ traverse }) {
    return {
        visitor: { Program: { exit: (path, state) => {
                    const result = [];
                    extract(traverse, path.node, result);
                    state.opts.imports.push(...new Set(result));
                } } },
    };
}
exports.default = imports;
function extract(traverse, node, result) {
    traverse(node, {
        ImportDeclaration: (p) => {
            result.push(p.node.source.value);
        },
        ExportNamedDeclaration: (p) => {
            if (p.node.source) {
                result.push(p.node.source.value);
            }
        },
        ExportAllDeclaration: (p) => {
            result.push(p.node.source.value);
        },
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGx1Z2luLWltcG9ydHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYmFiZWwvcGx1Z2luLWltcG9ydHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFHQSxTQUF3QixPQUFPLENBQUMsRUFBRSxRQUFRLEVBQWdCO0lBS3RELE9BQU87UUFDSCxPQUFPLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7b0JBQ3hDLE1BQU0sTUFBTSxHQUFhLEVBQUUsQ0FBQztvQkFDNUIsT0FBTyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO29CQUNyQyxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUNoRCxDQUFDLEVBQUUsRUFBRTtLQUNSLENBQUM7QUFDTixDQUFDO0FBWkQsMEJBWUM7QUFFRCxTQUFTLE9BQU8sQ0FBQyxRQUErQixFQUFFLElBQXNCLEVBQUUsTUFBZ0I7SUFDdEYsUUFBUSxDQUFDLElBQUksRUFBRTtRQUNYLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDckIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQyxDQUFDO1FBQ0Qsc0JBQXNCLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUMxQixJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUNmLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDcEM7UUFDTCxDQUFDO1FBQ0Qsb0JBQW9CLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUN4QixNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JDLENBQUM7S0FDSixDQUFDLENBQUM7QUFDUCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB0eXBlICogYXMgYmFiZWwgZnJvbSAnQGJhYmVsL2NvcmUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW1wb3J0cyh7IHRyYXZlcnNlIH06IHR5cGVvZiBiYWJlbCk6IGJhYmVsLlBsdWdpbk9iajx7XHJcbiAgICBvcHRzOiB7XHJcbiAgICAgICAgaW1wb3J0czogc3RyaW5nW107XHJcbiAgICB9O1xyXG59PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHZpc2l0b3I6IHsgUHJvZ3JhbTogeyBleGl0OiAocGF0aCwgc3RhdGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgICAgICBleHRyYWN0KHRyYXZlcnNlLCBwYXRoLm5vZGUsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgIHN0YXRlLm9wdHMuaW1wb3J0cy5wdXNoKC4uLm5ldyBTZXQocmVzdWx0KSk7XHJcbiAgICAgICAgfSB9IH0sXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBleHRyYWN0KHRyYXZlcnNlOiB0eXBlb2YgYmFiZWwudHJhdmVyc2UsIG5vZGU6IGJhYmVsLnR5cGVzLk5vZGUsIHJlc3VsdDogc3RyaW5nW10pIHtcclxuICAgIHRyYXZlcnNlKG5vZGUsIHtcclxuICAgICAgICBJbXBvcnREZWNsYXJhdGlvbjogKHApID0+IHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocC5ub2RlLnNvdXJjZS52YWx1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBFeHBvcnROYW1lZERlY2xhcmF0aW9uOiAocCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocC5ub2RlLnNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocC5ub2RlLnNvdXJjZS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIEV4cG9ydEFsbERlY2xhcmF0aW9uOiAocCkgPT4ge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChwLm5vZGUuc291cmNlLnZhbHVlKTtcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn1cclxuIl19