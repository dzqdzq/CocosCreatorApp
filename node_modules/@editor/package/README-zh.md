# Package 插件管理器

插件系统的核心

---

## Browser 进程 & Renderer 进程

---

### package.send(name, message, ...args)

- `name`: (`string`) 插件名
- `message`: (`string`) 消息名
- `...args`: (`any[]`) 参数

发送消息给插件

```typescript
package.send('test', 'test-message', true);
```

---

### package.broadcast(message, ...args)

- `message`: (`string`) 消息名
- `...args`: (`any[]`) 参数

广播消息给所有的插件

```typescript
package.broadcast('test-message', true);
```

---

### package.reload(name);

- `name`: (`string`) 插件名

重新加载一个插件

```typescript
package.reload('test');
```

---

## Browser 主进程

### async package.register(path)

- `path`: (`string`) 插件的路径

将一个文件夹是别成插件并加入到插件管理器

```typescript
await package.register('xx/xx/test');
```

---

### async package.unregister(path)

将一个插件目录从管理器内移除

### package.find(name)

- `path`: (`string`) 插件的路径

查询指定名字的插件，返回一个插件对象

```typescript
await package.unregister('xx/xx/test');
```

---

### package.debugRely(file)

- `file`: (`string`) 插件依赖 js 文件绝对路径

调试状态下启动插件依赖的 js 文件

```typescript
package.debugRely('xx/xxx/test.js');
```

---
