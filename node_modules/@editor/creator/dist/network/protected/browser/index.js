"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.post=exports.get=exports.testHost=exports.getFreePort=exports.portIsOccupied=exports.testConnectServer=exports.queryIPList=void 0;const ipc=require("@base/electron-base-ipc"),ping=require("ping"),util_1=require("./util");function queryIPList(){var e=(0,util_1.queryIpList)();return e.splice(0,0,"127.0.0.1"),e}function testConnectServer(){return(0,util_1.canConnectPassport)()}function portIsOccupied(e){return(0,util_1.portIsOccupied)(e)}async function getFreePort(e=4e3){for(;e<9e3&&await portIsOccupied(e);e++);return e}async function testHost(e){return new Promise(t=>{ping.sys.probe(e,async function(e){t(e)})})}async function get(e,t){return(0,util_1.sendGetRequest)(e,t)}async function post(e,t){return(0,util_1.sendPostRequest)(e,t)}exports.queryIPList=queryIPList,exports.testConnectServer=testConnectServer,exports.portIsOccupied=portIsOccupied,exports.getFreePort=getFreePort,exports.testHost=testHost,exports.get=get,exports.post=post,ipc.on("editor-lib-network:call",async(t,e,...r)=>{try{var s=await module.exports[e](...r);return t.reply(null,s),s}catch(e){return t.reply(e),null}});