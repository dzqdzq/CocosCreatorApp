"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.show=void 0;const i18n=require("@base/electron-i18n");class EditorMaskElement extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n        <style>\n            :host {\n                display: flex;\n            }\n            :host > img {\n                z-index: 1;\n                margin-top: -100px;\n                width: 460px;\n            }\n            :host .info {\n                color: #989696;\n                padding: 10px 20px;\n                z-index: 1;\n                border-radius: 4px;\n                text-align: center;\n            }\n            :host .info > div {\n                height: 24px;\n            }\n        </style>\n        <img src="./image/splash.png">\n        <div class="info">\n            <div class="describe">Wait a moment...</div>\n            <div class="message"></div>    \n        </div>\n        ',this.$describe=this.shadowRoot.querySelector(".describe"),this.$message=this.shadowRoot.querySelector(".message")}show(i,e){this.$describe.innerHTML=i,this.$message.innerHTML=e,this.removeAttribute("hidden")}hide(){this.setAttribute("hidden","")}}window.customElements.get("editor-mask")||window.customElements.define("editor-mask",EditorMaskElement);const $mask=document.querySelector("#task-sync-mask"),info={title:"",describe:"",message:""};function show(i,e,n){if($mask)if(window.__MAIN__)if(info.title=i||"",info.describe=e||"",info.message=n||"",i?(e=e?e&&e.startsWith("i18n:")?i18n.translation(info.describe.substr(5)):e:i,info.message&&(n=info.message)):e="",e)$mask.show(e,n||"");else{if("__InitializationTime__"in window)try{const i=window.__InitializationTime__;window.__InitializationTimeEnd__=Date.now();const e=window.__InitializationTimeEnd__-i;console.debug(`main-window:Initialization: ${e}`),Editor.Metrics.trackTimeEnd("main-window:Initialization",{value:e}),Editor.Metrics.trackTimeStart("main-window:ready")}catch(i){console.debug(i)}$mask.hide()}else $mask.hide()}exports.show=show;