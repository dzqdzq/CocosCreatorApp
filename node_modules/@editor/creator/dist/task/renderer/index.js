"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const events_1=require("events"),ipc=require("@base/electron-base-ipc"),dom=require("./dom");class Task extends events_1.EventEmitter{constructor(){super(),dom.show("wait","i18n:startup.wait")}sync(){ipc.send("editor-lib-task:query").callback((e,t,i,c)=>{dom.show(t,i,c)})}addSyncTask(e,t,i){ipc.sendSync("editor-lib-task:call","addSyncTask",e,t,i)}updateSyncTask(e,t,i){ipc.sendSync("editor-lib-task:call","updateSyncTask",e,t,i)}removeSyncTask(e){ipc.sendSync("editor-lib-task:call","removeSyncTask",e)}addNotice(e){return ipc.sendSync("editor-lib-task:call","addNotice",e)}removeNotice(e){return ipc.sendSync("editor-lib-task:call","removeNotice",e)}changeNoticeTimeout(e,t){return ipc.sendSync("editor-lib-task:call","changeNoticeTimeout",e,t)}queryNotices(){return ipc.sendSync("editor-lib-task:call","queryNotices")}}module.exports=new Task,"__MAIN__"in window&&(ipc.on("editor-lib-task:show",(e,t,i,c)=>{t?dom.show(t,i,c):dom.show()}),ipc.on("editor-lib-task:emit",(e,t,...i)=>{module.exports.emit(t,...i)}));