"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeListener=exports.emit=exports.once=exports.on=exports.sync=exports.removeSyncTask=exports.hasSyncTask=exports.updateSyncTask=exports.addSyncTask=void 0;const ipc=require("@base/electron-base-ipc"),events_1=require("events"),emmitter=new events_1.EventEmitter,dom_1=require("./dom");function addSyncTask(e,t,n){ipc.sendSync("editor-lib-task:call-protected","addSyncTask",e,t,n)}function updateSyncTask(e,t,n){ipc.sendSync("editor-lib-task:call-protected","updateSyncTask",e,t,n)}async function hasSyncTask(){return ipc.sendSync("editor-lib-task:call-protected","hasSyncTask")}function removeSyncTask(e){ipc.sendSync("editor-lib-task:call-protected","removeSyncTask",e)}function sync(){ipc.send("editor-lib-task:query").callback((e,t,n,s)=>{(0,dom_1.show)(t,n,s)})}function on(e,t){return emmitter.on(e,t)}function once(e,t){return emmitter.once(e,t)}function emit(e,...t){return emmitter.emit(e,...t)}function removeListener(e,t){return emmitter.removeListener(e,t)}(0,dom_1.show)("wait","i18n:startup.wait"),exports.addSyncTask=addSyncTask,exports.updateSyncTask=updateSyncTask,exports.hasSyncTask=hasSyncTask,exports.removeSyncTask=removeSyncTask,exports.sync=sync,exports.on=on,exports.once=once,exports.emit=emit,exports.removeListener=removeListener,"__MAIN__"in window&&(ipc.on("editor-lib-task:show",(e,t,n,s)=>{t?(0,dom_1.show)(t,n,s):(0,dom_1.show)()}),ipc.on("editor-lib-task:emit",(e,t,...n)=>{module.exports.emit(t,...n)}));