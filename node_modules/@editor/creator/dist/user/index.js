"use strict";var __awaiter=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,r){function u(e){try{d(o.next(e))}catch(e){r(e)}}function a(e){try{d(o.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(u,a)}d((o=o.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.User=exports.initSync=exports.init=void 0;const publicModule=require("./public"),protectedModule=require("./protected"),sentry_1=require("../sentry");function init(){return __awaiter(this,void 0,void 0,function*(){yield protectedModule.init(),yield publicModule.init();const e=yield exports.User.getData();(0,sentry_1.setUserInfo)(e)})}function initSync(){protectedModule.initSync(),publicModule.initSync(),exports.User.getData().then(e=>(0,sentry_1.setUserInfo)(e))}exports.init=init,exports.initSync=initSync,exports.User={skip:()=>publicModule.adapter.skip(),getData:()=>publicModule.adapter.getData(),isLoggedIn:()=>publicModule.adapter.isLoggedIn(),login:(e,t)=>publicModule.adapter.login(e,t),logout:()=>publicModule.adapter.logout(),getUserToken:()=>publicModule.adapter.getUserToken(),getSessionCode:e=>publicModule.adapter.getSessionCode(e),showMask(){publicModule.adapter.showMask&&publicModule.adapter.showMask()},hideMask(){publicModule.adapter.hideMask&&publicModule.adapter.hideMask()},on:(e,t)=>publicModule.adapter.on(e,t),once:(e,t)=>publicModule.adapter.once(e,t),removeListener:(e,t)=>publicModule.adapter.removeListener(e,t),get __protected__(){return protectedModule.adapter}},exports.User.init=function(){return protectedModule.adapter.init()};