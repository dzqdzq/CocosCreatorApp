"use strict";const{EventEmitter:EventEmitter}=require("events"),ipc=require("@base/electron-base-ipc");class Startup extends EventEmitter{constructor(){super(),this.ready=ipc.sendSync("editor3d-lib-startup:get","ready"),this._builtinJSON=ipc.sendSync("editor3d-lib-startup:get","_builtinJSON");const t=this._builtinJSON.env;if(t.WINDOW_HOOK)try{const e=require(t.WINDOW_HOOK);e.main&&e.main(),e.load&&e.load()}catch(t){console.warn("Load WINDOW_HOOK failure."),console.warn(t)}}}module.exports=new Startup,ipc.on("editor3d-lib-startup:emit",(t,e)=>{module.exports.ready[e]=!0,module.exports.emit(e+"-ready")});