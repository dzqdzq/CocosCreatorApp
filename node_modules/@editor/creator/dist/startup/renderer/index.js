"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const{EventEmitter:EventEmitter}=require("events"),ipc=require("@base/electron-base-ipc");class Startup extends EventEmitter{constructor(){super(),this.ready=ipc.sendSync("editor3d-lib-startup:get","ready"),this._builtinJSON=ipc.sendSync("editor3d-lib-startup:get","_builtinJSON");const e=this._builtinJSON.env;if(e.WINDOW_HOOK)try{const t=require(e.WINDOW_HOOK);t.main&&t.main(),t.load&&t.load()}catch(e){console.warn("Load WINDOW_HOOK failure."),console.warn(e)}}}module.exports=new Startup,ipc.on("editor3d-lib-startup:emit",(e,t)=>{module.exports.ready[t]=!0,module.exports.emit(t+"-ready")});