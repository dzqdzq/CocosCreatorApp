"use strict";var __awaiter=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))(function(n,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function c(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(a,c)}s((i=i.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Setting=void 0;class Setting extends HTMLElement{static get observedAttributes(){return["package"]}attributeChangedCallback(t,e,r){t}constructor(){super(),this.addEventListener("confirm",this._onConfirm),this.addEventListener("path",this._onPath)}connectedCallback(){}disconnectedCallback(){}_onConfirm(t){t.stopPropagation(),t.preventDefault();const e=this.getAttribute("package");if(!e)return;const r=t.target;if(!r)return;const i=r.getAttribute("path");if(!i)return;const n=r.value,o=this.getAttribute("type");"default"===o||"global"===o||"local"===o?Editor.Profile.setConfig(e,i,n,o||void 0):"default"===o||"project"===o?Editor.Profile.setProject(e,i,n,o||void 0):"temp"===o&&Editor.Profile.setTemp(e,i,n)}_onPath(t){return __awaiter(this,void 0,void 0,function*(){t.stopPropagation(),t.preventDefault();const e=this.getAttribute("package");if(!e)return;const r=t.target;if(!r)return;const i=r.getAttribute("path");if(!i)return;const n=this.getAttribute("type");"defaultPreferences"===n||"global"===n||"local"===n?r.value=yield Editor.Profile.getConfig(e,i):"defaultProject"===n||"project"===n?r.value=yield Editor.Profile.getProject(e,i):"temp"===n&&(r.value=yield Editor.Profile.getTemp(e,i))})}}exports.Setting=Setting;