"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.File=exports.defaultProtocol=void 0;const electron_1=require("electron"),fileUrl_1=require("./fileUrl"),dialog_1=require("../../../../dialog"),ipc=require("@base/electron-base-ipc");ipc.on("editor-lib-ui-kit:select-file",(e,l)=>{const r=l||{},t=electron_1.BrowserWindow.fromWebContents(e.sender);"app"===l.type&&(r.filters=[{name:"Application",extensions:["win32"===process.platform?"exe":"app"]}]),dialog_1.Dialog.select(r,t).then(l=>{if(!l.filePaths)return e.reply(null,void 0);r.multi?e.reply(null,l.filePaths):e.reply(null,l.filePaths[0])})}),exports.defaultProtocol={label:"file://",path:"",protocol:"file",description:"",invalidInfo:""};class File{static registerProtocol(e,l){if("file"!==e)return l.label=e+"://",fileUrl_1.fileUrlManager.register(e,l);Object.assign(exports.defaultProtocol,l)}static unregisterProtocol(e){return fileUrl_1.fileUrlManager.unregister(e)}static resolveToRaw(e){return fileUrl_1.fileUrlManager.resolveToRaw(e)}static resolveToUrl(e,l){return fileUrl_1.fileUrlManager.resolveToUrl(e,l)}static getAllProtocolInfos(){return[exports.defaultProtocol,...fileUrl_1.fileUrlManager.getAllFileProtocol()]}}exports.File=File;