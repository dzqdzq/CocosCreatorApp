"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const events_1=require("events"),Metric=require("../../metrics/protected/browser"),Profile=require("@base/electron-profile"),ipc=require("@base/electron-base-ipc"),ps=require("path"),fs=require("fs"),window=require("../../windows"),profile=Profile.load("global://editor/theme.json");class Theme extends events_1.EventEmitter{_name;constructor(){super(),this._name=profile.get("theme")||"default",Metric.trackEvent({category:"Editor",action:"Theme - Init",label:this._name})}getList(){return fs.readdirSync(ps.join(__dirname,"../../../static/theme")).map(e=>{var t=ps.extname(e);return e.replace(t,"")})}use(e){if(!e)return profile.get("theme");var t=ps.join(__dirname,`../../../static/theme/${e}.js`);fs.existsSync(t)?profile.get("theme")!==e&&(profile.set("theme",e),profile.save(),ipc.broadcast("editor3d-lib-theme:use",e)):console.log(`The theme does not exist. Use the default theme.
  name: ${e}
  path: `+t)}}module.exports=new Theme,module.exports.use(""),ipc.on("editor3d-lib-theme:use",(e,t)=>{module.exports.use(t)});