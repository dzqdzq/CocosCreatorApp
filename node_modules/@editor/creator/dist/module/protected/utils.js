"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeModuleCache=exports.findChildModules=void 0;const path_1=require("path");function findChildModules(e,r,o){return function r(i){if(o.includes(i))return;const t=(0,path_1.relative)(e,i.id);t.startsWith("..")||t.startsWith(process.cwd())||(o.push(i),i.children.forEach(e=>{r(e)}))}(r),o}function removeModuleCache(e){try{e=require.resolve(e)}catch(e){}const r=require.cache[e];if(!r)return;const o=[];findChildModules((0,path_1.dirname)(e),r,o);for(const e of o)delete require.cache[e.id];for(const e in require.cache){const r=require.cache[e];if(r.children)for(const e of o){const o=r.children.indexOf(e);-1!==o&&r.children.splice(o,1)}}}exports.findChildModules=findChildModules,exports.removeModuleCache=removeModuleCache;