# Logger 日志管理

因为大量使用了不相关的模块，而又需要统计所有模块内输出的日志。
所以需要一个日志管理中心负责接收并且整理 log 数据。

---

## Browser 主进程 / Renderer 渲染进程


所有的消息都存储在主进程，子进程需要的时候需要到主进程查询。

---

### logger.record(type, message)

- `type`: (`string`) - 类型
- `message`: (`string`) - 日志内容

记录一个消息，type 可以是 log/debug/info/warn/error 中的任意一个。

```typescript
logger.record('log', 'this is test.');
```

---

### logger.query()

查询消息，暂时只能查询所有的消息。

```typescript
const logs = logger.query();
console.log(logs);
```

---

### logger.clear([regExp])

- `regExp`: (`RegExp`) - 匹配正则

清空所有的记录。

```typescript
logger.clear();
logger.clear(/^test:/);
```

---

### logger.setLevel(level)

- `level`: (`number`) - 等级
  - 0 忽略所有记录
  - 1 只记录 error
  - 2 只记录 error 和 warn
  - 3 记录 error、warn、info
  - 4 记录 error、warn、info、log

设置 logger 的记录等级。

```typescript
logger.setLevel(1);
```

---

### logger.setLogHandler(func)

- `func`: (`Function`) - 处理函数

设置一个 log 的自定义处理函数

```typescript
logger.setLogHandler((log: string) => {
    console.log(log);
});
```

---
