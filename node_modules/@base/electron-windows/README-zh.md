# Electron windows

electron 窗口管理增强

---

## Browser 进程

---

### windows.open(url, options, userData)

- `url`: (`string`) 窗口加载的页面地址
- `options`: (`object`) electron 窗口的参数
- `userData`: (`object`) 窗口携带的自定义数据

打开一个新窗口

```typescript
windows.open(`${__dirname}/window-main.html`, 
    {
        "menuBarVisibility": true,
        "center": true,
        "width": 1100,
        "height": 700,
        "webPreferences": {
            "nodeIntegration": true,
            "webviewTag": true,
            "enableRemoteModule": true,
            "contextIsolation": false,
            "backgroundThrottling": false,
            "transparent": false,
            "zoomFactor": 0
        },
    }, 
    { test: true });
```

---

### windows.restore(json)

- `json`: (`object`) dump 出去的数据

从一个 json 文件恢复被关闭的窗口

```typescript
windows.restore({
        "version": 1,
        "windows": [
            {
                "uuid": "ba4ae121-111-22-33-20536c5d6052",
                "url": "main.html",
                "userData": {},
                "options": {
                    "menuBarVisibility": true,
                    "center": true,
                    "width": 1100,
                    "height": 700,
                    "webPreferences": {
                        "nodeIntegration": true,
                        "webviewTag": true,
                        "enableRemoteModule": true,
                        "contextIsolation": false,
                        "backgroundThrottling": false,
                        "transparent": false,
                        "zoomFactor": 0
                    }
                },
                "bounds": {
                    "x": 1496,
                    "y": -10,
                    "width": 2244,
                    "height": 1271
                }
            }
        ]
    });
```

---

## windows.dump()

将窗口状态数据化

```typescript
windows.dump();
```

---

## windows.focus(uuid)

- `uuid`: (`string`) 窗口 Uuid

聚焦指定窗口

```typescript
windows.focus('ba4ae121-111-22-33-20536c5d6052');
```

---

## windows.normalizeURL(url, uuid)

- `url`: (`string`) 窗口地址
- `uuid`: (`string`) 窗口 Uuid

规范化 URL

```typescript
windows.normalizeURL(`${__dirname}/window-main.html`, 'ba4ae121-111-22-33-20536c5d6052');
```

---

## windows.quit()

退出所有窗口

```typescript
windows.quit();
```

---

## Renderer 进程

---

### userData

用户传入的 `userData` 数据。

---

### windows.sync()

与主进程同步窗口的 `userData` 数据。

```typescript
windows.sync();
```

---

### windows.close()

关闭窗口

```typescript
windows.close();
```

---

### windows.setMinSize(width, height)

- `width`: (`number`) 宽度
- `height`: (`number`) 高度

设置窗口的最小宽高

```typescript
windows.setMinSize(100, 100);
```

---