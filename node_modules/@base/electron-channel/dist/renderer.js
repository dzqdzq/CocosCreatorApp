"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.query=exports.clear=exports.unregister=exports.register=void 0;const electron_1=require("electron"),pkg=require("../package.json"),ipcFlag="".concat(pkg.name,"@").concat(pkg.version);let map={};function register(e){electron_1.ipcRenderer.send("".concat(ipcFlag,":register"),e)}function unregister(e){electron_1.ipcRenderer.send("".concat(ipcFlag,":unregister"),e)}function clear(e){electron_1.ipcRenderer.send("".concat(ipcFlag,":clear"),e)}function query(e){return electron_1.ipcRenderer.sendSync("".concat(ipcFlag,":query"),e)}exports.register=register,exports.unregister=unregister,exports.clear=clear,exports.query=query,electron_1.ipcRenderer.on("".concat(ipcFlag,":delete"),function(e,r,c){let n=map[r];if(!n)return;let t=n.indexOf(c);t>=0&&n.splice(t,1),0===n.length&&delete map[r]}),electron_1.ipcRenderer.on("".concat(ipcFlag,":clear"),function(e,r){delete map[r]});