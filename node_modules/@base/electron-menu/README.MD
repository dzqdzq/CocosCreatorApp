# Electron menu

Enhanced menu for Electron.

---

## Browser Process

---

### menu.clear()

Clear all menus.

```typescript
menu.clear();
```

---

### menu.add(path, [options])

- `path`: (`string`) Menu path
- `options`: (`object`) Configuration options for the added menu item

Add a menu button.

```typescript
menu.add('File/Open')
    .add('File/New', {
        order: 0,
        group: 'new',
        click () {},
    });
```

---

### menu.remove(path)

- `path`: (`string`) Menu path

```typescript
menu.remove('File/New');
```

---

### menu.get(path)

- `path`: (`string`) Menu path

Get the menu at the specified path.

```typescript
menu.get('File/New');
```

---

### menu.apply()

Apply modifications.

```typescript
menu.apply();
```

---

### setParseHandler(func)

- `fn`: (`Function`) Parsing function

Insert a parser during the menu parsing process, where options are the parameters passed into add.
Within this parameter, transformations can be made for other custom parameters. 
In the example, a click event for sending a message dynamically is generated based on the message field.

```typescript
menu.setParseHandler((options, template) => {
   if (options.message) {
       template.click = function () {
           ipc.sendToAll('options.message');
       };
   }
});
```

---

## Renderer Process

---

### menu.popup(options)

- `options`: (`object`) Specific pop-up locations and menu contents

Display the menu, passing in x, y coordinates relative to the page, as well as the menu template.
Click events within the template will trigger upon clicking.
The template supports separators and submenus.

```typescript
menu.popup({
    x: event.pageX,
    y: event.pageY,
    menu: [
        {
            label: 'test',
            click () {
                vm.message = 'test';
            }
        },
        {
            type: 'separator',
        }, 
        {
            label: 'submenu',
            submenu: [
                {
                    label: 'test2',
                    click () {
                        vm.message = 'test2';
                    }
                }
            ]
        }
    ],
});
```

---

### menu.click(search)

- `search`: (`string`) - index search path, e.g., 0.1 clicks on the sub-item with index 1 of the menu item with index 0

Click on a specific menu item.

```typescript
menu.click('0.1');
```

---

### menu.query()

Query the template of the currently displayed menu.

```typescript
const popupMenuTemplate = menu.query();
console.log(popupMenuTemplate);
```

---
