"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = (importAssertionsRecord) => {
    const stripAndScanImportAssertionsOnPath = (path) => {
        var _a;
        if (!path.node.source) {
            return;
        }
        if (path.node.assertions) {
            const importAssertions = (_a = importAssertionsRecord[path.node.source.value]) !== null && _a !== void 0 ? _a : {};
            for (const { key, value } of path.node.assertions) {
                const keyString = key.type === 'Identifier' ? key.name : key.value;
                importAssertions[keyString] = value.value;
            }
            path.node.assertions = null;
        }
    };
    return {
        visitor: {
            ImportDeclaration: stripAndScanImportAssertionsOnPath,
            ExportAllDeclaration: stripAndScanImportAssertionsOnPath,
            ExportNamedDeclaration: stripAndScanImportAssertionsOnPath
        },
    };
};
//# sourceMappingURL=plugin-strip-and-scan-import-assertions.js.map