/// <reference types="node" />
import { SourceMap } from '@cocos/creator-programming-mod-lo';
import { ChunkIOBase } from './base';
import { ChunkUID } from '../chunk-id';
import { URL } from 'url';
import { Logger } from '@cocos/creator-programming-common/lib/logger';
export declare class ChunkWriter extends ChunkIOBase {
    constructor({ chunkHomePath: sourceCacheDir, importMapPath, resolutionDetailMapPath, logger, }: {
        chunkHomePath: string;
        importMapPath: string;
        resolutionDetailMapPath: string;
        logger: Logger;
    });
    persistToTempFiles(): Promise<void[]>;
    renameTempFiles(): boolean;
    private deleteTempFiles;
    clear(): void;
    getChunk(id: ChunkUID): import("../chunk").Chunk;
    addChunk(moduleURL: Readonly<URL>, code: string, map?: SourceMap): string;
    removeChunk(id: ChunkUID): void;
    setEntryChunks(entryChunks: Record<ChunkUID, string>): void;
    private _logger;
    private _importMapPath;
    private _resolutionDetailMapPath;
    private _importMapPathTemp;
    private _resolutionDetailMapPathTemp;
    private _generateChunkId;
    private _writeMapsToTempFiles;
    private _buildMaps;
}
