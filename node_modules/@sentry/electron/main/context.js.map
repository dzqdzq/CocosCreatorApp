{"version":3,"file":"context.js","sources":["../src/src/main/context.ts"],"sourcesContent":["/* eslint-disable max-lines */\nimport { Event, EventHint, SdkInfo } from '@sentry/core';\nimport { NodeClient } from '@sentry/node';\nimport { app } from 'electron';\n\nimport { SDK_VERSION } from './version';\n\nexport const SDK_NAME = 'sentry.javascript.electron';\n\n/** Gets SDK info */\nexport function getSdkInfo(): SdkInfo {\n  return {\n    name: SDK_NAME,\n    packages: [\n      {\n        name: 'npm:@sentry/electron',\n        version: SDK_VERSION,\n      },\n    ],\n    version: SDK_VERSION,\n  };\n}\n\n/** Gets the default release name */\nexport function getDefaultReleaseName(): string {\n  const app_name = app.name || app.getName();\n  return `${app_name.replace(/\\W/g, '-')}@${app.getVersion()}`;\n}\n\n/** Gets the default environment */\nexport function getDefaultEnvironment(): string {\n  return app.isPackaged ? 'production' : 'development';\n}\n\n/**\n * Gets the default event data by calling all event processors.\n */\nexport async function getEventDefaults(client: NodeClient): Promise<Event> {\n  let event: Event | null = { message: 'test' };\n  const eventHint: EventHint = {};\n\n  for (const processor of client.getEventProcessors()) {\n    if (event === null) break;\n    event = await processor(event, eventHint);\n  }\n\n  delete event?.message;\n\n  return event || {};\n}\n"],"names":["SDK_VERSION","app"],"mappings":";;;AAOO,MAAM,QAAQ,GAAG;AAExB;SACgB,UAAU,GAAA;IACxB,OAAO;AACL,QAAA,IAAI,EAAE,QAAQ;AACd,QAAA,QAAQ,EAAE;AACR,YAAA;AACE,gBAAA,IAAI,EAAE,sBAAsB;AAC5B,gBAAA,OAAO,EAAEA,mBAAW;AACrB,aAAA;AACF,SAAA;AACD,QAAA,OAAO,EAAEA,mBAAW;KACrB;AACH;AAEA;SACgB,qBAAqB,GAAA;IACnC,MAAM,QAAQ,GAAGC,YAAG,CAAC,IAAI,IAAIA,YAAG,CAAC,OAAO,EAAE;AAC1C,IAAA,OAAO,CAAG,EAAA,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,IAAIA,YAAG,CAAC,UAAU,EAAE,EAAE;AAC9D;AAEA;SACgB,qBAAqB,GAAA;IACnC,OAAOA,YAAG,CAAC,UAAU,GAAG,YAAY,GAAG,aAAa;AACtD;AAEA;;AAEG;AACI,eAAe,gBAAgB,CAAC,MAAkB,EAAA;AACvD,IAAA,IAAI,KAAK,GAAiB,EAAE,OAAO,EAAE,MAAM,EAAE;IAC7C,MAAM,SAAS,GAAc,EAAE;AAE/B,IAAA,KAAK,MAAM,SAAS,IAAI,MAAM,CAAC,kBAAkB,EAAE,EAAE;QACnD,IAAI,KAAK,KAAK,IAAI;YAAE;QACpB,KAAK,GAAG,MAAM,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC;AAC1C;IAED,OAAO,KAAK,EAAE,OAAO;IAErB,OAAO,KAAK,IAAI,EAAE;AACpB;;;;;;;;"}