"use strict";const e=require("../../../share/@base/electron-base-ipc");module.exports=new class{constructor(){this.isOnline=!1,e.broadcast("editor-lib-network:flag-changed","isOnline",this.isOnline)}get ip(){return this.ipList[0]||"127.0.0.1"}get ipList(){return require("../../../share/network").queryIpList()}async update(){return this.isOnline=await new Promise(e=>{require("../../../share/network").canConnectPassport(e)}),e.broadcast("editor-lib-network:flag-changed","isOnline",this.isOnline),this.isOnline}},e.on("editor-lib-network:query-flag",(e,r)=>module.exports[r]),e.on("editor-lib-network:call",async(e,r,i)=>{if(!module.exports[r])return e.reply(new Error(`The network did not find the specified interface: ${r}`),null),void 0;try{let t=await module.exports[r](...i);e.reply(null,t)}catch(r){e.reply(r,null)}});