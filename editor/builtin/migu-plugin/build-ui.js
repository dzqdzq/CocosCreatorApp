"use strict";require("path"),require("fs");let t=Editor.Profile.load("project://migu-runtime.json"),i=t.getSelfData();exports.template=`\n        <ui-prop name="${Editor.T("migu-runtime.pack_res_to_first_pack")}" >\n             <ui-checkbox v-value="runtimeSetting.packFirstScreenRes"></ui-checkbox>\n        </ui-prop>\n        <ui-prop name="${Editor.T("migu-runtime.package")}" auto-height>\n            <ui-input class="flex-1" placeholder="${Editor.T("migu-runtime.package_hint")}" v-value="runtimeSetting.package"></ui-input>\n        </ui-prop>\n\n        <ui-prop name="${Editor.T("migu-runtime.name")}" auto-height>\n            <ui-input class="flex-1" placeholder="${Editor.T("migu-runtime.name_hint")}" v-value="runtimeSetting.name"></ui-input>\n        </ui-prop>\n\n        <ui-prop name="${Editor.T("migu-runtime.desktop_icon")}">\n            <ui-input v-value="runtimeSetting.icon" class="flex-1" placeholder="${Editor.T("migu-runtime.desktop_icon_hint")}"></ui-input>\n        <ui-button class="tiny" v-on:confirm="onChooseIconPath">···</ui-button>\n        </ui-prop>\n\n        <ui-prop name="${Editor.T("migu-runtime.version_name")}" auto-height>\n            <ui-input class="flex-1" placeholder="${Editor.T("migu-runtime.version_name_hint")}" v-value="runtimeSetting.versionName"></ui-input>\n        </ui-prop>\n\n        <ui-prop name="${Editor.T("migu-runtime.version_number")}" auto-height>\n            <ui-input class="flex-1" placeholder="${Editor.T("migu-runtime.version_number_hint")}" v-value="runtimeSetting.versionCode"></ui-input>\n        </ui-prop>\n\n        <ui-prop name="${Editor.T("migu-runtime.support_min_platform")}" auto-height>\n            <ui-input class="flex-1" placeholder="${Editor.T("migu-runtime.support_min_platform_hint")}" v-value="runtimeSetting.minPlatformVersion"></ui-input>\n        </ui-prop>\n\n        <ui-prop name="${Editor.T("migu-runtime.screen_orientation")}">\n            <ui-select class="flex-1" v-value="runtimeSetting.deviceOrientation">\n                <option value="portrait">${Editor.T("migu-runtime.vertical_screen")}</option>\n                <option value="landscape">${Editor.T("migu-runtime.horizontal_screen")}</option>\n            </ui-select>\n        </ui-prop>\n\n        <ui-prop name="${Editor.T("migu-runtime.log_level")}">\n            <ui-select class="flex-1" v-value="runtimeSetting.logLevel">\n                <option value="log">log</option>\n                <option value="off">off</option>\n                <option value="error">error</option>\n                <option value="warn">warn</option>\n                <option value="info">info</option>\n                <option value="debug">debug</option>\n            </ui-select>\n        </ui-prop>\n\n        <ui-prop name="${Editor.T("migu-runtime.small_packet_path")}" auto-height>\n            <ui-input class="flex-1" v-value="runtimeSetting.tinyPackageServer" placeholder="${Editor.T("migu-runtime.small_packet_path_hint")}"></ui-input>\n        </ui-prop>\n\n        <ui-prop name="${Editor.T("migu-runtime.app_id")}" auto-height>\n            <ui-input class="flex-1" v-value="runtimeSetting.appid" placeholder="${Editor.T("migu-runtime.app_id_hint")}"></ui-input>\n        </ui-prop>\n\n        <ui-prop name="${Editor.T("migu-runtime.app_key")}" auto-height>\n            <ui-input class="flex-1" v-value="runtimeSetting.appkey" placeholder="${Editor.T("migu-runtime.app_key_hint")}"></ui-input>\n        </ui-prop>\n\n        <ui-prop name="${Editor.T("migu-runtime.custom_npm_path")}" v-show="runtimeSetting.showNpmPath">\n            <ui-input v-value="runtimeSetting.npmPath" class="flex-1" placeholder="${Editor.T("migu-runtime.custom_npm_path_hint")}"></ui-input>\n        <ui-button class="tiny" v-on:confirm="onChooseNpmPath">···</ui-button>\n        </ui-prop>\n`,exports.name="migu-runtime",exports.data=function(){return{runtimeSetting:i,originEncryptJs:!1,profile:null}},exports.watch={runtimeSetting:{handler(i){Object.keys(this.runtimeSetting).forEach(i=>{t.set(i,this.runtimeSetting[i])}),t.save()},deep:!0}};const e=require(Editor.url("packages://builder/utils/event"));exports.created=function(){this.originEncryptJs=this.project.encryptJs,this.includeSDKBox=this.project.includeSDKBox,this.project.includeSDKBox=!1,this.project.encryptJs=!1,e.on("npmPath-show",this._onNpmPathShow)},exports.directives={},exports.beforeDestroy=function(){e.removeListener("npmPath-show",this._onNpmPathShow),this.project.encryptJs=this.originEncryptJs,this.project.includeSDKBox=this.includeSDKBox},exports.methods={_getProjectPath:()=>Editor.Project&&Editor.Project.path?Editor.Project.path:Editor.projectInfo.path,_onNpmPathShow(...t){this.runtimeSetting.showNpmPath=!0},onChooseIconPath(t){t.stopPropagation();let i=Editor.Dialog.openFile({defaultPath:require("path").join(this._getProjectPath(),"asserts"),properties:["openFile"],filters:[{name:Editor.T("migu-runtime.select_pic"),extensions:["png"]}]});i&&i[0]&&(this.runtimeSetting.icon=i[0])},onChooseNpmPath(t){t.stopPropagation();let i=Editor.Dialog.openFile({defaultPath:require("path").join(this._getProjectPath(),"asserts"),properties:["openDirectory"]});i&&i[0]&&(this.runtimeSetting.npmPath=i[0])}};