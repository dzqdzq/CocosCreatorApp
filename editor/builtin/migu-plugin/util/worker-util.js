let r,e,t,i,o,n=require("path"),s=require("fs-extra");module.exports={gatherInfo(s){o=s.mainRpk,i=s.buildPath,(e=function(e,t){if(void 0!==(r=t.workerPath)&&""!==(r=r.replace(/%s/g,"")))return n.join(e,r)}(s.projectPath,s.customConfig))&&(s.gameConfig.workers=r,t=n.join(s.buildPath,r),Editor.log("workerDestPath: ",t))},organizeResources(){if(!e)return;if(!s.existsSync(e))return Editor.warn("worker 路径 '"+e+"' 不存在"),void 0;if(s.existsSync(t)){s.statSync(t).isDirectory()?s.removeSync(t):s.unlinkSync(t)}let r=s.statSync(e);r.isDirectory()||r.isFile()?s.copySync(e,t):Editor.error(e+" was not copy to "+t)},pack(){if(e&&s.existsSync(e)){let e=r.split(/\/|\\/)[0],i=s.statSync(t);i.isDirectory()?o.directory(t,e):i.isFile()?o.append(t,e):Editor.error(t+" was not added to zip!")}}};