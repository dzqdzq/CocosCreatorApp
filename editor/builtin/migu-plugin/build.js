const e="project://migu-runtime.json";let t=require("./util/cpk-util.js");module.exports={name:Editor.T("migu-runtime.platform_name"),platform:"migu-runtime",extends:"runtime",buttons:[Editor.Builder.DefaultButtons.Build,{label:Editor.T("BUILDER.play"),message:"play"}],messages:{"script-build-finished":function(t,i){let r=Editor.Profile.load(e);i.settings.server=r.get("tinyPackageServer")||"",t.reply()},"build-finished":async function(e,i){try{let r=await t.gatherInfo(e,i);if(!1===r)return;if(!1===(r=await t.organizeResources(e)))return;await t.pack(e)}catch(t){e.reply(t)}},play:(e,t)=>{Editor.Panel.open("migu-runtime.qrcode",t)}},delPattern:function(e){let t=require("path"),i=e.dest;return[t.join(i,"**/*")]},md5:{globalIgnore:function(){return[/.*/]}},buildStart:function(t){let i=Editor.Profile.load(e);t.startSceneAssetBundle=i.get("packFirstScreenRes")||!1,t.separateEngineMode=i.get("separateEngineMode")||!1},settings:Editor.url("packages://migu-runtime/build-ui.js")};