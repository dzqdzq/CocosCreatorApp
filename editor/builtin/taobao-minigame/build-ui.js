let e=Editor.Profile.load("project://taobao-minigame.json"),t=e.getSelfData();const i=require("@electron/remote").dialog,o=/^v?[0-9.]*(?:-p.[0-9]+)?$/;"use strict",exports.template=`\n        <ui-prop name="${Editor.T("BUILDER.start_scene_asset_bundle")}"\n                tooltip="${Editor.T("BUILDER.start_scene_asset_bundle_tooltip")}"\n        >\n            <ui-checkbox v-value="runtimeSetting.startSceneAssetBundle"></ui-checkbox>\n        </ui-prop>\n\n        <ui-prop name="${Editor.T("taobao-minigame.screen_orientation")}">\n            <ui-select class="flex-1" v-value="runtimeSetting.deviceOrientation">\n                <option value="portrait">${Editor.T("taobao-minigame.vertical_screen")}</option>\n                <option value="landscape">${Editor.T("taobao-minigame.horizontal_screen")}</option>\n            </ui-select>\n        </ui-prop>\n\n        <ui-prop name="${Editor.T("taobao-minigame.remote_url")}" auto-height>\n            <ui-input class="flex-1" v-value="runtimeSetting.remoteUrl" placeholder="${Editor.T("taobao-minigame.remote_url_hint")}"></ui-input>\n        </ui-prop>\n        <ui-prop name="${Editor.T("taobao-minigame.global_variable")}" auto-height>\n            <ui-input class="flex-1" v-value="runtimeSetting.globalVariable" placeholder="${Editor.T("taobao-minigame.global_variable_tooltip")}"></ui-input>\n        </ui-prop>\n        <ui-prop name="${Editor.T("taobao-minigame.separate_engine")}"\n             tooltip="${Editor.T("taobao-minigame.separate_engine_tips")}"\n             v-if="!local.debug">\n            <ui-checkbox v-value="runtimeSetting.separate_engine"></ui-checkbox>\n        </ui-prop>\n`,exports.name="taobao-minigame",exports.data=function(){return{runtimeSetting:t,originEncryptJs:!1,profile:null}},exports.watch={runtimeSetting:{handler(t){Object.keys(this.runtimeSetting).forEach(t=>{e.set(t,this.runtimeSetting[t])}),e.save()},deep:!0}},exports.created=function(){this.originEncryptJs=this.project.encryptJs,this.project.encryptJs=!1},exports.directives={},exports.beforeDestroy=function(){this.project.encryptJs=this.originEncryptJs},exports.methods={checkParams(){if(!this.local.debug&&this.runtimeSetting.separate_engine){let e=Editor.remote.Profile.load("local://settings.json"),t=Editor.remote.Profile.load("global://settings.json").get("use-default-js-engine");!1===e.get("use-global-engine-setting")&&(t=!0===e.get("use-default-js-engine"));let n=Editor.remote.versions.CocosCreator;if(!t||!o.test(n))return i.showErrorBox(Editor.T("BUILDER.error.build_error"),Editor.T("BUILDER.error.separate_engine")),!1}return!0}};