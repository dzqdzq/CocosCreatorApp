"use strict";const ps=require("path"),fse=require("fs-extra");exports.js=function(){return["./"]},exports.afterJs=function(e){const s=ps.join(__dirname,"../@types/extension"),r=ps.join(__dirname,"../@types/message");e.recursive(ps.join(__dirname,"../@types/editor"),e=>{if(".ts"!==ps.extname(e))return;let t=fse.readFileSync(e,"utf8"),i=!1;t=(t=t.replace('/// <reference types="../@types/extension" />',()=>{return i=!0,`/// <reference types="${ps.relative(ps.dirname(e),s)}" />`})).replace('/// <reference types="../@types/message" />',()=>{return i=!0,`/// <reference types="${ps.relative(ps.dirname(e),r)}" />`}),i&&fse.writeFileSync(e,t)})},exports.css=function(){const e=[];return(()=>{const s=ps.join(__dirname,"./source/ui-kit/renderer/components"),r=ps.join(__dirname,"./dist/ui-kit/renderer/components");fse.readdirSync(s).forEach(t=>{const i=ps.join(s,t);fse.existsSync(i)&&fse.statSync(i).isDirectory()&&fse.readdirSync(i).filter(e=>".less"===ps.extname(e)).forEach(s=>{e.push({source:ps.relative(__dirname,ps.join(i,s)),dist:ps.relative(__dirname,ps.join(r,t,s)).replace(/\.less$/,".css")})})})})(),(()=>{const s=ps.join(__dirname,"./source/theme/source"),r=ps.join(__dirname,"./dist/theme/dist");fse.readdirSync(s).forEach(t=>{e.push({source:ps.relative(__dirname,ps.join(s,t)),dist:ps.relative(__dirname,ps.join(r,t)).replace(/\.less$/,".css")})})})(),e},exports.module=function(e){return[]},exports.file=function(){return[{src:"./source",dist:"./dist",filter:/\.html$/},{src:"./source",dist:"./dist",filter:/\.js$/},{src:"./source",dist:"./dist",filter:/\.css$/},{src:"./source",dist:"./dist",filter:/\.png$/},{src:"./source",dist:"./dist",filter:/\.woff$/},{src:"./source",dist:"./dist",filter:/\.json$/}]},exports.generate=async function(){},exports.jsc=function(){const e=[],s=[];return fse.readdirSync(ps.join(__dirname,"dist")).forEach(r=>{const t=ps.join(__dirname,"dist",r),i=ps.join(t,"browser"),n=ps.join(t,"renderer");fse.existsSync(i)&&this.recursive(i,s=>{".js"===ps.extname(s)&&e.push(s)}),fse.existsSync(n)&&![].includes(r)&&this.recursive(n,e=>{".js"===ps.extname(e)&&s.push(e)})}),{browser:e,renderer:s}};