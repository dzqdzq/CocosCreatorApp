"use strict";const Vue=require("vue/dist/vue"),{Package:Package}=require("../../../../package");Vue.config.productionTip=!1,Vue.config.devtools=!1;const{join:join}=require("path");new Vue({el:document.getElementById("toolbar"),data:{left:[],middle:[],right:[]},methods:{attach(i){if(!i.enable||!i.info.contributions||!i.info.contributions.toolbar)return;let e=i.info.contributions.toolbar;if(e.left){!this.left.some(e=>e.name===i.info.name)&&this.left.push({name:i.info.name,path:join(i.path,e.left),priority:e.leftPriority||0}),this.left.sort((i,e)=>i.priority-e.priority)}if(e.middle){!this.middle.some(e=>e.name===i.info.name)&&this.middle.push({name:i.info.name,path:join(i.path,e.middle),priority:e.middlePriority||0}),this.middle.sort((i,e)=>i.priority-e.priority)}if(e.right){!this.right.some(e=>e.name===i.info.name)&&this.right.push({name:i.info.name,path:join(i.path,e.right),priority:e.rightPriority||0}),this.right.sort((i,e)=>i.priority-e.priority)}},detach(i){if(!i.info.contributions||!i.info.contributions.toolbar)return;let e=i.info.contributions.toolbar;e.left&&this.left.some((e,t)=>{if(e.name===i.info.name)return delete require.cache[e.path],this.left.splice(t,1),!0}),e.middle&&this.middle.some((e,t)=>{if(e.name===i.info.name)return delete require.cache[e.path],this.middle.splice(t,1),!0}),e.right&&this.right.some((e,t)=>{if(e.name===i.info.name)return delete require.cache[e.path],this.right.splice(t,1),!0})}},mounted(){requestAnimationFrame(()=>{Package.getPackages({enable:!0}).forEach(this.attach),Package.on("enable",this.attach),Package.on("disable",this.detach)})}});