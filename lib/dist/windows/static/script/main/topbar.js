"use strict";const Vue=require("vue/dist/vue"),{Package:Package}=require("../../../../package");Vue.config.productionTip=!1,Vue.config.devtools=!1;const{join:join}=require("path");new Vue({el:document.getElementById("toolbar"),data:{left:[],middle:[],right:[]},methods:{attach(i){if(!i.enable||!i.info.contributions||!i.info.contributions.toolbar)return;let t=i.info.contributions.toolbar;if(t.left){!this.left.some(t=>t.name===i.info.name)&&this.left.push({name:i.info.name,path:join(i.path,t.left),priority:t.leftPriority||0}),this.left.sort((i,t)=>i.priority-t.priority)}if(t.middle){!this.middle.some(t=>t.name===i.info.name)&&this.middle.push({name:i.info.name,path:join(i.path,t.middle),priority:t.middlePriority||0}),this.middle.sort((i,t)=>i.priority-t.priority)}if(t.right){!this.right.some(t=>t.name===i.info.name)&&this.right.push({name:i.info.name,path:join(i.path,t.right),priority:t.rightPriority||0}),this.right.sort((i,t)=>i.priority-t.priority)}},detach(i){if(!i.info.contributions||!i.info.contributions.toolbar)return;let t=i.info.contributions.toolbar;t.left&&this.left.some((t,e)=>{if(t.name===i.info.name)return Editor.Module.removeCache(t.path),this.left.splice(e,1),!0}),t.middle&&this.middle.some((t,e)=>{if(t.name===i.info.name)return Editor.Module.removeCache(t.path),this.middle.splice(e,1),!0}),t.right&&this.right.some((t,e)=>{if(t.name===i.info.name)return Editor.Module.removeCache(t.path),this.right.splice(e,1),!0})}},mounted(){requestAnimationFrame(()=>{Package.getPackages({enable:!0}).forEach(this.attach),Package.on("enable",this.attach),Package.on("disable",this.detach)})}});