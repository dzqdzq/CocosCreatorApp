"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const events_1=require("events"),browser_1=require("../../metrics/browser"),Profile=require("@base/electron-profile"),ipc=require("@base/electron-base-ipc"),ps=require("path"),fs=require("fs"),window=require("../../windows"),profile=Profile.load("global://editor/theme.json");class Theme extends events_1.EventEmitter{constructor(){super(),this._name=profile.get("theme")||"default",browser_1.trackEvent({category:"Editor",action:"Theme - Init",label:this._name})}getList(){return fs.readdirSync(ps.join(__dirname,"./color")).map(e=>{const r=ps.extname(e);return e.replace(r,"")})}use(e){if(!e)return profile.get("theme");let r=ps.join(__dirname,`../color/${e}.js`);fs.existsSync(r)?(profile.set("theme",e),profile.save(),ipc.broadcast("editor3d-lib-theme:use",e)):console.log(`The theme does not exist. Use the default theme.\n  name: ${e}\n  path: ${r}`)}}module.exports=new Theme,module.exports.use(""),ipc.on("editor3d-lib-theme:use",(e,r)=>{module.exports.use(r)});