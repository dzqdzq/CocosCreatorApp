"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const events_1=require("events"),Profile=require("@base/electron-profile"),ipc=require("@base/electron-base-ipc"),ps=require("path"),fs=require("fs"),window=require("../../windows"),profile=Profile.load("global://editor/theme.json");class Theme extends events_1.EventEmitter{constructor(){super(),this._name="default"}getList(){return fs.readdirSync(ps.join(__dirname,"./color")).map(e=>{const t=ps.extname(e);return e.replace(t,"")})}use(e){if(!e)return profile.get("theme");let t=ps.join(__dirname,`../color/${e}.js`);fs.existsSync(t)?(profile.set("theme",e),profile.save(),ipc.broadcast("editor3d-lib-theme:use",e)):console.log(`The theme does not exist. Use the default theme.\n  name: ${e}\n  path: ${t}`)}}module.exports=new Theme,module.exports.use(""),ipc.on("editor3d-lib-theme:use",(e,t)=>{module.exports.use(t)});