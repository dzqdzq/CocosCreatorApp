"use strict";require("chai").should();const fse=require("fs-extra"),path=require("path"),{Utils:Utils}=require("../dist/utils");describe("app/lib 工具函数",()=>{describe("Utils.File",()=>{describe("getName",()=>{const t={ROOT:path.join(__dirname,"./utils/file")};after(()=>{fse.removeSync(path.dirname(t.ROOT))}),it("1.test -> 2.test",async function(){const e=path.join(t.ROOT,"1.test");fse.outputFileSync(e,""),Utils.File.getName(e).should.to.equal(path.join(t.ROOT,"2.test"))}),it("001.test -> 002.test",async function(){const e=path.join(t.ROOT,"001.test");fse.outputFileSync(e,""),Utils.File.getName(e).should.to.equal(path.join(t.ROOT,"002.test"))}),it("a.test -> a-001.test",async function(){const e=path.join(t.ROOT,"a.test");fse.outputFileSync(e,""),Utils.File.getName(e).should.to.equal(path.join(t.ROOT,"a-001.test"))}),it("a_001.test -> a_002.test",async function(){const e=path.join(t.ROOT,"a_001.test");fse.outputFileSync(e,""),Utils.File.getName(e).should.to.equal(path.join(t.ROOT,"a_002.test"))}),it("a_0016.test -> a_0017.test",async function(){const e=path.join(t.ROOT,"a-0016.test");fse.outputFileSync(e,""),Utils.File.getName(e).should.to.equal(path.join(t.ROOT,"a-0017.test"))}),it("a-001.test -> a-002.test",async function(){const e=path.join(t.ROOT,"a-001.test");fse.outputFileSync(e,""),Utils.File.getName(e).should.to.equal(path.join(t.ROOT,"a-002.test"))}),it("a-0016.test -> a-0017.test",async function(){const e=path.join(t.ROOT,"a-0016.test");fse.outputFileSync(e,""),Utils.File.getName(e).should.to.equal(path.join(t.ROOT,"a-0017.test"))})})}),describe("Utils.Path",()=>{}),describe("Utils.Math",()=>{describe("clamp01",()=>{it("-1",()=>{Utils.Math.clamp01(-1).should.to.equal(0)}),it("0",()=>{Utils.Math.clamp01(0).should.to.equal(0)}),it("0.22",()=>{Utils.Math.clamp01(.22).should.to.equal(.22)}),it("1",()=>{Utils.Math.clamp01(1).should.to.equal(1)}),it("1.22",()=>{Utils.Math.clamp01(1.22).should.to.equal(1)}),it("100",()=>{Utils.Math.clamp01(100).should.to.equal(1)})}),describe("add",()=>{it("0.1 + 0.2",()=>{Utils.Math.add(.1,.2).should.to.equal(.3)}),it("0.00001 + 0.1",()=>{Utils.Math.add(1e-5,.1).should.to.equal(.10001)}),it("0.10001 + 0.1",()=>{Utils.Math.add(.10001,.1).should.to.equal(.20001)})}),describe("sub",()=>{it("0.2 - 0.1",()=>{Utils.Math.sub(.2,.1).should.to.equal(.1)}),it("0.00001 - 0.1",()=>{Utils.Math.sub(1e-5,.1).should.to.equal(-.09999)}),it("0.10001 - 0.1",()=>{Utils.Math.sub(.10001,.1).should.to.equal(1e-5)})})})});