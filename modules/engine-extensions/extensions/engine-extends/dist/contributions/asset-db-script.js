"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.methods=void 0;const asset_db_1=require("@editor/asset-db"),effect_1=require("../importer/importers/effect"),effect_compiler_1=require("../../static/effect-compiler");exports.methods={async refreshAllEffect(){effect_1.EffectImporter.autoGenEffectBin=!1;const e=[];(0,asset_db_1.forEach)(t=>{t.path2asset.forEach(t=>{t&&"effect"===t.meta.importer&&e.push(t)})}),await Promise.all(e.map(e=>e._assetDB.reimport(e.uuid))),effect_1.EffectImporter.autoGenEffectBin=!0;try{const t=Manager.assetDBManager.assetDBMap.internal.importerManager.name2importer.effect;t.afterImport&&await t.recompileAllEffects(e)}catch(e){console.error(e)}},buildEffect:async(e,t)=>(0,effect_compiler_1.buildEffect)(e,t),async addChunk(e,t){(0,effect_compiler_1.addChunk)(e,t)}};