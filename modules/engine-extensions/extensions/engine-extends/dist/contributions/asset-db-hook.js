"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.effectDataProcessing=exports.afterStopDB=exports.afterStartDB=exports.afterRefresh=exports.afterPreStart=exports.beforePreStart=void 0;const effect_1=require("../importer/importers/effect");function beforePreStart(t){Object.values(t).forEach(t=>{t.preImportExtList=t.preImportExtList||[],t.preImportExtList.push(".chunk",".effect")})}async function afterPreStart(){await effectDataProcessing(),effect_1.EffectImporter.autoGenEffectBin=!0}async function afterRefresh(){await effectDataProcessing()}async function afterStartDB(t){await effectDataProcessing(!0)}async function afterStopDB(t){await effectDataProcessing(!0)}async function effectDataProcessing(t){Editor.Metrics.trackTimeStart("asset-db:worker-effect-data-processing");try{const e=Manager.assetDBManager.assetDBMap.internal.importerManager.name2importer.effect;e.afterImport&&await e.afterImport(t)}catch(t){console.error(t)}Editor.Metrics.trackTimeEnd("asset-db:worker-effect-data-processing",{output:!0})}exports.beforePreStart=beforePreStart,exports.afterPreStart=afterPreStart,exports.afterRefresh=afterRefresh,exports.afterStartDB=afterStartDB,exports.afterStopDB=afterStopDB,exports.effectDataProcessing=effectDataProcessing;