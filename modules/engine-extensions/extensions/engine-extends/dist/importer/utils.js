"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTrimRect=exports.getPixiel=exports.clamp=exports.linkToAssetTarget=exports.i18nTranslate=void 0;const electron_i18n_1=__importDefault(require("@base/electron-i18n"));function i18nTranslate(e,...t){let r=electron_i18n_1.default.translation(e);if("object"==typeof t[0]){const e=t[0],i=r.match(/{(\w+)}/g);if(i)for(const t of i){const i=t.substr(1,t.length-2);r=r.replace(t,e[i])}}return r}function linkToAssetTarget(e){return`{asset(${e})}`}function clamp(e,t,r){return e<t?t:e>r?r:e}function getPixiel(e,t,r,i){const o=4*t+r*i*4;return{r:e[o],g:e[o+1],b:e[o+2],a:e[o+3]}}function getTrimRect(e,t,r,i){const o=i;let n,s,a=t,l=r,f=0,c=0;for(s=0;s<r;s++)for(n=0;n<t;n++)if(getPixiel(e,n,s,t).a>=o){l=s,s=r;break}for(s=r-1;s>=l;s--)for(n=0;n<t;n++)if(getPixiel(e,n,s,t).a>=o){c=s-l+1,s=0;break}for(n=0;n<t;n++)for(s=l;s<l+c;s++)if(getPixiel(e,n,s,t).a>=o){a=n,n=t;break}for(n=t-1;n>=a;n--)for(s=l;s<l+c;s++)if(getPixiel(e,n,s,t).a>=o){f=n-a+1,n=0;break}return[a,l,f,c]}exports.i18nTranslate=i18nTranslate,exports.linkToAssetTarget=linkToAssetTarget,exports.clamp=clamp,exports.getPixiel=getPixiel,exports.getTrimRect=getTrimRect;