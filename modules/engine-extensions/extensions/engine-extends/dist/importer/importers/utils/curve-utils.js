"use strict";function evaluateValueTangent(t,e,n,r,o,a,s,u,c){const i=a-e,l=(t-e)/i,b=r/i*(1/3),f=1-u/i*(1/3),M=n+o*(1/3),h=s-c*(1/3),v=[0,0,0],g=getParamFromCubicSolution(v,solveCubic(0-l,3*b,3*f-6*b,3*(b-f)+1,v),l);return{value:bezierInterp(n,M,h,s,g),tangent:{x:bezierTangent(e,b,f,a,g),y:bezierTangent(n,M,h,s,g)}}}function bezierInterp(t,e,n,r,o){const a=1-o;return a*a*a*t+3*a*a*o*e+3*a*o*o*n+o*o*o*r}function bezierTangent(t,e,n,r,o){const a=1-o;return 3*a*a*(e-t)+6*a*o*(n-e)+3*o*o*(r-n)}function getParamFromCubicSolution(t,e,n){let r=n;if(1===e)r=t[0];else{r=-1/0;for(let n=0;n<e;++n){const e=t[n];e>=0&&e<=1&&e>r&&(r=e)}r===-1/0&&(r=0)}return r}function solveCubic(t,e,n,r,o){const a=n/r,s=e/r,u=a*a,c=1/3*(-1/3*u+s),i=.5*(2/27*a*u-1/3*a*s+t/r),l=c*c*c,b=i*i+l;let f=0;if(isZero(b)){if(isZero(i))return o[0]=0,1;{const t=Math.cbrt(-i);return o[0]=2*t,o[1]=-t,2}}if(b<0){const t=1/3*Math.acos(-i/Math.sqrt(-l)),e=2*Math.sqrt(-c);o[0]=e*Math.cos(t),o[1]=-e*Math.cos(t+Math.PI/3),o[2]=-e*Math.cos(t-Math.PI/3),f=3}else{const t=Math.sqrt(b),e=Math.cbrt(t-i),n=-Math.cbrt(t+i);o[0]=e+n,f=1}const M=1/3*a;for(let t=0;t<f;++t)o[t]-=M;return f}Object.defineProperty(exports,"__esModule",{value:!0}),exports.solveCubic=exports.evaluateValueTangent=void 0,exports.evaluateValueTangent=evaluateValueTangent,exports.solveCubic=solveCubic;const EQN_EPS=1e-9;function isZero(t){return t>-EQN_EPS&&t<EQN_EPS}