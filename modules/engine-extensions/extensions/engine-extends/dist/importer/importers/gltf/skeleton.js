"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GltfSkeletonImporter=void 0;const asset_db_1=require("@editor/asset-db"),reader_manager_1=require("./reader-manager"),utils_1=require("../../utils");class GltfSkeletonImporter extends asset_db_1.Importer{get version(){return"1.0.1"}get name(){return"gltf-skeleton"}get assetType(){return"cc.Skeleton"}get instantiation(){return".skeleton"}async import(e){if(!e.parent)return!1;const t=(await reader_manager_1.glTfReaderManager.getOrCreate(e.parent)).createSkeleton(e.userData.gltfIndex);e.userData.jointsLength=t.joints.length;const r=EditorExtends.serialize(t);await e.saveToLibrary(".json",r);const n=(0,utils_1.getDependUUIDList)(r);return e.setData("depends",n),!0}}exports.GltfSkeletonImporter=GltfSkeletonImporter;