"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const asset_db_1=require("@editor/asset-db"),fs_extra_1=require("fs-extra"),path_1=require("path"),utils_1=require("../utils");class TextImporter extends asset_db_1.Importer{get version(){return"1.0.1"}get name(){return"text"}get assetType(){return"cc.TextAsset"}async validate(e){return!await e.isDirectory()&&(".ts"!==e.extname||".d"===path_1.extname(e.basename))}async import(e){const t=await fs_extra_1.readFile(e.source,"utf8"),s=new cc.TextAsset;s.name=e.basename,s.text=t;const r=EditorExtends.serialize(s);await e.saveToLibrary(".json",r);const a=utils_1.getDependUUIDList(r);return e.setData("depends",a),!0}}exports.default=TextImporter;