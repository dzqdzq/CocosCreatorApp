"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextImporter=void 0;const asset_db_1=require("@editor/asset-db"),fs_extra_1=require("fs-extra"),path_1=require("path");class TextImporter extends asset_db_1.Importer{get version(){return"1.0.2"}get name(){return"text"}get assetType(){return"cc.TextAsset"}async validate(e){return!await e.isDirectory()&&(".ts"!==e.extname||".d"===(0,path_1.extname)(e.basename))}async import(e){const t=await(0,fs_extra_1.readFile)(e.source,"utf8"),r=new cc.TextAsset;r.name=e.basename,r.text=t;const s=EditorExtends.serialize(r);return await e.saveToLibrary(".json",s),e.setData("depends",[]),!0}}exports.TextImporter=TextImporter;