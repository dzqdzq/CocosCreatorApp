import _UTIL from"../util.js";function fetch(r,e){let t=null;return"string"==typeof r?t=r:"object"==typeof r&&(t="scripts/"+r.href),new Promise((n,o)=>{let s=new XMLHttpRequest;s.open("GET",t),s.responseType="arraybuffer",s.onload=function(){var r,e,t;200===s.status?(r=s.response,e=new Blob([s.response],{type:""}),t=_UTIL.arraybufferToString(r),n({_arrayBuffer:r,_blob:e,_text:t,ok:!0,text:function(){return this._text},blob:function(){return this._blob},arrayBuffer:function(){return this._arrayBuffer},json:function(){return JSON.parse(this._text)}})):o(Error("Request didn't return successfully; error code:"+s.statusText))},s.onerror=function(){o(Error("There was a network error."))},s.send()})}module.exports=fetch;