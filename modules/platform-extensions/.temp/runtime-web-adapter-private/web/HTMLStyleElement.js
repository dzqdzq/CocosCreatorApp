import FontFace from"./FontFace";import HTMLElement from"./HTMLElement";export default class HTMLStyleElement extends HTMLElement{constructor(){super("STYLE");let e=this,a=function(){e.removeEventListener("append",a);var t=e.textContent||e.innerHTML||"";let r="",n=0;var f=t.length;let i=0;for(let e=0;e<f;++e)if(0<n){if("{"===t[e])i++;else if("}"===t[e]){if(0===--i){r=t.substring(n,e+1);break}if(i<0)break}}else"@"===t[e]&&"@font-face"===t.substr(e,"@font-face".length)&&(e+=9,n=e+1);if(r){let n;var l,o=r.length;let f=r.indexOf("font-family");if(-1!==f){let t=f+="font-family".length+1;for(;t<o;++t){if(";"===r[t]){n=r.substring(f,t).trim();break}":"===r[t]&&(f=t+1)}if(n){t=r.indexOf("url("),f=0;let e;for(;t<o;++t)if("'"===r[t]||'"'===r[t]){if(0<f){e=r.substring(f,t).trim();break}f=t+1}e&&((l=new FontFace(n,e)).load(),document.fonts.add(l))}}}};this.addEventListener("append",a)}}