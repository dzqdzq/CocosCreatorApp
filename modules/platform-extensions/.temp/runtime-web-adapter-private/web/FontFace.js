import _wakMap from"./util/WeakMap";class FontFace{constructor(t,a,s){this.family=t,this.source=a,this.descriptors=s;let e=this,o={status:"unloaded",_status:"unloaded",load(){this.status="loading";let t;t=e.source.match(/url\(\s*'\s*(.*?)\s*'\s*\)/)?e.source:"url('"+e.source+"')";var a=ral.loadFont(e.family,t);this._status=a?"loaded":"error",setTimeout(function(){"loaded"===(o.status=o._status)?o.loadResolve():o.loadReject()})}};_wakMap.set(this,o),o.loaded=new Promise(function(t,a){o.loadResolve=t,o.loadReject=a})}get status(){return _wakMap.get(this).status}get loaded(){return _wakMap.get(this).loaded}load(){return _wakMap.get(this).load(),_wakMap.get(this).loaded}}module.exports=FontFace;