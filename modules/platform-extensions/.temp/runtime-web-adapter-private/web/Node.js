import EventTarget from"./EventTarget";import Event from"./Event";import _weakMap from"./util/WeakMap";export default class Node extends EventTarget{childNodes=[];parentNode=null;_nodeName="";constructor(e){super(),this._nodeName=e}appendChild(e){this.childNodes.push(e),e.parentNode=this;var t=e.nodeName;return"SCRIPT"!==t&&"STYLE"!==t||e.dispatchEvent(new Event("append")),e}cloneNode(){var e=Object.create(this),t=(Object.assign(e,this),e.parentNode=null,_weakMap.get(this));return _weakMap.set(e,t?Object.create(t):{}),e}removeChild(t){var e=this.childNodes.findIndex(e=>e===t);return-1<e?((e=this.childNodes.splice(e,1)[0]).parentNode=null,e):null}contains(e){return-1<this.childNodes.indexOf(e)}dispatchEvent(){let t=!0;for(let e=this.childNodes.length-1;t&&0<=e;--e)t=this.childNodes[e].dispatchEvent(...arguments);return!!t&&super.dispatchEvent(...arguments)}get nodeName(){return this._nodeName}}