import EventTarget from"./EventTarget";import Event from"./Event";import FILE_CACHE from"./util/FileCache";export default class XMLHttpRequestEventTarget extends EventTarget{_xhr;constructor(t){super(),(this._xhr=t).onabort=function(t){var n=new Event("abort");this.dispatchEvent(Object.assign(n,t))}.bind(this),t.onerror=function(t){var n=new Event("error");this.dispatchEvent(Object.assign(n,t))}.bind(this),t.onload=function(t){this.response instanceof ArrayBuffer&&FILE_CACHE.setItem(this.response,this._url);var n=new Event("load");this.dispatchEvent(Object.assign(n,t))}.bind(this),t.onloadstart=function(t){var n=new Event("loadstart");this.dispatchEvent(Object.assign(n,t))}.bind(this),t.onprogress=function(t){var n=new Event("progress");this.dispatchEvent(Object.assign(n,t))}.bind(this),t.ontimeout=function(t){var n=new Event("timeout");this.dispatchEvent(Object.assign(n,t))}.bind(this),t.onloadend=function(t){var n=new Event("loadend");this.dispatchEvent(Object.assign(n,t))}.bind(this)}}