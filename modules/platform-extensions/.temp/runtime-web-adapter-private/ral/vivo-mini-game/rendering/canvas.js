import _UTIL from"../../util";import _FEATURE from"../../feature";window.CanvasRenderingContext2D=qg.getCanvasRenderingContext2D(),window.mainCanvas=qg.createCanvas();let mainCanvas=window.mainCanvas,featureValue=(Object.defineProperty(window,"HTMLCanvasElement",{set(e){},get(){return mainCanvas.constructor}}),_UTIL.exportTo("createCanvas",qg,ral),"vivo_platform_support"),_qg_getFeature=(_FEATURE.setFeature("CanvasRenderingContext2D","spec",featureValue),_FEATURE.setFeature("HTMLCanvasElement","spec",featureValue),qg.getFeature),_qg_setFeature=qg.setFeature;_FEATURE.registerFeatureProperty(_FEATURE.CANVAS_CONTEXT2D_TEXTBASELINE_ALPHABETIC.name,function(){if("function"==typeof _qg_getFeature){var e=_qg_getFeature(_FEATURE.CANVAS_CONTEXT2D_TEXTBASELINE_ALPHABETIC.name);if(1===e)return _FEATURE.CANVAS_CONTEXT2D_TEXTBASELINE_ALPHABETIC.enable}return _FEATURE.FEATURE_UNSUPPORT},void 0),_FEATURE.registerFeatureProperty(_FEATURE.CANVAS_CONTEXT2D_TEXTBASELINE_DEFAULT.name,function(){if("function"==typeof _qg_getFeature)switch(_qg_getFeature(_FEATURE.CANVAS_CONTEXT2D_TEXTBASELINE_DEFAULT.name)){case 1:return _FEATURE.CANVAS_CONTEXT2D_TEXTBASELINE_DEFAULT.alphabetic;case 0:return _FEATURE.CANVAS_CONTEXT2D_TEXTBASELINE_DEFAULT.bottom}return _FEATURE.FEATURE_UNSUPPORT},function(e){if("function"!=typeof _qg_setFeature)return!1;switch(e){case _FEATURE.CANVAS_CONTEXT2D_TEXTBASELINE_DEFAULT.alphabetic:e=1;break;case _FEATURE.CANVAS_CONTEXT2D_TEXTBASELINE_DEFAULT.bottom:e=0;break;default:return!1}return _qg_setFeature(_FEATURE.CANVAS_CONTEXT2D_TEXTBASELINE_DEFAULT.name,e)});