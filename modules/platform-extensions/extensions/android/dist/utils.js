"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkProgramConfig=void 0;const fs_extra_1=require("fs-extra"),path_1=require("path");function checkProgramConfig(r,e){let o="";switch(r){case"androidNDK":if(!e)return o;const t=(0,path_1.join)(e,"source.properties");if((0,fs_extra_1.existsSync)(t))try{const r=(0,fs_extra_1.readFileSync)(t,"utf8").match(/Pkg\.Revision\s*=\s*(.*)/),e=r?r[1]:null,n=e?e.split(".")[0]:null;n&&(parseInt(n)<21||parseInt(n)>23)&&(o=Editor.I18n.t("android.program.androidNDKVersionErr",{version:n}))}catch(r){console.debug(r),o="i18n:android.program.androidNDKPathErr"}else o="i18n:android.program.androidNDKPathErr";break;case"androidSDK":if(!e)return o;const n=(0,path_1.join)(e,"build-tools"),a=(0,path_1.join)(e,"platforms");try{const r=0===(0,fs_extra_1.readdirSync)(a).length;(0,fs_extra_1.existsSync)(n)&&(0,fs_extra_1.existsSync)(a)&&!r||(o="i18n:android.program.androidSDKPathErr")}catch(r){console.debug(r),o="i18n:android.program.androidSDKPathErr"}}return o}exports.checkProgramConfig=checkProgramConfig;