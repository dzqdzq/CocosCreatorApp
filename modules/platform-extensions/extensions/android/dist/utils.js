"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkProgramConfig=checkProgramConfig;const fs_extra_1=require("fs-extra"),path_1=require("path");function checkProgramConfig(r,e){let a="";switch(r){case"androidNDK":if(!e)return a;var t=(0,path_1.join)(e,"source.properties");if((0,fs_extra_1.existsSync)(t))try{var n=(0,fs_extra_1.readFileSync)(t,"utf8").match(/Pkg\.Revision\s*=\s*(.*)/),o=n?n[1]:null,i=o?o.split(".")[0]:null;i&&(parseInt(i)<21||23<parseInt(i))&&(a=Editor.I18n.t("android.program.androidNDKVersionErr",{version:i}))}catch(r){console.debug(r),a="i18n:android.program.androidNDKPathErr"}else a="i18n:android.program.androidNDKPathErr";break;case"androidSDK":if(!e)return a;t=(0,path_1.join)(e,"build-tools"),n=(0,path_1.join)(e,"platforms");try{var s=0===(0,fs_extra_1.readdirSync)(n).length;(0,fs_extra_1.existsSync)(t)&&(0,fs_extra_1.existsSync)(n)&&!s||(a="i18n:android.program.androidSDKPathErr")}catch(r){console.debug(r),a="i18n:android.program.androidSDKPathErr"}}return a}