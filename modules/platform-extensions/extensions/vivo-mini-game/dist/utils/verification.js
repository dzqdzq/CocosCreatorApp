"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultOptions=exports.verificationFunc=exports.getVerifyFuncMap=void 0;const path_1=require("path"),fs_extra_1=require("fs-extra");function getVerifyFuncMap(){const e={};return["versionName","versionCode","minPlatformVersion","package","privatePemPath","certificatePemPath","icon"].forEach(i=>{e[i]=((e,t)=>verificationFunc(i,e,t))}),e}function verificationFunc(e,i,t){const r={error:"",newValue:i};let o="";switch(e){case"versionName":case"versionCode":case"minPlatformVersion":if(!i){r.error=`${e} ${Editor.I18n.t("vivo-mini-game.tips.not_empty")}`,r.newValue=null;break}break;case"package":{const e=/^[a-zA-Z]+[0-9a-zA-Z_]*(\.[a-zA-Z]+[0-9a-zA-Z_]*)*$/;if(!i){r.error=`Game package(${i}) ${Editor.I18n.t("vivo-mini-game.tips.package_name_error")}`,r.newValue=null;break}e.test(i)||(r.error=`Game package(${i})${Editor.I18n.t("vivo-mini-game.tips.project_name_not_legal")}`,r.newValue=null)}break;case"privatePemPath":if(!i){r.error=Editor.I18n.t("vivo-mini-game.options.private_pem_path_hint");break}o=Editor.UI.__protected__.File.resolveToRaw(i),".pem"===(0,path_1.extname)(o)&&(0,fs_extra_1.existsSync)(o)||(r.error=Editor.I18n.t("vivo-mini-game.tips.private_pem_path_error"));break;case"certificatePemPath":if(!i){r.error=Editor.I18n.t("vivo-mini-game.options.certificate_pem_path_hint");break}o=Editor.UI.__protected__.File.resolveToRaw(i),".pem"===(0,path_1.extname)(o)&&(0,fs_extra_1.existsSync)(o)||(r.error=Editor.I18n.t("vivo-mini-game.tips.certificate_pem_path_error"));break;case"icon":if("string"!=typeof i){r.error="Icon Path"+Editor.I18n.t("vivo-mini-game.tips.icon_not_exist");break}(0,fs_extra_1.existsSync)(i)||(r.error="Icon Path"+Editor.I18n.t("vivo-mini-game.tips.icon_not_exist"))}return r}exports.getVerifyFuncMap=getVerifyFuncMap,exports.verificationFunc=verificationFunc,exports.defaultOptions={package:"com.vivo.cocos",icon:Editor.App.icon,versionName:Editor.App.version,versionCode:Editor.App.version,minPlatformVersion:"1056",deviceOrientation:"portrait",useDebugKey:!0,privatePemPath:"",certificatePemPath:"",logLevel:"log"};