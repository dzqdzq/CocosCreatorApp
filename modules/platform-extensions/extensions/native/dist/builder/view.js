"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ready=exports.update=exports.$=exports.style=exports.template=void 0;const fs_1=require("fs"),path_1=require("path"),lodash=require("lodash");let panel;function update(e,t){panel=this,"debug"!==t?t&&!t.startsWith(`pacakges.${panel.pkgName}`)||(panel.options=e,panel.vm.init()):panel.vm.isDebugMode=e.debug}function ready(e,t,n,i){panel=this;const a=require("vue/dist/vue.js");panel.options=e,panel.pkgName=n,panel.errorMap=i,panel.vm=new a({el:panel.$.root,data:()=>({pkgName:n,options:panel.options,errorMap:panel.errorMap,pkgOptions:{},verifyRes:{},nativeEngine:"builtin",isDebugMode:null}),computed:{JobSystemTips:()=>"ios"===panel.options.platform?"i18n:native.options.JobSystemIOS":"i18n:native.options.JobSystemOther"},watch:{isDebugMode(e){const t=this;e&&t.pkgOptions.encrypted&&(t.pkgOptions.encrypted=!1,panel.dispatch("update",`packages.${t.pkgName}.encrypted`,!1,null))}},async mounted(){const e=this;e.init();const t=(await Editor.Message.request("engine","query-engine-info")).native;"custom"===t.type&&(e.nativeEngine=t.path)},methods:methods})}exports.template=fs_1.readFileSync(path_1.join(__dirname,"../../static/view.html"),"utf8"),exports.style="\n.native .native-engine-content {\n    flex-direction: row;\n    width: 0;\n    overflow: hidden;\n}\n\n.native .nativePath {\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    margin-right: 10px;\n}\n\n.native .native-engine-content ui-icon {\n    cursor: pointer;\n}\n\n.native .native-engine-content ui-icon:hover {\n    color: var(--color-focus-fill-weaker);\n}\n",exports.$={root:".native"},exports.update=update,exports.ready=ready;const methods={async updateValue(e,t){this.pkgOptions[t]=e.target.value,panel.dispatch("update",`packages.${this.pkgName}.${t}`,e.target.value,this.verifyRes[t])},onEditNativeEngine(){Editor.Message.request("preferences","open-settings","engine")},init(){this.isDebugMode=!!panel.options.debug,this.pkgOptions=lodash.get(panel.options,`packages.${this.pkgName}`)||{},this.verifyRes=lodash.get(panel.errorMap,`packages.${this.pkgName}`)||{}},t:e=>Editor.I18n.t(e)};