"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const fs_1=require("fs"),path_1=require("path"),vue_1=__importDefault(require("vue/dist/vue")),manager_1=__importDefault(require("./components/manager"));let $vm;async function applyLogsAndProgress(){const e=await Editor.Message.request("lightmap","unstaging");$vm.setLogs(e.logInfos),$vm.progress=e.progress}vue_1.default.config.productionTip=!1,vue_1.default.config.devtools=!1,module.exports=Editor.Panel.define({style:fs_1.readFileSync(path_1.join(__dirname,"../index.css"),"utf8"),template:fs_1.readFileSync(path_1.join(__dirname,"../../static/template/index.html"),"utf8"),$:{lightmap:".lightmap"},methods:{async start(){applyLogsAndProgress()},cancel(){},log(){applyLogsAndProgress()},progress(){applyLogsAndProgress()},finished(){applyLogsAndProgress()},async end(){applyLogsAndProgress(),$vm.progress=100,await $vm.onBakerEnd()}},async ready(){($vm=new manager_1.default).$mount(this.$.lightmap);const e=await Editor.Profile.getConfig("lightmap","lightmap");if(e)for(const t in e)$vm.$data[t]=e[t]},beforeClose(){}});