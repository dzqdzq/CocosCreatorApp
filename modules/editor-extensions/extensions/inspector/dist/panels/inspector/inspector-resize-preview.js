"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const TagName="inspector-resize-preview",STYLE="\n:host {\n    height: 2px;\n    background-color: var(--color-normal-border);\n    cursor: ns-resize;\n}\n:host([focused]) {\n    background-color: var(--color-focus-fill);\n}\n",Config={header:{value:200,min:200,moveBottom:!0},footer:{value:200,min:200,moveBottom:!1}};class InspectorResizePreview extends HTMLElement{get inspectorRootElement(){if(this._inspectorRootElement)return this._inspectorRootElement;this._inspectorRootElement=this.getInspectorRootElement()}getInspectorRootElement(){let e=this;for(;e&&(!(e=e.parentElement||e.getRootNode().host)||"PANEL-FRAME"!==e.tagName||"inspector"!==e.getAttribute("name")););return e}constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot&&(this.shadowRoot.innerHTML=`<style>${STYLE}</style>`)}connectedCallback(){this.addEventListener("mousedown",this.mousedown)}disconnectedCallback(){this.removeEventListener("mousedown",this.mousedown),this._inspectorRootElement=void 0}mousedown(e){const t=this.getAttribute("area"),o=Config[t];if(!o)return;this.setAttribute("focused","");const n=o.value,s=this.getBoundingClientRect(),i=e.clientY,r=e=>{let t=e.clientY-i;o.moveBottom||(t=0-t);const s=n+t;this.updateConfig(s,o)},c=()=>{this.removeAttribute("focused");let e=this.getBoundingClientRect().y-s.y;o.moveBottom||(e=0-e);const t=n+e;this.updateConfig(t,o),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",c)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",c)}updateConfig(e,t){if(!this.inspectorRootElement)return;const o=.7*this.inspectorRootElement.clientHeight;e<t.min&&(e=t.min),e>o&&(e=o),t.value=e,this.updateCss()}updateCss(){for(const e in Config){const t=Config[e];this.inspectorRootElement&&this.inspectorRootElement.style.setProperty(`--inspector-${e}-preview-height`,`${t.value}px`)}}}exports.default=InspectorResizePreview,window&&!window.customElements.get(TagName)&&window.customElements.define(TagName,InspectorResizePreview);