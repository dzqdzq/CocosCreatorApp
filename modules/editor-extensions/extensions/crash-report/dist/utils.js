"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createUIProp=exports.createSpan=exports.getLatestFilePath=exports.calcMd5=exports.getPackages=exports.getClientID=void 0;const fs_extra_1=require("fs-extra"),path_1=require("path"),md5=require("md5"),getmac=require("getmac");async function getClientID(){return new Promise(e=>{try{return e(md5(getmac))}catch(t){console.error(t);const r=require("os").networkInterfaces();for(const t in r){if(!t)continue;const a=r[t];for(let t=0;t<a.length;++t){const r=a[t];if(!r.internal&&r.mac)return e(md5(r.mac))}}return e(md5("00:00:00:00:00:00"))}})}function getPackages(){return Editor.Package.getPackages().map(e=>{if(e.enable)return`${e.name}-${e.version}`}).filter(Boolean)}function calcMd5(e){const{createHash:t}=require("crypto"),r=t("md5");return r.update(e),r.digest("hex")}function getLatestFilePath(e,t){return fs_extra_1.readdirSync(e).map(r=>{if(r.endsWith(t))return path_1.join(e,r)}).filter(Boolean).sort((e,t)=>{const r=fs_extra_1.statSync(e);return fs_extra_1.statSync(t).mtimeMs-r.mtimeMs})[0]||""}function createSpan(e,t){return t||(t=document.createElement("span"),e.appendChild(t),t)}function createUIProp(e,t,r,a){if(a)return a.setAttribute("value",t),a;const n=document.createElement("ui-prop");n.setAttribute("class","left-width");const c=document.createElement("ui-label");return c.setAttribute("slot","label"),c.setAttribute("style","color: #A3A3A3;"),(a=document.createElement("ui-label")).setAttribute("slot","content"),n.appendChild(c),n.appendChild(a),c.setAttribute("value",e),a.setAttribute("value",t),r.appendChild(n),a}exports.getClientID=getClientID,exports.getPackages=getPackages,exports.calcMd5=calcMd5,exports.getLatestFilePath=getLatestFilePath,exports.createSpan=createSpan,exports.createUIProp=createUIProp;