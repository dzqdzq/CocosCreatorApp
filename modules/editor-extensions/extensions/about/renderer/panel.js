"use strict";const{join:join}=require("path"),{existsSync:existsSync,readFileSync:readFileSync,readJSONSync:readJSONSync}=require("fs-extra"),Vue=require("vue/dist/vue.js");let vm;Vue.config.productionTip=!1,Vue.config.devtools=!1;const ABOUT_INFO_KEYS=["engine","editor","external","platformExtensions","engineExtensions","editorExtensions"];exports.style=readFileSync(join(__dirname,"../static/style/index.css"),"utf8"),exports.template=readFileSync(join(__dirname,"../static","/template/index.html"),"utf8");let commitInfo={},time=null;function formatTime(e=new Date){return new Date(e+288e5).toJSON().substr(0,10).replace(/-/g,".")}exports.$={content:".content"},exports.methods={},exports.ready=function(){const e=join(Editor.App.path,".HEAD");if(existsSync(e)){let t=readJSONSync(e);time=formatTime(t.time),t=ABOUT_INFO_KEYS.reduce((e,n)=>(e[n]=t[n]?t[n].substr(0,7):"unknown",e),{}),commitInfo=t}else commitInfo=ABOUT_INFO_KEYS.reduce((e,t)=>(e[t]="develop",e),{});vm=new Vue({el:this.$.content,data:{version:Editor.App.version||"unknown",commit:commitInfo,time:time},methods:{t:e=>Editor.I18n.t("about."+e)}})},exports.beforeClose=function(){},exports.close=function(){};