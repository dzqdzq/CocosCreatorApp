"use strict";const{queryAsset:queryAsset}=require("@editor/asset-db");exports.methods={queryDepends(e){const s=[];return e.forEach(e=>{const t=queryAsset(e);if(!t)return;if(s.length>11)return;const u=Object.values(t.subAssets).map(e=>e.uuid),r=t._assetDB.importerManager.name2importer[t.meta.importer]||null,n=r&&r.assetType||"cc.Asset",a=t._assetDB.dataManager.dataMap;if("cc.Script"===n)for(const e in a){const u=a[e];u.value&&u.value.dependScripts&&u.value.dependScripts.includes(t.uuid)&&s.push(e)}else for(const e in a){const r=a[e];!u.includes(e)&&e!==t.uuid&&r.value.depends&&(r.value.depends.includes(t.uuid)?s.push(e):u.length&&u.forEach(t=>{r.value.depends.includes(t)&&s.push(e)}))}}),s.map(e=>{const s=queryAsset(e);return s?s.url:e})}};