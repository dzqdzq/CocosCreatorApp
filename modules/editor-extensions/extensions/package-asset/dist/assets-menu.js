"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assetMenu=exports.dbMenu=void 0;const path_1=require("path");async function DialogOpenImportZip(){const e=await Editor.Dialog.select({title:Editor.I18n.t("package-asset.import.title"),path:await Editor.Profile.getConfig("package-asset","import-path")||Editor.Project.path,filters:[{name:"Package",extensions:["zip"]}]});return e.filePaths&&e.filePaths[0]?(Editor.Profile.setConfig("package-asset","import-path",path_1.dirname(e.filePaths[0])),e.filePaths[0]):""}function getImportMenu(e){return{label:"i18n:package-asset.menu.import",enabled:!e||!e.url.startsWith("db://internal"),async click(){if(await Editor.Panel.has("package-asset.import"))return;const e=await DialogOpenImportZip();e&&Editor.Panel.open("package-asset.import",e)}}}function getExportMenu(e){return{label:"i18n:package-asset.menu.export",enabled:!e||!e.url.startsWith("db://internal"),async click(){await Editor.Panel.has("package-asset.export")||Editor.Panel.open("package-asset.export",e)}}}function dbMenu(e){return[getImportMenu(e)]}function assetMenu(e){return[getImportMenu(e),getExportMenu(e)]}exports.dbMenu=dbMenu,exports.assetMenu=assetMenu;