"use strict";var __decorate=this&&this.__decorate||function(e,t,r,a){var i,n=arguments.length,s=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n<3?i(s):n>3?i(t,r,s):i(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(r,a){t(r,a,e)}};Object.defineProperty(exports,"__esModule",{value:!0});const tsyringe_1=require("tsyringe"),Writer_1=require("../../writer/Writer");let TranslateFileService=class{constructor(e,t){this.writerMap=e,this.readerMap=t}async exportTranslateFile(e,t,r,a){const i=this.writerMap.get(t);null===i||void 0===i||i.write(e,r,a)}async importTranslateFile(e,t,r){const a=this.readerMap.get(t),i=await a.read(e);for(const[e,t]of i.items)0===t.value.length&&i.items.delete(e);return i}};TranslateFileService=__decorate([(0,tsyringe_1.singleton)(),__param(0,(0,tsyringe_1.injectAllWithTransform)("Writer",Writer_1.WriterTransform)),__param(1,(0,tsyringe_1.injectAllWithTransform)("Reader",Writer_1.WriterTransform)),__metadata("design:paramtypes",[Map,Map])],TranslateFileService),exports.default=TranslateFileService;