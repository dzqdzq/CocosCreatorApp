"use strict";var __decorate=this&&this.__decorate||function(e,t,a,r){var l,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,a,r);else for(var i=e.length-1;i>=0;i--)(l=e[i])&&(c=(o<3?l(c):o>3?l(t,a,c):l(t,a))||c);return o>3&&c&&Object.defineProperty(t,a,c),c},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const tsyringe_1=require("tsyringe"),TranslateDataSourceService_1=__importDefault(require("./TranslateDataSourceService")),TranslateData_1=__importDefault(require("../../entity/translate/TranslateData"));let CompileService=class{constructor(e){this.translateDataSourceService=e}async compile(e){let t;return(t=e.length>0?e.map(e=>this.translateDataSourceService.getClonedTranslateData(e)):this.translateDataSourceService.getClonedAllTranslateData().filter(e=>e.locale!==TranslateData_1.default.INDEX_LOCALE)).reduce((e,t)=>(e[t.locale]=t.toResourceData(),e),{})}};CompileService=__decorate([(0,tsyringe_1.singleton)(),__metadata("design:paramtypes",[TranslateDataSourceService_1.default])],CompileService),exports.default=CompileService;