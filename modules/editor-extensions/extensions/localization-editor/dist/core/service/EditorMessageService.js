"use strict";var __decorate=this&&this.__decorate||function(e,s,t,r){var a,o=arguments.length,n=o<3?s:null===r?r=Object.getOwnPropertyDescriptor(s,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,s,t,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(n=(o<3?a(n):o>3?a(s,t,n):a(s,t))||n);return o>3&&n&&Object.defineProperty(s,t,n),n},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const tsyringe_1=require("tsyringe"),global_1=require("./util/global"),package_json_1=__importDefault(require("../../../package.json"));let EditorMessageService=class{async queryUUID(e){return await Editor.Message.request("asset-db","query-uuid",e)}async queryAssets(e){return await Editor.Message.request("asset-db","query-assets",e)}async queryAssetInfo(e){return await Editor.Message.request("asset-db","query-asset-info",e)}executePanelMethod(e,...s){Editor.Message.send(global_1.MainName,"execute-panel-method",e,...s)}scanProgress(e,s){this.executePanelMethod("scanProgress",...arguments)}translateProgress(e,s,t){this.executePanelMethod("translateProgress",...arguments)}compileProgress(e,s,t){this.executePanelMethod("compileProgress",...arguments)}importProgress(e,s,t){this.executePanelMethod("importProgress",...arguments)}async queryDirty(){return await Editor.Message.request("scene","query-dirty")}async deleteAsset(e){e&&!e.startsWith("db://")&&(e=`db://${e}`);try{return await Editor.Message.request("asset-db","delete-asset",e)}catch(e){return}}async refreshAssets(e){e&&!e.startsWith("db://")&&(e=`db://${e}`),await Editor.Message.request("asset-db","refresh-asset",null!==e&&void 0!==e?e:"db://assets")}softReload(){Editor.Message.send("scene","soft-reload")}reImport(e){Editor.Message.send("asset-db","reimport-asset",e)}openPanel(){Editor.Panel.open(package_json_1.default.name)}closePanel(){Editor.Panel.close(package_json_1.default.name)}async queryIsReady(){return await Editor.Message.request("scene","query-is-ready")}async queryCurrentScene(){return await Editor.Message.request("scene","query-current-scene")}};EditorMessageService=__decorate([(0,tsyringe_1.singleton)()],EditorMessageService),exports.default=EditorMessageService;