"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const TranslateRepository_1=require("./TranslateRepository"),Errors_1=require("../../error/Errors"),MainMessage_1=require("../../entity/messages/MainMessage");class GoogleRepository extends TranslateRepository_1.TranslateRepository{constructor(){super(...arguments),this.name="GOOGLE"}transformTranslateRequestConfig(e){var t,r;const s={q:e.query.join("|"),source:e.from,target:e.to,"X-RapidAPI-Host":null!==(t=e.appKey)&&void 0!==t?t:"","X-RapidApi-Key":null!==(r=e.appSecret)&&void 0!==r?r:""},a=new URLSearchParams;a.append("q",s.q),a.append("source",s.source),a.append("target",s.target);const o={"Content-Type":"application/x-www-form-urlencoded"};return o["X-RapidAPI-Host"]=s["X-RapidAPI-Host"],o["X-RapidAPI-Key"]=s["X-RapidApi-Key"],o["Accept-Encoding"]="application/gzip",{url:e.url,method:"post",data:a,headers:o}}transformTranslateResponse(e){var t;if(200!==e.status)throw new Errors_1.CustomError(MainMessage_1.MessageCode.PROVIDER_INPUT_ERROR,`${null===e||void 0===e?void 0:e.status} ${null===e||void 0===e?void 0:e.statusText} ${null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.message}`);return{translation:e.data.data.translations[0].translatedText.split("|"),status:200}}}exports.default=GoogleRepository;