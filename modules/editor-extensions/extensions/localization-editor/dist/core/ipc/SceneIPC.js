"use strict";var __decorate=this&&this.__decorate||function(e,r,t,s){var n,c=arguments.length,a=c<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,r,t,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(c<3?n(a):c>3?n(r,t,a):n(r,t))||a);return c>3&&a&&Object.defineProperty(r,t,a),a};Object.defineProperty(exports,"__esModule",{value:!0});const tsyringe_1=require("tsyringe"),MainMessage_1=require("../entity/messages/MainMessage"),Errors_1=require("../error/Errors"),global_1=require("../service/util/global");let SceneIPC=class{async executeSceneScript(e,...r){var t,s;try{return await Editor.Message.request("scene","execute-scene-script",{name:global_1.MainName,method:e,args:r})}catch(e){throw null!==(s=null===(t=e.message)||void 0===t?void 0:t.startsWith(Errors_1.CustomError.NAME))&&void 0!==s&&s?new Errors_1.CustomError(parseInt(e.message.split(":")[1])):(console.warn(...arguments),console.warn(e),new Errors_1.CustomError(MainMessage_1.MessageCode.SCENE_ERROR))}}async scan(e){return this.executeSceneScript("scan",...arguments)}async uninstall(e){return this.executeSceneScript("uninstall",...arguments)}async onSceneReady(e){return this.executeSceneScript("onSceneReady",...arguments)}async preview(e){return this.executeSceneScript("preview",...arguments)}async reloadResourceData(){return this.executeSceneScript("reloadResourceData",...arguments)}async addResourceBundle(e,r){return this.executeSceneScript("addResourceBundle",...arguments)}async removeResourceBundle(e){return this.executeSceneScript("removeResourceBundle",...arguments)}};SceneIPC=__decorate([(0,tsyringe_1.singleton)()],SceneIPC),exports.default=SceneIPC;