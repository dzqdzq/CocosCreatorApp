"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ready=exports.update=exports.$=exports.style=exports.template=void 0,require("reflect-metadata");const tsyringe_1=require("tsyringe"),CacheService_1=__importDefault(require("../core/service/util/CacheService")),ICUOptionEnumItem_1=require("./ICUOptionEnumItem");exports.template='<div class="content"></div>',exports.style="",exports.$={content:".content"};const createSelectorProp=(e,t,r,n=[])=>{const o=document.createElement("ui-prop"),u=document.createElement("ui-label");u.setAttribute("slot","label"),u.innerText=e;const i=createSelector(t,r,n);return o.appendChild(u),o.appendChild(i),o},createSelector=(e,t,r=[])=>{const n=document.createElement("ui-select");return n.setAttribute("class",e),n.setAttribute("slot","content"),t&&n.setAttribute("value",t),r.forEach(e=>{n.appendChild(createOption(e))}),n},createOption=e=>{const t=document.createElement("option");return t.setAttribute("value",e.value),t.innerText=e.text,t};function defaultRender(e){const t=document.createElement("ui-prop");t.setAttribute("type","dump"),t.render(value),this.$.content.appendChild(t)}function update(e){var t,r;this.dump=e;const n=this.$.content;for(const o in e.value){const u=e.value[o];let i=n.querySelector(`ui-prop[key=${o}]`);i&&(i.hidden=!u.visible),u.visible&&(u.group&&"Enum"===u.type&&u.enumList&&0===u.enumList.length&&(u.enumList=null!==(r=null===(t=ICUOptionEnumItem_1.enumMap.get(u.group.name))||void 0===t?void 0:t.get(o.replace("_","")))&&void 0!==r?r:[],0===u.enumList.length&&console.warn(`${o} has no enumList: ${u.group.name} ${o.replace("_","")}`)),i||((i=document.createElement("ui-prop")).setAttribute("key",o),i.setAttribute("type","dump"),n.appendChild(i)),i.render(u))}}function ready(){tsyringe_1.container.resolve(CacheService_1.default).clear()}exports.update=update,exports.ready=ready;