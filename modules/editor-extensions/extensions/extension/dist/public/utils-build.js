"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getExtensionDist=exports.isEditorVersionError=exports.getEditorVersion=exports.isExtensionNameError=exports.getFallbackExtensionName=exports.getAuthor=exports.TempProfileKeys=void 0;const path_1=require("path"),semver_1=require("semver");exports.TempProfileKeys=Object.freeze({author:"create_package_author",showInManager:"create_package_show_in_manager",showInFolder:"create_package_show_in_folder"});const DEFAULT_AUTHOR="Cocos Creator",getAuthor=async()=>{return await Editor.Profile.getTemp("extension",exports.TempProfileKeys.author)||DEFAULT_AUTHOR};exports.getAuthor=getAuthor;const invalidFolderNamePattern=/[<>:"|?*]/,extensionNamePattern=/^(?:@[a-z0-9-*~][a-z0-9-*._~]*\/)?[a-z0-9-~][a-z0-9-._~]*$/,getFallbackExtensionName=()=>`extension-${Date.now()}`;exports.getFallbackExtensionName=getFallbackExtensionName;const isExtensionNameError=e=>{return invalidFolderNamePattern.test(e)||!extensionNamePattern.test(e)||/[.]/g.test(e)};exports.isExtensionNameError=isExtensionNameError;const getEditorVersion=()=>`>=${Editor.App.version}`;exports.getEditorVersion=getEditorVersion;const isEditorVersionError=e=>!(0,semver_1.valid)((0,semver_1.coerce)(e))||(0,semver_1.satisfies)((0,semver_1.valid)((0,semver_1.coerce)(e))||"","< 3.0.0");exports.isEditorVersionError=isEditorVersionError;const getExtensionDist=e=>(0,path_1.join)(Editor.Project.path,"extensions",e);exports.getExtensionDist=getExtensionDist;