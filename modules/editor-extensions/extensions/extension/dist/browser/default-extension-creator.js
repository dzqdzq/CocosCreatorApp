"use strict";const fs_extra_1=require("fs-extra"),path_1=require("path"),packages={methods:{async create(e,a){const t=e.dist;a.description=`i18n:${e.name}.description`;const n=(0,path_1.join)(t,"README.zh-CN.md"),i=(0,path_1.join)(t,"README.md");if((0,fs_extra_1.existsSync)(n)){const a=await(0,fs_extra_1.readFile)(n,{encoding:"utf-8"});await(0,fs_extra_1.writeFile)(n,a.replace(/{name}/g,e.name))}if((0,fs_extra_1.existsSync)(i)){const a=await(0,fs_extra_1.readFile)(i,{encoding:"utf-8"});await(0,fs_extra_1.writeFile)(i,a.replace(/{name}/g,e.name))}if(a.main){const n=(0,path_1.join)(t,a.main);if(!(0,fs_extra_1.existsSync)(n)){const a=`exports.load = function(){\n\tconsole.warn("${e.name} is not compiled yet.")\n}`;await(0,fs_extra_1.ensureDir)((0,path_1.dirname)(n)),await(0,fs_extra_1.writeFile)(n,a)}}if(a.panels)for(const t in a.panels)a.panels[t].title&&(a.panels[t].title=a.panels[t].title.replace("{name}",e.name));if(a.contributions&&a.contributions.menu)for(const t of a.contributions.menu)t.path&&(t.path=t.path.replace("{name}",e.name)),t.label&&(t.label=t.label.replace("{name}",e.name))}}};module.exports=packages;