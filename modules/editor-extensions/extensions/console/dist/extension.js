"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.attach=attach,exports.detach=detach,exports.init=init,exports.getConfig=getConfig;const pluginsGroup={};let started=!1;function attach(e){!e.info.contributions?.console?.extendConfig||0===e.info.contributions.console?.extendConfig.length||pluginsGroup[e.name]||(pluginsGroup[e.name]=e.info.contributions.console.extendConfig)}function detach(e){e.info.contributions?.console?.extendConfig&&0!==e.info.contributions.console?.extendConfig.length&&pluginsGroup[e.name]&&delete pluginsGroup[e.name]}function init(){started||(started=!0,Editor.Package.getPackages({enable:!0}).forEach(attach))}async function getConfig(){return(await Object.entries(pluginsGroup).reduce(async(e,[t,n])=>{e=await e;for(const s of n){var{value:o,show:i}=await Editor.Profile.getConfig(t,s.key,"global")??{};s.value=o??!1,s.show=i??!1,s.name=t}return e.push(...n),e},Promise.resolve([]))).filter(e=>e.show)}