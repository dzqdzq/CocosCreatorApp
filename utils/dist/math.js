"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toFixed=exports.divide=exports.multi=exports.sub=exports.add=exports.clamp01=exports.clamp=void 0;const maxPreci=20;function clamp(t,o,e){return Math.min.call(null,Math.max.call(null,t,o),e)}function clamp01(t){return t<0?0:t>1?1:t}function add(t,o){t=toValidNumber(t),o=toValidNumber(o);const{maxPow:e,num1:r,num2:n}=_computeMaxPow(t,o);return(r+n)/e}function sub(t,o){t=toValidNumber(t),o=toValidNumber(o);const{maxPow:e,num1:r,num2:n}=_computeMaxPow(t,o);return(r-n)/e}function multi(t,o){t=toValidNumber(t),o=toValidNumber(o);const{maxPow:e,num1:r,num2:n}=_computeMaxPow(t,o);return r*n/e/e}function divide(t,o){if(t=toValidNumber(t),!(o=toValidNumber(o)))return t>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;const{num1:e,num2:r}=_computeMaxPow(t,o);return e/r}function toValidNumber(t){if("number"==typeof(t=Number(t))&&!Number.isNaN(t))return t;throw new Error(`Invalid params ${t}`)}function _computeMaxPow(t,o){let e;const r=toNonExponential(t),n=toNonExponential(o),u=_comPreci(r),a=_comPreci(n);e=Math.max(u,a);const i=Math.pow(10,e);return e>20&&(e=20),{maxPow:i,maxPreci:e,num1:Number(r.replace(".","")+Array(e-u).fill(0).join("")),num2:Number(n.replace(".","")+Array(e-a).fill(0).join(""))}}function toNonExponential(t){const o=t.toExponential().match(/\d(?:\.(\d*))?e([+-]\d+)/);return t.toFixed(Math.max(0,(o[1]||"").length-Number(o[2])))}function _comPreci(t){let o;try{o=t.split(".")[1].length}catch(t){o=0}return o}function toFixed(t,o){return parseFloat((Math.round(t*Math.pow(10,o))/Math.pow(10,o)).toFixed(o))}exports.clamp=clamp,exports.clamp01=clamp01,exports.add=add,exports.sub=sub,exports.multi=multi,exports.divide=divide,exports.toFixed=toFixed;