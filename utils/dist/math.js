"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clamp=clamp,exports.clamp01=clamp01,exports.add=add,exports.sub=sub,exports.multi=multi,exports.divide=divide,exports.toFixed=toFixed;const maxPreci=20;function clamp(t,e,r){return Math.min.call(null,Math.max.call(null,t,e),r)}function clamp01(t){return clamp(t,0,1)}function add(t,e){var{maxPow:t,num1:e,num2:r}=_computeMaxPow(t=toValidNumber(t),e=toValidNumber(e));return(e+r)/t}function sub(t,e){var{maxPow:t,num1:e,num2:r}=_computeMaxPow(t=toValidNumber(t),e=toValidNumber(e));return(e-r)/t}function multi(t,e){var{maxPow:t,num1:e,num2:r}=_computeMaxPow(t=toValidNumber(t),e=toValidNumber(e));return e*r/t/t}function divide(t,e){var r;return t=toValidNumber(t),(e=toValidNumber(e))?({num1:e,num2:r}=_computeMaxPow(t,e),e/r):0<t?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY}function toValidNumber(t){if("number"==typeof(t=Number(t))&&!Number.isNaN(t)&&isFinite(t))return t;throw new Error("Invalid params "+t)}function _computeMaxPow(t,e){let r;var t=toNonExponential(t),e=toNonExponential(e),o=_comPreci(t),n=_comPreci(e),a=(r=Math.max(o,n),Math.pow(10,r)),t=(20<r&&(r=20),Number(t.replace(".","")+Array(r-o).fill(0).join(""))),o=Number(e.replace(".","")+Array(r-n).fill(0).join(""));return{maxPow:a,maxPreci:r,num1:t,num2:o}}function toNonExponential(t){var e=t.toExponential().match(/\d(?:\.(\d*))?e([+-]\d+)/);return t.toFixed(Math.max(0,(e[1]||"").length-Number(e[2])))}function _comPreci(t){let e;try{e=t.split(".")[1].length}catch(t){e=0}return e}function toFixed(t,e){return parseFloat((Math.round(t*Math.pow(10,e))/Math.pow(10,e)).toFixed(e))}