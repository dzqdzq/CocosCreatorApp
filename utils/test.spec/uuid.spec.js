"use strict";const expect=require("chai")["expect"],uuidTool=require("../dist/uuid"),normalUuid="fc991dd7-0033-4b80-9d41-c8a86a702e59",normalCompressedUuid="fc9913XADNLgJ1ByKhqcC5Z",minCompressUuid="fcmR3XADNLgJ1ByKhqcC5Z",subUuidSuffix="@6c48a",MD5Suffix=".a96a4",disabledMipmapSuffix="@mipmap_10";describe("generate",()=>{it("generate 默认生成 22 位压缩后 uuid",()=>{expect(uuidTool.generate().length).to.equal(22)}),it("generate false 生成未压缩的 36 位 uuid",()=>{expect(uuidTool.generate(!1).length).to.equal(36)})}),describe("nameToSubId",()=>{it("texture -> 6c48a",()=>{expect(uuidTool.nameToSubId("texture")).to.equal("6c48a")})}),describe("compressUUID",()=>{const i={[normalUuid]:normalCompressedUuid,[normalUuid+subUuidSuffix]:normalCompressedUuid+subUuidSuffix,[normalUuid+subUuidSuffix+subUuidSuffix]:normalCompressedUuid+subUuidSuffix+subUuidSuffix};Object.keys(i).forEach(u=>{it(u+" -> "+i[u],()=>{expect(uuidTool.compressUUID(u)).to.equal(i[u])})}),it("min compress 压缩为 22 位压缩 uuid",()=>{expect(uuidTool.compressUUID(normalUuid,!0)).to.equal(minCompressUuid)})}),describe("decompressUUID",()=>{const i={[normalCompressedUuid]:normalUuid,[normalCompressedUuid+subUuidSuffix]:normalUuid+subUuidSuffix,[normalCompressedUuid+subUuidSuffix+subUuidSuffix]:normalUuid+subUuidSuffix+subUuidSuffix};Object.keys(i).forEach(u=>{it(u+" -> "+i[u],()=>{expect(uuidTool.decompressUUID(u)).to.equal(i[u])})})}),describe("isUUID",()=>{[normalUuid,normalUuid+subUuidSuffix,normalUuid+subUuidSuffix+subUuidSuffix].forEach(u=>{it(u+" is uuid}",()=>{expect(uuidTool.isUUID(u)).to.be.true})}),[normalUuid+disabledMipmapSuffix].forEach(u=>{it(u+" is not uuid}",()=>{expect(uuidTool.isUUID(u)).to.be.false})})}),describe("getUuidFromLibPath",()=>{const i={[normalUuid+"/SmallCaps.ttf"]:normalUuid,[normalUuid+MD5Suffix+"/SmallCaps.ttf"]:normalUuid,[normalUuid+subUuidSuffix+"/SmallCaps.ttf"]:normalUuid+subUuidSuffix,[normalUuid+subUuidSuffix+subUuidSuffix+"/SmallCaps.ttf"]:normalUuid+subUuidSuffix+subUuidSuffix,[normalUuid+subUuidSuffix+subUuidSuffix+MD5Suffix+"/SmallCaps.ttf"]:normalUuid+subUuidSuffix+subUuidSuffix,[normalUuid+".png"]:normalUuid,[normalUuid+subUuidSuffix+".png"]:normalUuid+subUuidSuffix,[normalUuid+subUuidSuffix+subUuidSuffix+".png"]:normalUuid+subUuidSuffix+subUuidSuffix,[normalUuid+MD5Suffix+".ttf"]:normalUuid,[normalUuid+subUuidSuffix+MD5Suffix+".ttf"]:normalUuid+subUuidSuffix,[normalUuid+subUuidSuffix+subUuidSuffix+MD5Suffix+".ttf"]:normalUuid+subUuidSuffix+subUuidSuffix};Object.keys(i).forEach(u=>{it(`c:/xxx/5b/${u} -> `+i[u],()=>{expect(uuidTool.getUuidFromLibPath("c:/xxx/5b/"+u)).to.equal(i[u])})})});