const math=require("../dist/math"),expect=require("chai")["expect"];describe("math工具函数的使用",()=>{describe("clamp",()=>{it("should return val if it is within the range of min and max",()=>{var e=math.clamp(5,0,10);expect(e).to.be.equal(5)}),it("should return min if val is less than min",()=>{var e=math.clamp(-5,0,10);expect(e).to.be.equal(0)}),it("should return max if val is greater than max",()=>{var e=math.clamp(15,0,10);expect(e).to.be.equal(10)}),it("should throw an error if min is greater than max",()=>{var e=math.clamp(5,10,0);expect(e).to.be.equal(0)})}),describe("clamp01",()=>{it("should return 0 if the value is less than 0",()=>{expect(math.clamp01(-1)).to.be.equal(0),expect(math.clamp01(-.5)).to.be.equal(0),expect(math.clamp01(-Number.MIN_VALUE)).to.be.equal(0)}),it("should return 1 if the value is greater than 1",()=>{expect(math.clamp01(2)).to.be.equal(1),expect(math.clamp01(1.5)).to.be.equal(1),expect(math.clamp01(Number.MAX_VALUE)).to.be.equal(1)}),it("should return the value if it is between 0 and 1",()=>{expect(math.clamp01(.5)).to.be.equal(.5),expect(math.clamp01(.75)).to.be.equal(.75),expect(math.clamp01(.9999)).to.be.equal(.9999)}),it("should return 0 if the value is 0",()=>{expect(math.clamp01(0)).to.be.equal(0)}),it("should return 1 if the value is 1",()=>{expect(math.clamp01(1)).to.be.equal(1)})}),describe("add",()=>{it("adds two numbers correctly",()=>{expect(math.add(2,3)).to.be.equal(5),expect(math.add(-1,5)).to.be.equal(4),expect(math.add(0,0)).to.be.equal(0)}),it("adds two strings correctly",()=>{expect(math.add("2","3")).to.be.equal(5),expect(math.add("-1","5")).to.be.equal(4),expect(math.add("0","0")).to.be.equal(0)}),it("converts one number and one string to numbers correctly",()=>{expect(math.add(2,"3")).to.be.equal(5),expect(math.add("-1",5)).to.be.equal(4),expect(math.add(0,"0")).to.be.equal(0)}),it("converts non-numeric strings to 0",()=>{expect(()=>math.add("abc","def")).to.throw(),expect(()=>math.add("123","xyz")).to.throw(),expect(math.add("0","0")).to.be.equal(0)}),it("handles edge cases",()=>{expect(()=>math.add(1/0,-1/0)).to.throw(),expect(()=>math.add(NaN,5)).to.throw(),expect(()=>math.add(0,1/0)).to.throw()}),it("correctly adds floating point numbers with known precision issues",()=>{expect(math.add(.1,.2)).to.be.equal(.3),expect(math.add(.01,.02)).to.be.equal(.03),expect(math.add(.11,.22)).to.be.equal(.33)}),it("handles large floating point numbers that may exhibit precision loss",()=>{expect(math.add(15e15,15e15)).to.be.equal(3e16)}),it("0.000488902 + 0.00000056",()=>{expect(math.add(488902e-9,56e-8)).to.equal(489462e-9)}),it("54.33 + 100",()=>{expect(math.add(54.33,100)).to.equal(154.33)}),it("Illegal Data Validation",()=>{let t=!1;try{math.add(.088888003,"1.2.3")}catch(e){t=!0}expect(t).to.equal(!0)})}),describe("sub",()=>{it("should return the accurate result of subtracting two numbers",()=>{expect(math.sub(10,5)).to.be.equal(5),expect(math.sub("10",5)).to.be.equal(5),expect(math.sub(10,"5")).to.be.equal(5),expect(math.sub("10","5")).to.be.equal(5),expect(math.sub(.3,.1)).to.be.equal(.2)}),it("should handle decimal numbers",()=>{expect(math.sub(10.5,5.2)).to.be.equal(5.3),expect(math.sub("10.5","5.2")).to.be.equal(5.3)}),it("should handle numbers in scientific notation",()=>{expect(math.sub(123e3,4560)).to.be.equal(118440),expect(math.sub("1.23e5","4.56e3")).to.be.equal(118440)}),it("should handle empty string or null as 0",()=>{expect(math.sub("",5)).to.be.equal(-5),expect(math.sub(null,5)).to.be.equal(-5),expect(math.sub(10,"")).to.be.equal(10),expect(math.sub(10,null)).to.be.equal(10)}),it("should handle invalid number strings as 0",()=>{expect(()=>math.sub("abc",5)).to.throw(),expect(()=>math.sub(10,"xyz")).to.throw()}),it("handles edge cases",()=>{expect(()=>math.sub(1/0,-1/0)).to.throw(),expect(()=>math.sub(NaN,5)).to.throw(),expect(()=>math.sub(0,1/0)).to.throw()}),it("should handle large numbers",()=>{expect(math.sub(1e20,1e10)).to.be.equal(9999999999e10),expect(math.sub("1e20","1e10")).to.be.equal(9999999999e10)}),it("0.000488902 - 0.0001",()=>{expect(math.sub(488902e-9,1e-4)).to.equal(388902e-9)}),it("Illegal Data Validation",()=>{let t=!1;try{math.sub(.088888003,"1.2.3")}catch(e){t=!0}expect(t).to.equal(!0)})}),describe("multi",()=>{it("should correctly multiply two numbers",()=>{expect(math.multi(2,3)).to.be.equal(6),expect(math.multi(4,5)).to.be.equal(20),expect(math.multi(-2,3)).to.be.equal(-6),expect(math.multi(2,-3)).to.be.equal(-6),expect(math.multi(-2,-3)).to.be.equal(6)}),it("should correctly multiply two strings",()=>{expect(math.multi("2","3")).to.be.equal(6),expect(math.multi("4","5")).to.be.equal(20),expect(math.multi("-2","3")).to.be.equal(-6),expect(math.multi("2","-3")).to.be.equal(-6),expect(math.multi("-2","-3")).to.be.equal(6)}),it("should correctly multiply mixed type arguments",()=>{expect(math.multi(2,"3")).to.be.equal(6),expect(math.multi("4",5)).to.be.equal(20),expect(math.multi(-2,"3")).to.be.equal(-6),expect(math.multi("2",-3)).to.be.equal(-6),expect(math.multi("-2","-3")).to.be.equal(6)}),it("should handle boundary conditions",()=>{expect(math.multi(0,0)).to.be.equal(0),expect(math.multi(0,1)).to.be.equal(0),expect(math.multi(1,0)).to.be.equal(0),expect(math.multi(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER)).to.be.equal(Number.MAX_SAFE_INTEGER**2),expect(math.multi(Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER)).to.be.equal(Number.MIN_SAFE_INTEGER**2)}),it("handles edge cases",()=>{expect(()=>math.multi(1/0,-1/0)).to.throw(),expect(()=>math.multi(NaN,5)).to.throw(),expect(()=>math.multi(0,1/0)).to.throw()}),it("should handle invalid arguments",()=>{expect(()=>math.multi("abc",3)).to.throw(),expect(()=>math.multi(2,"def")).to.throw(),expect(()=>math.multi("abc","def")).to.throw()}),it("0.00002 * 0.377",()=>{expect(math.multi(2e-5,.377)).to.equal(754e-8)}),it("0.0003 * 100000",()=>{expect(math.multi(3e-4,1e5)).to.equal(30)}),it("0.088888003 * 0",()=>{expect(math.multi(.088888003,0)).to.equal(0)}),it("0.0003 * 100000 String passing support",()=>{expect(math.multi("0.0003","100000")).to.equal(30)}),it("Illegal Data Validation",()=>{let t=!1;try{math.multi(.088888003,"1.2.3")}catch(e){t=!0}expect(t).to.equal(!0)})}),describe("divide",()=>{it("should return positive infinity if divisor is 0 and dividend is positive",()=>{expect(math.divide(10,0)).to.be.equal(Number.POSITIVE_INFINITY)}),it("should return negative infinity if divisor is 0 and dividend is negative",()=>{expect(math.divide(-10,0)).to.be.equal(Number.NEGATIVE_INFINITY),expect(math.divide(0,0)).to.be.equal(Number.NEGATIVE_INFINITY)}),it("should return the correct result for normal division",()=>{expect(math.divide(10,2)).to.be.equal(5),expect(math.divide(-10,2)).to.be.equal(-5),expect(math.divide(10,-2)).to.be.equal(-5),expect(math.divide(-10,-2)).to.be.equal(5)}),it("should handle string inputs and return the correct result",()=>{expect(math.divide("10","2")).to.be.equal(5),expect(math.divide("-10","2")).to.be.equal(-5),expect(math.divide("10","-2")).to.be.equal(-5),expect(math.divide("-10","-2")).to.be.equal(5)}),it("should handle decimal inputs and return the correct result",()=>{expect(math.divide(10.5,2.5)).to.be.equal(4.2),expect(math.divide(-10.5,2.5)).to.be.equal(-4.2),expect(math.divide(10.5,-2.5)).to.be.equal(-4.2),expect(math.divide(-10.5,-2.5)).to.be.equal(4.2)}),it("handles edge cases",()=>{expect(()=>math.divide(1/0,-1/0)).to.throw(),expect(()=>math.divide(NaN,5)).to.throw(),expect(()=>math.divide(0,1/0)).to.throw()}),it("0.00099 / 0.0003",()=>{expect(math.divide(99e-5,3e-4)).to.equal(3.3)}),it("54.33 / 100",()=>{expect(math.divide(54.33,100)).to.equal(.5433)}),it("0.00099 / 0",()=>{expect(math.divide(99e-5,0)).to.equal(Number.POSITIVE_INFINITY)}),it("Illegal Data Validation",()=>{let t=!1;try{math.divide(.088888003,"1.2.3")}catch(e){t=!0}expect(t).to.equal(!0)})}),describe("toFixed",()=>{it("should round down the number to specified decimal places",()=>{expect(math.toFixed(1.234,2)).to.be.equal(1.23)}),it("should round up the number to specified decimal places",()=>{expect(math.toFixed(1.256,2)).to.be.equal(1.26)}),it("should not change the integer part of the number",()=>{expect(math.toFixed(1234.567,2)).to.be.equal(1234.57)}),it("should handle negative numbers correctly",()=>{expect(math.toFixed(-1.234,2)).to.be.equal(-1.23)}),it("should return the original number if num is 0",()=>{expect(math.toFixed(1.234,0)).to.be.equal(1)}),it("should handle rounding when num is greater than the number of decimal places",()=>{expect(math.toFixed(1.23,4)).to.be.equal(1.23)}),it("should handle non-numeric input by returning NaN",()=>{expect(math.toFixed("abc",2)).to.be.NaN})})});